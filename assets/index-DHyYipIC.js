(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))l(d);new MutationObserver(d=>{for(const h of d)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function i(d){const h={};return d.integrity&&(h.integrity=d.integrity),d.referrerPolicy&&(h.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?h.credentials="include":d.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function l(d){if(d.ep)return;d.ep=!0;const h=i(d);fetch(d.href,h)}})();var Pc={exports:{}},zr={};var zm;function $b(){if(zm)return zr;zm=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function i(l,d,h){var f=null;if(h!==void 0&&(f=""+h),d.key!==void 0&&(f=""+d.key),"key"in d){h={};for(var y in d)y!=="key"&&(h[y]=d[y])}else h=d;return d=h.ref,{$$typeof:s,type:l,key:f,ref:d!==void 0?d:null,props:h}}return zr.Fragment=n,zr.jsx=i,zr.jsxs=i,zr}var Um;function Hb(){return Um||(Um=1,Pc.exports=$b()),Pc.exports}var c=Hb(),Ic={exports:{}},he={};var Bm;function Gb(){if(Bm)return he;Bm=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),f=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),x=Symbol.iterator;function w(T){return T===null||typeof T!="object"?null:(T=x&&T[x]||T["@@iterator"],typeof T=="function"?T:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,O={};function B(T,L,V){this.props=T,this.context=L,this.refs=O,this.updater=V||A}B.prototype.isReactComponent={},B.prototype.setState=function(T,L){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,L,"setState")},B.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function q(){}q.prototype=B.prototype;function H(T,L,V){this.props=T,this.context=L,this.refs=O,this.updater=V||A}var Q=H.prototype=new q;Q.constructor=H,N(Q,B.prototype),Q.isPureReactComponent=!0;var le=Array.isArray;function se(){}var te={H:null,A:null,T:null,S:null},Z=Object.prototype.hasOwnProperty;function J(T,L,V){var I=V.ref;return{$$typeof:s,type:T,key:L,ref:I!==void 0?I:null,props:V}}function Re(T,L){return J(T.type,L,T.props)}function Ke(T){return typeof T=="object"&&T!==null&&T.$$typeof===s}function Ce(T){var L={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(V){return L[V]})}var lt=/\/+/g;function Ie(T,L){return typeof T=="object"&&T!==null&&T.key!=null?Ce(""+T.key):L.toString(36)}function Le(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(se,se):(T.status="pending",T.then(function(L){T.status==="pending"&&(T.status="fulfilled",T.value=L)},function(L){T.status==="pending"&&(T.status="rejected",T.reason=L)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function M(T,L,V,I,de){var ye=typeof T;(ye==="undefined"||ye==="boolean")&&(T=null);var ue=!1;if(T===null)ue=!0;else switch(ye){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(T.$$typeof){case s:case n:ue=!0;break;case v:return ue=T._init,M(ue(T._payload),L,V,I,de)}}if(ue)return de=de(T),ue=I===""?"."+Ie(T,0):I,le(de)?(V="",ue!=null&&(V=ue.replace(lt,"$&/")+"/"),M(de,L,V,"",function(ca){return ca})):de!=null&&(Ke(de)&&(de=Re(de,V+(de.key==null||T&&T.key===de.key?"":(""+de.key).replace(lt,"$&/")+"/")+ue)),L.push(de)),1;ue=0;var ft=I===""?".":I+":";if(le(T))for(var He=0;He<T.length;He++)I=T[He],ye=ft+Ie(I,He),ue+=M(I,L,V,ye,de);else if(He=w(T),typeof He=="function")for(T=He.call(T),He=0;!(I=T.next()).done;)I=I.value,ye=ft+Ie(I,He++),ue+=M(I,L,V,ye,de);else if(ye==="object"){if(typeof T.then=="function")return M(Le(T),L,V,I,de);throw L=String(T),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return ue}function K(T,L,V){if(T==null)return T;var I=[],de=0;return M(T,I,"","",function(ye){return L.call(V,ye,de++)}),I}function G(T){if(T._status===-1){var L=T._result;L=L(),L.then(function(V){(T._status===0||T._status===-1)&&(T._status=1,T._result=V)},function(V){(T._status===0||T._status===-1)&&(T._status=2,T._result=V)}),T._status===-1&&(T._status=0,T._result=L)}if(T._status===1)return T._result.default;throw T._result}var Ee=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},Ae={map:K,forEach:function(T,L,V){K(T,function(){L.apply(this,arguments)},V)},count:function(T){var L=0;return K(T,function(){L++}),L},toArray:function(T){return K(T,function(L){return L})||[]},only:function(T){if(!Ke(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return he.Activity=_,he.Children=Ae,he.Component=B,he.Fragment=i,he.Profiler=d,he.PureComponent=H,he.StrictMode=l,he.Suspense=g,he.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=te,he.__COMPILER_RUNTIME={__proto__:null,c:function(T){return te.H.useMemoCache(T)}},he.cache=function(T){return function(){return T.apply(null,arguments)}},he.cacheSignal=function(){return null},he.cloneElement=function(T,L,V){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var I=N({},T.props),de=T.key;if(L!=null)for(ye in L.key!==void 0&&(de=""+L.key),L)!Z.call(L,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&L.ref===void 0||(I[ye]=L[ye]);var ye=arguments.length-2;if(ye===1)I.children=V;else if(1<ye){for(var ue=Array(ye),ft=0;ft<ye;ft++)ue[ft]=arguments[ft+2];I.children=ue}return J(T.type,de,I)},he.createContext=function(T){return T={$$typeof:f,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:h,_context:T},T},he.createElement=function(T,L,V){var I,de={},ye=null;if(L!=null)for(I in L.key!==void 0&&(ye=""+L.key),L)Z.call(L,I)&&I!=="key"&&I!=="__self"&&I!=="__source"&&(de[I]=L[I]);var ue=arguments.length-2;if(ue===1)de.children=V;else if(1<ue){for(var ft=Array(ue),He=0;He<ue;He++)ft[He]=arguments[He+2];de.children=ft}if(T&&T.defaultProps)for(I in ue=T.defaultProps,ue)de[I]===void 0&&(de[I]=ue[I]);return J(T,ye,de)},he.createRef=function(){return{current:null}},he.forwardRef=function(T){return{$$typeof:y,render:T}},he.isValidElement=Ke,he.lazy=function(T){return{$$typeof:v,_payload:{_status:-1,_result:T},_init:G}},he.memo=function(T,L){return{$$typeof:p,type:T,compare:L===void 0?null:L}},he.startTransition=function(T){var L=te.T,V={};te.T=V;try{var I=T(),de=te.S;de!==null&&de(V,I),typeof I=="object"&&I!==null&&typeof I.then=="function"&&I.then(se,Ee)}catch(ye){Ee(ye)}finally{L!==null&&V.types!==null&&(L.types=V.types),te.T=L}},he.unstable_useCacheRefresh=function(){return te.H.useCacheRefresh()},he.use=function(T){return te.H.use(T)},he.useActionState=function(T,L,V){return te.H.useActionState(T,L,V)},he.useCallback=function(T,L){return te.H.useCallback(T,L)},he.useContext=function(T){return te.H.useContext(T)},he.useDebugValue=function(){},he.useDeferredValue=function(T,L){return te.H.useDeferredValue(T,L)},he.useEffect=function(T,L){return te.H.useEffect(T,L)},he.useEffectEvent=function(T){return te.H.useEffectEvent(T)},he.useId=function(){return te.H.useId()},he.useImperativeHandle=function(T,L,V){return te.H.useImperativeHandle(T,L,V)},he.useInsertionEffect=function(T,L){return te.H.useInsertionEffect(T,L)},he.useLayoutEffect=function(T,L){return te.H.useLayoutEffect(T,L)},he.useMemo=function(T,L){return te.H.useMemo(T,L)},he.useOptimistic=function(T,L){return te.H.useOptimistic(T,L)},he.useReducer=function(T,L,V){return te.H.useReducer(T,L,V)},he.useRef=function(T){return te.H.useRef(T)},he.useState=function(T){return te.H.useState(T)},he.useSyncExternalStore=function(T,L,V){return te.H.useSyncExternalStore(T,L,V)},he.useTransition=function(){return te.H.useTransition()},he.version="19.2.3",he}var Lm;function ju(){return Lm||(Lm=1,Ic.exports=Gb()),Ic.exports}var P=ju(),Jc={exports:{}},Ur={},Qc={exports:{}},Xc={};var $m;function qb(){return $m||($m=1,(function(s){function n(M,K){var G=M.length;M.push(K);e:for(;0<G;){var Ee=G-1>>>1,Ae=M[Ee];if(0<d(Ae,K))M[Ee]=K,M[G]=Ae,G=Ee;else break e}}function i(M){return M.length===0?null:M[0]}function l(M){if(M.length===0)return null;var K=M[0],G=M.pop();if(G!==K){M[0]=G;e:for(var Ee=0,Ae=M.length,T=Ae>>>1;Ee<T;){var L=2*(Ee+1)-1,V=M[L],I=L+1,de=M[I];if(0>d(V,G))I<Ae&&0>d(de,V)?(M[Ee]=de,M[I]=G,Ee=I):(M[Ee]=V,M[L]=G,Ee=L);else if(I<Ae&&0>d(de,G))M[Ee]=de,M[I]=G,Ee=I;else break e}}return K}function d(M,K){var G=M.sortIndex-K.sortIndex;return G!==0?G:M.id-K.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var f=Date,y=f.now();s.unstable_now=function(){return f.now()-y}}var g=[],p=[],v=1,_=null,x=3,w=!1,A=!1,N=!1,O=!1,B=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function Q(M){for(var K=i(p);K!==null;){if(K.callback===null)l(p);else if(K.startTime<=M)l(p),K.sortIndex=K.expirationTime,n(g,K);else break;K=i(p)}}function le(M){if(N=!1,Q(M),!A)if(i(g)!==null)A=!0,se||(se=!0,Ce());else{var K=i(p);K!==null&&Le(le,K.startTime-M)}}var se=!1,te=-1,Z=5,J=-1;function Re(){return O?!0:!(s.unstable_now()-J<Z)}function Ke(){if(O=!1,se){var M=s.unstable_now();J=M;var K=!0;try{e:{A=!1,N&&(N=!1,q(te),te=-1),w=!0;var G=x;try{t:{for(Q(M),_=i(g);_!==null&&!(_.expirationTime>M&&Re());){var Ee=_.callback;if(typeof Ee=="function"){_.callback=null,x=_.priorityLevel;var Ae=Ee(_.expirationTime<=M);if(M=s.unstable_now(),typeof Ae=="function"){_.callback=Ae,Q(M),K=!0;break t}_===i(g)&&l(g),Q(M)}else l(g);_=i(g)}if(_!==null)K=!0;else{var T=i(p);T!==null&&Le(le,T.startTime-M),K=!1}}break e}finally{_=null,x=G,w=!1}K=void 0}}finally{K?Ce():se=!1}}}var Ce;if(typeof H=="function")Ce=function(){H(Ke)};else if(typeof MessageChannel<"u"){var lt=new MessageChannel,Ie=lt.port2;lt.port1.onmessage=Ke,Ce=function(){Ie.postMessage(null)}}else Ce=function(){B(Ke,0)};function Le(M,K){te=B(function(){M(s.unstable_now())},K)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(M){M.callback=null},s.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<M?Math.floor(1e3/M):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_next=function(M){switch(x){case 1:case 2:case 3:var K=3;break;default:K=x}var G=x;x=K;try{return M()}finally{x=G}},s.unstable_requestPaint=function(){O=!0},s.unstable_runWithPriority=function(M,K){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var G=x;x=M;try{return K()}finally{x=G}},s.unstable_scheduleCallback=function(M,K,G){var Ee=s.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?Ee+G:Ee):G=Ee,M){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=G+Ae,M={id:v++,callback:K,priorityLevel:M,startTime:G,expirationTime:Ae,sortIndex:-1},G>Ee?(M.sortIndex=G,n(p,M),i(g)===null&&M===i(p)&&(N?(q(te),te=-1):N=!0,Le(le,G-Ee))):(M.sortIndex=Ae,n(g,M),A||w||(A=!0,se||(se=!0,Ce()))),M},s.unstable_shouldYield=Re,s.unstable_wrapCallback=function(M){var K=x;return function(){var G=x;x=K;try{return M.apply(this,arguments)}finally{x=G}}}})(Xc)),Xc}var Hm;function Vb(){return Hm||(Hm=1,Qc.exports=qb()),Qc.exports}var Zc={exports:{}},jt={};var Gm;function Yb(){if(Gm)return jt;Gm=1;var s=ju();function n(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(n(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},d=Symbol.for("react.portal");function h(g,p,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:_==null?null:""+_,children:g,containerInfo:p,implementation:v}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,jt.createPortal=function(g,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(n(299));return h(g,p,null,v)},jt.flushSync=function(g){var p=f.T,v=l.p;try{if(f.T=null,l.p=2,g)return g()}finally{f.T=p,l.p=v,l.d.f()}},jt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(g,p))},jt.prefetchDNS=function(g){typeof g=="string"&&l.d.D(g)},jt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var v=p.as,_=y(v,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?l.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:x,fetchPriority:w}):v==="script"&&l.d.X(g,{crossOrigin:_,integrity:x,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},jt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=y(p.as,p.crossOrigin);l.d.M(g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(g)},jt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,_=y(v,p.crossOrigin);l.d.L(g,v,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},jt.preloadModule=function(g,p){if(typeof g=="string")if(p){var v=y(p.as,p.crossOrigin);l.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(g)},jt.requestFormReset=function(g){l.d.r(g)},jt.unstable_batchedUpdates=function(g,p){return g(p)},jt.useFormState=function(g,p,v){return f.H.useFormState(g,p,v)},jt.useFormStatus=function(){return f.H.useHostTransitionStatus()},jt.version="19.2.3",jt}var qm;function Op(){if(qm)return Zc.exports;qm=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Zc.exports=Yb(),Zc.exports}var Vm;function Kb(){if(Vm)return Ur;Vm=1;var s=Vb(),n=ju(),i=Op();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(h(e)!==e)throw Error(l(188))}function p(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(l(188));return t!==e?null:e}for(var a=e,r=t;;){var o=a.return;if(o===null)break;var u=o.alternate;if(u===null){if(r=o.return,r!==null){a=r;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===a)return g(o),e;if(u===r)return g(o),t;u=u.sibling}throw Error(l(188))}if(a.return!==r.return)a=o,r=u;else{for(var m=!1,b=o.child;b;){if(b===a){m=!0,a=o,r=u;break}if(b===r){m=!0,r=o,a=u;break}b=b.sibling}if(!m){for(b=u.child;b;){if(b===a){m=!0,a=u,r=o;break}if(b===r){m=!0,r=u,a=o;break}b=b.sibling}if(!m)throw Error(l(189))}}if(a.alternate!==r)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var _=Object.assign,x=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),H=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),Re=Symbol.for("react.memo_cache_sentinel"),Ke=Symbol.iterator;function Ce(e){return e===null||typeof e!="object"?null:(e=Ke&&e[Ke]||e["@@iterator"],typeof e=="function"?e:null)}var lt=Symbol.for("react.client.reference");function Ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===lt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case N:return"Fragment";case B:return"Profiler";case O:return"StrictMode";case le:return"Suspense";case se:return"SuspenseList";case J:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case A:return"Portal";case H:return e.displayName||"Context";case q:return(e._context.displayName||"Context")+".Consumer";case Q:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case te:return t=e.displayName||null,t!==null?t:Ie(e.type)||"Memo";case Z:t=e._payload,e=e._init;try{return Ie(e(t))}catch{}}return null}var Le=Array.isArray,M=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},Ee=[],Ae=-1;function T(e){return{current:e}}function L(e){0>Ae||(e.current=Ee[Ae],Ee[Ae]=null,Ae--)}function V(e,t){Ae++,Ee[Ae]=e.current,e.current=t}var I=T(null),de=T(null),ye=T(null),ue=T(null);function ft(e,t){switch(V(ye,t),V(de,e),V(I,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?sm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=sm(t),e=rm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(I),V(I,e)}function He(){L(I),L(de),L(ye)}function ca(e){e.memoizedState!==null&&V(ue,e);var t=I.current,a=rm(t,e.type);t!==a&&(V(de,e),V(I,a))}function Ua(e){de.current===e&&(L(I),L(de)),ue.current===e&&(L(ue),Cr._currentValue=G)}var Ba,Du;function pn(e){if(Ba===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Ba=t&&t[1]||"",Du=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ba+e+Du}var kl=!1;function Rl(e,t){if(!e||kl)return"";kl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(D){var C=D}Reflect.construct(e,[],$)}else{try{$.call()}catch(D){C=D}e.call($.prototype)}}else{try{throw Error()}catch(D){C=D}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(D){if(D&&C&&typeof D.stack=="string")return[D.stack,C.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=r.DetermineComponentFrameRoot(),m=u[0],b=u[1];if(m&&b){var S=m.split(`
`),R=b.split(`
`);for(o=r=0;r<S.length&&!S[r].includes("DetermineComponentFrameRoot");)r++;for(;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;if(r===S.length||o===R.length)for(r=S.length-1,o=R.length-1;1<=r&&0<=o&&S[r]!==R[o];)o--;for(;1<=r&&0<=o;r--,o--)if(S[r]!==R[o]){if(r!==1||o!==1)do if(r--,o--,0>o||S[r]!==R[o]){var z=`
`+S[r].replace(" at new "," at ");return e.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",e.displayName)),z}while(1<=r&&0<=o);break}}}finally{kl=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?pn(a):""}function gg(e,t){switch(e.tag){case 26:case 27:case 5:return pn(e.type);case 16:return pn("Lazy");case 13:return e.child!==t&&t!==null?pn("Suspense Fallback"):pn("Suspense");case 19:return pn("SuspenseList");case 0:case 15:return Rl(e.type,!1);case 11:return Rl(e.type.render,!1);case 1:return Rl(e.type,!0);case 31:return pn("Activity");default:return""}}function Mu(e){try{var t="",a=null;do t+=gg(e,a),a=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var Al=Object.prototype.hasOwnProperty,Cl=s.unstable_scheduleCallback,Ol=s.unstable_cancelCallback,yg=s.unstable_shouldYield,bg=s.unstable_requestPaint,Mt=s.unstable_now,vg=s.unstable_getCurrentPriorityLevel,zu=s.unstable_ImmediatePriority,Uu=s.unstable_UserBlockingPriority,Xr=s.unstable_NormalPriority,xg=s.unstable_LowPriority,Bu=s.unstable_IdlePriority,wg=s.log,Sg=s.unstable_setDisableYieldValue,Vs=null,zt=null;function La(e){if(typeof wg=="function"&&Sg(e),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(Vs,e)}catch{}}var Ut=Math.clz32?Math.clz32:Tg,_g=Math.log,jg=Math.LN2;function Tg(e){return e>>>=0,e===0?32:31-(_g(e)/jg|0)|0}var Zr=256,Wr=262144,Fr=4194304;function gn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ei(e,t,a){var r=e.pendingLanes;if(r===0)return 0;var o=0,u=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var b=r&134217727;return b!==0?(r=b&~u,r!==0?o=gn(r):(m&=b,m!==0?o=gn(m):a||(a=b&~e,a!==0&&(o=gn(a))))):(b=r&~u,b!==0?o=gn(b):m!==0?o=gn(m):a||(a=r&~e,a!==0&&(o=gn(a)))),o===0?0:t!==0&&t!==o&&(t&u)===0&&(u=o&-o,a=t&-t,u>=a||u===32&&(a&4194048)!==0)?t:o}function Ys(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ng(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lu(){var e=Fr;return Fr<<=1,(Fr&62914560)===0&&(Fr=4194304),e}function Dl(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Ks(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Eg(e,t,a,r,o,u){var m=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var b=e.entanglements,S=e.expirationTimes,R=e.hiddenUpdates;for(a=m&~a;0<a;){var z=31-Ut(a),$=1<<z;b[z]=0,S[z]=-1;var C=R[z];if(C!==null)for(R[z]=null,z=0;z<C.length;z++){var D=C[z];D!==null&&(D.lane&=-536870913)}a&=~$}r!==0&&$u(e,r,0),u!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=u&~(m&~t))}function $u(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Ut(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|a&261930}function Hu(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var r=31-Ut(a),o=1<<r;o&t|e[r]&t&&(e[r]|=t),a&=~o}}function Gu(e,t){var a=t&-t;return a=(a&42)!==0?1:Ml(a),(a&(e.suspendedLanes|t))!==0?0:a}function Ml(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function zl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function qu(){var e=K.p;return e!==0?e:(e=window.event,e===void 0?32:km(e.type))}function Vu(e,t){var a=K.p;try{return K.p=e,t()}finally{K.p=a}}var $a=Math.random().toString(36).slice(2),yt="__reactFiber$"+$a,Et="__reactProps$"+$a,Vn="__reactContainer$"+$a,Ul="__reactEvents$"+$a,kg="__reactListeners$"+$a,Rg="__reactHandles$"+$a,Yu="__reactResources$"+$a,Ps="__reactMarker$"+$a;function Bl(e){delete e[yt],delete e[Et],delete e[Ul],delete e[kg],delete e[Rg]}function Yn(e){var t=e[yt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Vn]||a[yt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=hm(e);e!==null;){if(a=e[yt])return a;e=hm(e)}return t}e=a,a=e.parentNode}return null}function Kn(e){if(e=e[yt]||e[Vn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Is(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function Pn(e){var t=e[Yu];return t||(t=e[Yu]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function mt(e){e[Ps]=!0}var Ku=new Set,Pu={};function yn(e,t){In(e,t),In(e+"Capture",t)}function In(e,t){for(Pu[e]=t,e=0;e<t.length;e++)Ku.add(t[e])}var Ag=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Iu={},Ju={};function Cg(e){return Al.call(Ju,e)?!0:Al.call(Iu,e)?!1:Ag.test(e)?Ju[e]=!0:(Iu[e]=!0,!1)}function ti(e,t,a){if(Cg(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function ai(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function pa(e,t,a,r){if(r===null)e.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+r)}}function It(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Qu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Og(e,t,a){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,u=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(m){a=""+m,u.call(this,m)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(m){a=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ll(e){if(!e._valueTracker){var t=Qu(e)?"checked":"value";e._valueTracker=Og(e,t,""+e[t])}}function Xu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),r="";return e&&(r=Qu(e)?e.checked?"true":"false":e.value),e=r,e!==a?(t.setValue(e),!0):!1}function ni(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Dg=/[\n"\\]/g;function Jt(e){return e.replace(Dg,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function $l(e,t,a,r,o,u,m,b){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+It(t)):e.value!==""+It(t)&&(e.value=""+It(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?Hl(e,m,It(t)):a!=null?Hl(e,m,It(a)):r!=null&&e.removeAttribute("value"),o==null&&u!=null&&(e.defaultChecked=!!u),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+It(b):e.removeAttribute("name")}function Zu(e,t,a,r,o,u,m,b){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||a!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){Ll(e);return}a=a!=null?""+It(a):"",t=t!=null?""+It(t):a,b||t===e.value||(e.value=t),e.defaultValue=t}r=r??o,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=b?e.checked:!!r,e.defaultChecked=!!r,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),Ll(e)}function Hl(e,t,a){t==="number"&&ni(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Jn(e,t,a,r){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&r&&(e[a].defaultSelected=!0)}else{for(a=""+It(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Wu(e,t,a){if(t!=null&&(t=""+It(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+It(a):""}function Fu(e,t,a,r){if(t==null){if(r!=null){if(a!=null)throw Error(l(92));if(Le(r)){if(1<r.length)throw Error(l(93));r=r[0]}a=r}a==null&&(a=""),t=a}a=It(t),e.defaultValue=a,r=e.textContent,r===a&&r!==""&&r!==null&&(e.value=r),Ll(e)}function Qn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Mg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ed(e,t,a){var r=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,a):typeof a!="number"||a===0||Mg.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function td(e,t,a){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,a!=null){for(var r in a)!a.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&a[o]!==r&&ed(e,o,r)}else for(var u in t)t.hasOwnProperty(u)&&ed(e,u,t[u])}function Gl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ug=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function si(e){return Ug.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ga(){}var ql=null;function Vl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xn=null,Zn=null;function ad(e){var t=Kn(e);if(t&&(e=t.stateNode)){var a=e[Et]||null;e:switch(e=t.stateNode,t.type){case"input":if($l(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Jt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var r=a[t];if(r!==e&&r.form===e.form){var o=r[Et]||null;if(!o)throw Error(l(90));$l(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)r=a[t],r.form===e.form&&Xu(r)}break e;case"textarea":Wu(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Jn(e,!!a.multiple,t,!1)}}}var Yl=!1;function nd(e,t,a){if(Yl)return e(t,a);Yl=!0;try{var r=e(t);return r}finally{if(Yl=!1,(Xn!==null||Zn!==null)&&(Ki(),Xn&&(t=Xn,e=Zn,Zn=Xn=null,ad(t),e)))for(t=0;t<e.length;t++)ad(e[t])}}function Js(e,t){var a=e.stateNode;if(a===null)return null;var r=a[Et]||null;if(r===null)return null;a=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,t,typeof a));return a}var ya=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kl=!1;if(ya)try{var Qs={};Object.defineProperty(Qs,"passive",{get:function(){Kl=!0}}),window.addEventListener("test",Qs,Qs),window.removeEventListener("test",Qs,Qs)}catch{Kl=!1}var Ha=null,Pl=null,ri=null;function sd(){if(ri)return ri;var e,t=Pl,a=t.length,r,o="value"in Ha?Ha.value:Ha.textContent,u=o.length;for(e=0;e<a&&t[e]===o[e];e++);var m=a-e;for(r=1;r<=m&&t[a-r]===o[u-r];r++);return ri=o.slice(e,1<r?1-r:void 0)}function ii(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function li(){return!0}function rd(){return!1}function kt(e){function t(a,r,o,u,m){this._reactName=a,this._targetInst=o,this.type=r,this.nativeEvent=u,this.target=m,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(a=e[b],this[b]=a?a(u):u[b]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?li:rd,this.isPropagationStopped=rd,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=li)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=li)},persist:function(){},isPersistent:li}),t}var bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oi=kt(bn),Xs=_({},bn,{view:0,detail:0}),Bg=kt(Xs),Il,Jl,Zs,ci=_({},Xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zs&&(Zs&&e.type==="mousemove"?(Il=e.screenX-Zs.screenX,Jl=e.screenY-Zs.screenY):Jl=Il=0,Zs=e),Il)},movementY:function(e){return"movementY"in e?e.movementY:Jl}}),id=kt(ci),Lg=_({},ci,{dataTransfer:0}),$g=kt(Lg),Hg=_({},Xs,{relatedTarget:0}),Ql=kt(Hg),Gg=_({},bn,{animationName:0,elapsedTime:0,pseudoElement:0}),qg=kt(Gg),Vg=_({},bn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yg=kt(Vg),Kg=_({},bn,{data:0}),ld=kt(Kg),Pg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ig={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Jg[e])?!!t[e]:!1}function Xl(){return Qg}var Xg=_({},Xs,{key:function(e){if(e.key){var t=Pg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ii(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ig[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xl,charCode:function(e){return e.type==="keypress"?ii(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ii(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Zg=kt(Xg),Wg=_({},ci,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),od=kt(Wg),Fg=_({},Xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xl}),ey=kt(Fg),ty=_({},bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ay=kt(ty),ny=_({},ci,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sy=kt(ny),ry=_({},bn,{newState:0,oldState:0}),iy=kt(ry),ly=[9,13,27,32],Zl=ya&&"CompositionEvent"in window,Ws=null;ya&&"documentMode"in document&&(Ws=document.documentMode);var oy=ya&&"TextEvent"in window&&!Ws,cd=ya&&(!Zl||Ws&&8<Ws&&11>=Ws),ud=" ",dd=!1;function hd(e,t){switch(e){case"keyup":return ly.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wn=!1;function cy(e,t){switch(e){case"compositionend":return fd(t);case"keypress":return t.which!==32?null:(dd=!0,ud);case"textInput":return e=t.data,e===ud&&dd?null:e;default:return null}}function uy(e,t){if(Wn)return e==="compositionend"||!Zl&&hd(e,t)?(e=sd(),ri=Pl=Ha=null,Wn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return cd&&t.locale!=="ko"?null:t.data;default:return null}}var dy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function md(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!dy[e.type]:t==="textarea"}function pd(e,t,a,r){Xn?Zn?Zn.push(r):Zn=[r]:Xn=r,t=Wi(t,"onChange"),0<t.length&&(a=new oi("onChange","change",null,a,r),e.push({event:a,listeners:t}))}var Fs=null,er=null;function hy(e){Wf(e,0)}function ui(e){var t=Is(e);if(Xu(t))return e}function gd(e,t){if(e==="change")return t}var yd=!1;if(ya){var Wl;if(ya){var Fl="oninput"in document;if(!Fl){var bd=document.createElement("div");bd.setAttribute("oninput","return;"),Fl=typeof bd.oninput=="function"}Wl=Fl}else Wl=!1;yd=Wl&&(!document.documentMode||9<document.documentMode)}function vd(){Fs&&(Fs.detachEvent("onpropertychange",xd),er=Fs=null)}function xd(e){if(e.propertyName==="value"&&ui(er)){var t=[];pd(t,er,e,Vl(e)),nd(hy,t)}}function fy(e,t,a){e==="focusin"?(vd(),Fs=t,er=a,Fs.attachEvent("onpropertychange",xd)):e==="focusout"&&vd()}function my(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ui(er)}function py(e,t){if(e==="click")return ui(t)}function gy(e,t){if(e==="input"||e==="change")return ui(t)}function yy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bt=typeof Object.is=="function"?Object.is:yy;function tr(e,t){if(Bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),r=Object.keys(t);if(a.length!==r.length)return!1;for(r=0;r<a.length;r++){var o=a[r];if(!Al.call(t,o)||!Bt(e[o],t[o]))return!1}return!0}function wd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Sd(e,t){var a=wd(e);e=0;for(var r;a;){if(a.nodeType===3){if(r=e+a.textContent.length,e<=t&&r>=t)return{node:a,offset:t-e};e=r}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=wd(a)}}function _d(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_d(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ni(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=ni(e.document)}return t}function eo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var by=ya&&"documentMode"in document&&11>=document.documentMode,Fn=null,to=null,ar=null,ao=!1;function Td(e,t,a){var r=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ao||Fn==null||Fn!==ni(r)||(r=Fn,"selectionStart"in r&&eo(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ar&&tr(ar,r)||(ar=r,r=Wi(to,"onSelect"),0<r.length&&(t=new oi("onSelect","select",null,t,a),e.push({event:t,listeners:r}),t.target=Fn)))}function vn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var es={animationend:vn("Animation","AnimationEnd"),animationiteration:vn("Animation","AnimationIteration"),animationstart:vn("Animation","AnimationStart"),transitionrun:vn("Transition","TransitionRun"),transitionstart:vn("Transition","TransitionStart"),transitioncancel:vn("Transition","TransitionCancel"),transitionend:vn("Transition","TransitionEnd")},no={},Nd={};ya&&(Nd=document.createElement("div").style,"AnimationEvent"in window||(delete es.animationend.animation,delete es.animationiteration.animation,delete es.animationstart.animation),"TransitionEvent"in window||delete es.transitionend.transition);function xn(e){if(no[e])return no[e];if(!es[e])return e;var t=es[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Nd)return no[e]=t[a];return e}var Ed=xn("animationend"),kd=xn("animationiteration"),Rd=xn("animationstart"),vy=xn("transitionrun"),xy=xn("transitionstart"),wy=xn("transitioncancel"),Ad=xn("transitionend"),Cd=new Map,so="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");so.push("scrollEnd");function na(e,t){Cd.set(e,t),yn(t,[e])}var di=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Qt=[],ts=0,ro=0;function hi(){for(var e=ts,t=ro=ts=0;t<e;){var a=Qt[t];Qt[t++]=null;var r=Qt[t];Qt[t++]=null;var o=Qt[t];Qt[t++]=null;var u=Qt[t];if(Qt[t++]=null,r!==null&&o!==null){var m=r.pending;m===null?o.next=o:(o.next=m.next,m.next=o),r.pending=o}u!==0&&Od(a,o,u)}}function fi(e,t,a,r){Qt[ts++]=e,Qt[ts++]=t,Qt[ts++]=a,Qt[ts++]=r,ro|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function io(e,t,a,r){return fi(e,t,a,r),mi(e)}function wn(e,t){return fi(e,null,null,t),mi(e)}function Od(e,t,a){e.lanes|=a;var r=e.alternate;r!==null&&(r.lanes|=a);for(var o=!1,u=e.return;u!==null;)u.childLanes|=a,r=u.alternate,r!==null&&(r.childLanes|=a),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(o=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,o&&t!==null&&(o=31-Ut(a),e=u.hiddenUpdates,r=e[o],r===null?e[o]=[t]:r.push(t),t.lane=a|536870912),u):null}function mi(e){if(50<jr)throw jr=0,gc=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var as={};function Sy(e,t,a,r){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(e,t,a,r){return new Sy(e,t,a,r)}function lo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ba(e,t){var a=e.alternate;return a===null?(a=Lt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Dd(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function pi(e,t,a,r,o,u){var m=0;if(r=e,typeof e=="function")lo(e)&&(m=1);else if(typeof e=="string")m=Eb(e,a,I.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case J:return e=Lt(31,a,t,o),e.elementType=J,e.lanes=u,e;case N:return Sn(a.children,o,u,t);case O:m=8,o|=24;break;case B:return e=Lt(12,a,t,o|2),e.elementType=B,e.lanes=u,e;case le:return e=Lt(13,a,t,o),e.elementType=le,e.lanes=u,e;case se:return e=Lt(19,a,t,o),e.elementType=se,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case H:m=10;break e;case q:m=9;break e;case Q:m=11;break e;case te:m=14;break e;case Z:m=16,r=null;break e}m=29,a=Error(l(130,e===null?"null":typeof e,"")),r=null}return t=Lt(m,a,t,o),t.elementType=e,t.type=r,t.lanes=u,t}function Sn(e,t,a,r){return e=Lt(7,e,r,t),e.lanes=a,e}function oo(e,t,a){return e=Lt(6,e,null,t),e.lanes=a,e}function Md(e){var t=Lt(18,null,null,0);return t.stateNode=e,t}function co(e,t,a){return t=Lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var zd=new WeakMap;function Xt(e,t){if(typeof e=="object"&&e!==null){var a=zd.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Mu(t)},zd.set(e,t),t)}return{value:e,source:t,stack:Mu(t)}}var ns=[],ss=0,gi=null,nr=0,Zt=[],Wt=0,Ga=null,ua=1,da="";function va(e,t){ns[ss++]=nr,ns[ss++]=gi,gi=e,nr=t}function Ud(e,t,a){Zt[Wt++]=ua,Zt[Wt++]=da,Zt[Wt++]=Ga,Ga=e;var r=ua;e=da;var o=32-Ut(r)-1;r&=~(1<<o),a+=1;var u=32-Ut(t)+o;if(30<u){var m=o-o%5;u=(r&(1<<m)-1).toString(32),r>>=m,o-=m,ua=1<<32-Ut(t)+o|a<<o|r,da=u+e}else ua=1<<u|a<<o|r,da=e}function uo(e){e.return!==null&&(va(e,1),Ud(e,1,0))}function ho(e){for(;e===gi;)gi=ns[--ss],ns[ss]=null,nr=ns[--ss],ns[ss]=null;for(;e===Ga;)Ga=Zt[--Wt],Zt[Wt]=null,da=Zt[--Wt],Zt[Wt]=null,ua=Zt[--Wt],Zt[Wt]=null}function Bd(e,t){Zt[Wt++]=ua,Zt[Wt++]=da,Zt[Wt++]=Ga,ua=t.id,da=t.overflow,Ga=e}var bt=null,qe=null,_e=!1,qa=null,Ft=!1,fo=Error(l(519));function Va(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw sr(Xt(t,e)),fo}function Ld(e){var t=e.stateNode,a=e.type,r=e.memoizedProps;switch(t[yt]=e,t[Et]=r,a){case"dialog":xe("cancel",t),xe("close",t);break;case"iframe":case"object":case"embed":xe("load",t);break;case"video":case"audio":for(a=0;a<Nr.length;a++)xe(Nr[a],t);break;case"source":xe("error",t);break;case"img":case"image":case"link":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"input":xe("invalid",t),Zu(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":xe("invalid",t);break;case"textarea":xe("invalid",t),Fu(t,r.value,r.defaultValue,r.children)}a=r.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||r.suppressHydrationWarning===!0||am(t.textContent,a)?(r.popover!=null&&(xe("beforetoggle",t),xe("toggle",t)),r.onScroll!=null&&xe("scroll",t),r.onScrollEnd!=null&&xe("scrollend",t),r.onClick!=null&&(t.onclick=ga),t=!0):t=!1,t||Va(e,!0)}function $d(e){for(bt=e.return;bt;)switch(bt.tag){case 5:case 31:case 13:Ft=!1;return;case 27:case 3:Ft=!0;return;default:bt=bt.return}}function rs(e){if(e!==bt)return!1;if(!_e)return $d(e),_e=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Cc(e.type,e.memoizedProps)),a=!a),a&&qe&&Va(e),$d(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));qe=dm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));qe=dm(e)}else t===27?(t=qe,nn(e.type)?(e=Uc,Uc=null,qe=e):qe=t):qe=bt?ta(e.stateNode.nextSibling):null;return!0}function _n(){qe=bt=null,_e=!1}function mo(){var e=qa;return e!==null&&(Ot===null?Ot=e:Ot.push.apply(Ot,e),qa=null),e}function sr(e){qa===null?qa=[e]:qa.push(e)}var po=T(null),jn=null,xa=null;function Ya(e,t,a){V(po,t._currentValue),t._currentValue=a}function wa(e){e._currentValue=po.current,L(po)}function go(e,t,a){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===a)break;e=e.return}}function yo(e,t,a,r){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){var m=o.child;u=u.firstContext;e:for(;u!==null;){var b=u;u=o;for(var S=0;S<t.length;S++)if(b.context===t[S]){u.lanes|=a,b=u.alternate,b!==null&&(b.lanes|=a),go(u.return,a,e),r||(m=null);break e}u=b.next}}else if(o.tag===18){if(m=o.return,m===null)throw Error(l(341));m.lanes|=a,u=m.alternate,u!==null&&(u.lanes|=a),go(m,a,e),m=null}else m=o.child;if(m!==null)m.return=o;else for(m=o;m!==null;){if(m===e){m=null;break}if(o=m.sibling,o!==null){o.return=m.return,m=o;break}m=m.return}o=m}}function is(e,t,a,r){e=null;for(var o=t,u=!1;o!==null;){if(!u){if((o.flags&524288)!==0)u=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var m=o.alternate;if(m===null)throw Error(l(387));if(m=m.memoizedProps,m!==null){var b=o.type;Bt(o.pendingProps.value,m.value)||(e!==null?e.push(b):e=[b])}}else if(o===ue.current){if(m=o.alternate,m===null)throw Error(l(387));m.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Cr):e=[Cr])}o=o.return}e!==null&&yo(t,e,a,r),t.flags|=262144}function yi(e){for(e=e.firstContext;e!==null;){if(!Bt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Tn(e){jn=e,xa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function vt(e){return Hd(jn,e)}function bi(e,t){return jn===null&&Tn(e),Hd(e,t)}function Hd(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},xa===null){if(e===null)throw Error(l(308));xa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else xa=xa.next=t;return a}var _y=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},jy=s.unstable_scheduleCallback,Ty=s.unstable_NormalPriority,tt={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bo(){return{controller:new _y,data:new Map,refCount:0}}function rr(e){e.refCount--,e.refCount===0&&jy(Ty,function(){e.controller.abort()})}var ir=null,vo=0,ls=0,os=null;function Ny(e,t){if(ir===null){var a=ir=[];vo=0,ls=Sc(),os={status:"pending",value:void 0,then:function(r){a.push(r)}}}return vo++,t.then(Gd,Gd),t}function Gd(){if(--vo===0&&ir!==null){os!==null&&(os.status="fulfilled");var e=ir;ir=null,ls=0,os=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Ey(e,t){var a=[],r={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(r.status="rejected",r.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),r}var qd=M.S;M.S=function(e,t){Nf=Mt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Ny(e,t),qd!==null&&qd(e,t)};var Nn=T(null);function xo(){var e=Nn.current;return e!==null?e:$e.pooledCache}function vi(e,t){t===null?V(Nn,Nn.current):V(Nn,t.pool)}function Vd(){var e=xo();return e===null?null:{parent:tt._currentValue,pool:e}}var cs=Error(l(460)),wo=Error(l(474)),xi=Error(l(542)),wi={then:function(){}};function Yd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Kd(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(ga,ga),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Id(e),e;default:if(typeof t.status=="string")t.then(ga,ga);else{if(e=$e,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=r}},function(r){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Id(e),e}throw kn=t,cs}}function En(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(kn=a,cs):a}}var kn=null;function Pd(){if(kn===null)throw Error(l(459));var e=kn;return kn=null,e}function Id(e){if(e===cs||e===xi)throw Error(l(483))}var us=null,lr=0;function Si(e){var t=lr;return lr+=1,us===null&&(us=[]),Kd(us,e,t)}function or(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function _i(e,t){throw t.$$typeof===x?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Jd(e){function t(E,j){if(e){var k=E.deletions;k===null?(E.deletions=[j],E.flags|=16):k.push(j)}}function a(E,j){if(!e)return null;for(;j!==null;)t(E,j),j=j.sibling;return null}function r(E){for(var j=new Map;E!==null;)E.key!==null?j.set(E.key,E):j.set(E.index,E),E=E.sibling;return j}function o(E,j){return E=ba(E,j),E.index=0,E.sibling=null,E}function u(E,j,k){return E.index=k,e?(k=E.alternate,k!==null?(k=k.index,k<j?(E.flags|=67108866,j):k):(E.flags|=67108866,j)):(E.flags|=1048576,j)}function m(E){return e&&E.alternate===null&&(E.flags|=67108866),E}function b(E,j,k,U){return j===null||j.tag!==6?(j=oo(k,E.mode,U),j.return=E,j):(j=o(j,k),j.return=E,j)}function S(E,j,k,U){var re=k.type;return re===N?z(E,j,k.props.children,U,k.key):j!==null&&(j.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===Z&&En(re)===j.type)?(j=o(j,k.props),or(j,k),j.return=E,j):(j=pi(k.type,k.key,k.props,null,E.mode,U),or(j,k),j.return=E,j)}function R(E,j,k,U){return j===null||j.tag!==4||j.stateNode.containerInfo!==k.containerInfo||j.stateNode.implementation!==k.implementation?(j=co(k,E.mode,U),j.return=E,j):(j=o(j,k.children||[]),j.return=E,j)}function z(E,j,k,U,re){return j===null||j.tag!==7?(j=Sn(k,E.mode,U,re),j.return=E,j):(j=o(j,k),j.return=E,j)}function $(E,j,k){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=oo(""+j,E.mode,k),j.return=E,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case w:return k=pi(j.type,j.key,j.props,null,E.mode,k),or(k,j),k.return=E,k;case A:return j=co(j,E.mode,k),j.return=E,j;case Z:return j=En(j),$(E,j,k)}if(Le(j)||Ce(j))return j=Sn(j,E.mode,k,null),j.return=E,j;if(typeof j.then=="function")return $(E,Si(j),k);if(j.$$typeof===H)return $(E,bi(E,j),k);_i(E,j)}return null}function C(E,j,k,U){var re=j!==null?j.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return re!==null?null:b(E,j,""+k,U);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case w:return k.key===re?S(E,j,k,U):null;case A:return k.key===re?R(E,j,k,U):null;case Z:return k=En(k),C(E,j,k,U)}if(Le(k)||Ce(k))return re!==null?null:z(E,j,k,U,null);if(typeof k.then=="function")return C(E,j,Si(k),U);if(k.$$typeof===H)return C(E,j,bi(E,k),U);_i(E,k)}return null}function D(E,j,k,U,re){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return E=E.get(k)||null,b(j,E,""+U,re);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case w:return E=E.get(U.key===null?k:U.key)||null,S(j,E,U,re);case A:return E=E.get(U.key===null?k:U.key)||null,R(j,E,U,re);case Z:return U=En(U),D(E,j,k,U,re)}if(Le(U)||Ce(U))return E=E.get(k)||null,z(j,E,U,re,null);if(typeof U.then=="function")return D(E,j,k,Si(U),re);if(U.$$typeof===H)return D(E,j,k,bi(j,U),re);_i(j,U)}return null}function W(E,j,k,U){for(var re=null,Te=null,ae=j,pe=j=0,Se=null;ae!==null&&pe<k.length;pe++){ae.index>pe?(Se=ae,ae=null):Se=ae.sibling;var Ne=C(E,ae,k[pe],U);if(Ne===null){ae===null&&(ae=Se);break}e&&ae&&Ne.alternate===null&&t(E,ae),j=u(Ne,j,pe),Te===null?re=Ne:Te.sibling=Ne,Te=Ne,ae=Se}if(pe===k.length)return a(E,ae),_e&&va(E,pe),re;if(ae===null){for(;pe<k.length;pe++)ae=$(E,k[pe],U),ae!==null&&(j=u(ae,j,pe),Te===null?re=ae:Te.sibling=ae,Te=ae);return _e&&va(E,pe),re}for(ae=r(ae);pe<k.length;pe++)Se=D(ae,E,pe,k[pe],U),Se!==null&&(e&&Se.alternate!==null&&ae.delete(Se.key===null?pe:Se.key),j=u(Se,j,pe),Te===null?re=Se:Te.sibling=Se,Te=Se);return e&&ae.forEach(function(cn){return t(E,cn)}),_e&&va(E,pe),re}function ie(E,j,k,U){if(k==null)throw Error(l(151));for(var re=null,Te=null,ae=j,pe=j=0,Se=null,Ne=k.next();ae!==null&&!Ne.done;pe++,Ne=k.next()){ae.index>pe?(Se=ae,ae=null):Se=ae.sibling;var cn=C(E,ae,Ne.value,U);if(cn===null){ae===null&&(ae=Se);break}e&&ae&&cn.alternate===null&&t(E,ae),j=u(cn,j,pe),Te===null?re=cn:Te.sibling=cn,Te=cn,ae=Se}if(Ne.done)return a(E,ae),_e&&va(E,pe),re;if(ae===null){for(;!Ne.done;pe++,Ne=k.next())Ne=$(E,Ne.value,U),Ne!==null&&(j=u(Ne,j,pe),Te===null?re=Ne:Te.sibling=Ne,Te=Ne);return _e&&va(E,pe),re}for(ae=r(ae);!Ne.done;pe++,Ne=k.next())Ne=D(ae,E,pe,Ne.value,U),Ne!==null&&(e&&Ne.alternate!==null&&ae.delete(Ne.key===null?pe:Ne.key),j=u(Ne,j,pe),Te===null?re=Ne:Te.sibling=Ne,Te=Ne);return e&&ae.forEach(function(Lb){return t(E,Lb)}),_e&&va(E,pe),re}function Be(E,j,k,U){if(typeof k=="object"&&k!==null&&k.type===N&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case w:e:{for(var re=k.key;j!==null;){if(j.key===re){if(re=k.type,re===N){if(j.tag===7){a(E,j.sibling),U=o(j,k.props.children),U.return=E,E=U;break e}}else if(j.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===Z&&En(re)===j.type){a(E,j.sibling),U=o(j,k.props),or(U,k),U.return=E,E=U;break e}a(E,j);break}else t(E,j);j=j.sibling}k.type===N?(U=Sn(k.props.children,E.mode,U,k.key),U.return=E,E=U):(U=pi(k.type,k.key,k.props,null,E.mode,U),or(U,k),U.return=E,E=U)}return m(E);case A:e:{for(re=k.key;j!==null;){if(j.key===re)if(j.tag===4&&j.stateNode.containerInfo===k.containerInfo&&j.stateNode.implementation===k.implementation){a(E,j.sibling),U=o(j,k.children||[]),U.return=E,E=U;break e}else{a(E,j);break}else t(E,j);j=j.sibling}U=co(k,E.mode,U),U.return=E,E=U}return m(E);case Z:return k=En(k),Be(E,j,k,U)}if(Le(k))return W(E,j,k,U);if(Ce(k)){if(re=Ce(k),typeof re!="function")throw Error(l(150));return k=re.call(k),ie(E,j,k,U)}if(typeof k.then=="function")return Be(E,j,Si(k),U);if(k.$$typeof===H)return Be(E,j,bi(E,k),U);_i(E,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,j!==null&&j.tag===6?(a(E,j.sibling),U=o(j,k),U.return=E,E=U):(a(E,j),U=oo(k,E.mode,U),U.return=E,E=U),m(E)):a(E,j)}return function(E,j,k,U){try{lr=0;var re=Be(E,j,k,U);return us=null,re}catch(ae){if(ae===cs||ae===xi)throw ae;var Te=Lt(29,ae,null,E.mode);return Te.lanes=U,Te.return=E,Te}}}var Rn=Jd(!0),Qd=Jd(!1),Ka=!1;function So(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _o(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Pa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ia(e,t,a){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(ke&2)!==0){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=mi(e),Od(e,null,a),t}return fi(e,r,t,a),mi(e)}function cr(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,a|=r,t.lanes=a,Hu(e,a)}}function jo(e,t){var a=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,a===r)){var o=null,u=null;if(a=a.firstBaseUpdate,a!==null){do{var m={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};u===null?o=u=m:u=u.next=m,a=a.next}while(a!==null);u===null?o=u=t:u=u.next=t}else o=u=t;a={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:r.shared,callbacks:r.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var To=!1;function ur(){if(To){var e=os;if(e!==null)throw e}}function dr(e,t,a,r){To=!1;var o=e.updateQueue;Ka=!1;var u=o.firstBaseUpdate,m=o.lastBaseUpdate,b=o.shared.pending;if(b!==null){o.shared.pending=null;var S=b,R=S.next;S.next=null,m===null?u=R:m.next=R,m=S;var z=e.alternate;z!==null&&(z=z.updateQueue,b=z.lastBaseUpdate,b!==m&&(b===null?z.firstBaseUpdate=R:b.next=R,z.lastBaseUpdate=S))}if(u!==null){var $=o.baseState;m=0,z=R=S=null,b=u;do{var C=b.lane&-536870913,D=C!==b.lane;if(D?(we&C)===C:(r&C)===C){C!==0&&C===ls&&(To=!0),z!==null&&(z=z.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var W=e,ie=b;C=t;var Be=a;switch(ie.tag){case 1:if(W=ie.payload,typeof W=="function"){$=W.call(Be,$,C);break e}$=W;break e;case 3:W.flags=W.flags&-65537|128;case 0:if(W=ie.payload,C=typeof W=="function"?W.call(Be,$,C):W,C==null)break e;$=_({},$,C);break e;case 2:Ka=!0}}C=b.callback,C!==null&&(e.flags|=64,D&&(e.flags|=8192),D=o.callbacks,D===null?o.callbacks=[C]:D.push(C))}else D={lane:C,tag:b.tag,payload:b.payload,callback:b.callback,next:null},z===null?(R=z=D,S=$):z=z.next=D,m|=C;if(b=b.next,b===null){if(b=o.shared.pending,b===null)break;D=b,b=D.next,D.next=null,o.lastBaseUpdate=D,o.shared.pending=null}}while(!0);z===null&&(S=$),o.baseState=S,o.firstBaseUpdate=R,o.lastBaseUpdate=z,u===null&&(o.shared.lanes=0),Wa|=m,e.lanes=m,e.memoizedState=$}}function Xd(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function Zd(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Xd(a[e],t)}var ds=T(null),ji=T(0);function Wd(e,t){e=Aa,V(ji,e),V(ds,t),Aa=e|t.baseLanes}function No(){V(ji,Aa),V(ds,ds.current)}function Eo(){Aa=ji.current,L(ds),L(ji)}var $t=T(null),ea=null;function Ja(e){var t=e.alternate;V(Fe,Fe.current&1),V($t,e),ea===null&&(t===null||ds.current!==null||t.memoizedState!==null)&&(ea=e)}function ko(e){V(Fe,Fe.current),V($t,e),ea===null&&(ea=e)}function Fd(e){e.tag===22?(V(Fe,Fe.current),V($t,e),ea===null&&(ea=e)):Qa()}function Qa(){V(Fe,Fe.current),V($t,$t.current)}function Ht(e){L($t),ea===e&&(ea=null),L(Fe)}var Fe=T(0);function Ti(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Mc(a)||zc(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Sa=0,fe=null,ze=null,at=null,Ni=!1,hs=!1,An=!1,Ei=0,hr=0,fs=null,ky=0;function Je(){throw Error(l(321))}function Ro(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Bt(e[a],t[a]))return!1;return!0}function Ao(e,t,a,r,o,u){return Sa=u,fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=e===null||e.memoizedState===null?Uh:Ko,An=!1,u=a(r,o),An=!1,hs&&(u=th(t,a,r,o)),eh(e),u}function eh(e){M.H=pr;var t=ze!==null&&ze.next!==null;if(Sa=0,at=ze=fe=null,Ni=!1,hr=0,fs=null,t)throw Error(l(300));e===null||nt||(e=e.dependencies,e!==null&&yi(e)&&(nt=!0))}function th(e,t,a,r){fe=e;var o=0;do{if(hs&&(fs=null),hr=0,hs=!1,25<=o)throw Error(l(301));if(o+=1,at=ze=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}M.H=Bh,u=t(a,r)}while(hs);return u}function Ry(){var e=M.H,t=e.useState()[0];return t=typeof t.then=="function"?fr(t):t,e=e.useState()[0],(ze!==null?ze.memoizedState:null)!==e&&(fe.flags|=1024),t}function Co(){var e=Ei!==0;return Ei=0,e}function Oo(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Do(e){if(Ni){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ni=!1}Sa=0,at=ze=fe=null,hs=!1,hr=Ei=0,fs=null}function Nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?fe.memoizedState=at=e:at=at.next=e,at}function et(){if(ze===null){var e=fe.alternate;e=e!==null?e.memoizedState:null}else e=ze.next;var t=at===null?fe.memoizedState:at.next;if(t!==null)at=t,ze=e;else{if(e===null)throw fe.alternate===null?Error(l(467)):Error(l(310));ze=e,e={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},at===null?fe.memoizedState=at=e:at=at.next=e}return at}function ki(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fr(e){var t=hr;return hr+=1,fs===null&&(fs=[]),e=Kd(fs,e,t),t=fe,(at===null?t.memoizedState:at.next)===null&&(t=t.alternate,M.H=t===null||t.memoizedState===null?Uh:Ko),e}function Ri(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return fr(e);if(e.$$typeof===H)return vt(e)}throw Error(l(438,String(e)))}function Mo(e){var t=null,a=fe.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var r=fe.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=ki(),fe.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),r=0;r<e;r++)a[r]=Re;return t.index++,a}function _a(e,t){return typeof t=="function"?t(e):t}function Ai(e){var t=et();return zo(t,ze,e)}function zo(e,t,a){var r=e.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=a;var o=e.baseQueue,u=r.pending;if(u!==null){if(o!==null){var m=o.next;o.next=u.next,u.next=m}t.baseQueue=o=u,r.pending=null}if(u=e.baseState,o===null)e.memoizedState=u;else{t=o.next;var b=m=null,S=null,R=t,z=!1;do{var $=R.lane&-536870913;if($!==R.lane?(we&$)===$:(Sa&$)===$){var C=R.revertLane;if(C===0)S!==null&&(S=S.next={lane:0,revertLane:0,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),$===ls&&(z=!0);else if((Sa&C)===C){R=R.next,C===ls&&(z=!0);continue}else $={lane:0,revertLane:R.revertLane,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},S===null?(b=S=$,m=u):S=S.next=$,fe.lanes|=C,Wa|=C;$=R.action,An&&a(u,$),u=R.hasEagerState?R.eagerState:a(u,$)}else C={lane:$,revertLane:R.revertLane,gesture:R.gesture,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},S===null?(b=S=C,m=u):S=S.next=C,fe.lanes|=$,Wa|=$;R=R.next}while(R!==null&&R!==t);if(S===null?m=u:S.next=b,!Bt(u,e.memoizedState)&&(nt=!0,z&&(a=os,a!==null)))throw a;e.memoizedState=u,e.baseState=m,e.baseQueue=S,r.lastRenderedState=u}return o===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Uo(e){var t=et(),a=t.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var r=a.dispatch,o=a.pending,u=t.memoizedState;if(o!==null){a.pending=null;var m=o=o.next;do u=e(u,m.action),m=m.next;while(m!==o);Bt(u,t.memoizedState)||(nt=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),a.lastRenderedState=u}return[u,r]}function ah(e,t,a){var r=fe,o=et(),u=_e;if(u){if(a===void 0)throw Error(l(407));a=a()}else a=t();var m=!Bt((ze||o).memoizedState,a);if(m&&(o.memoizedState=a,nt=!0),o=o.queue,$o(rh.bind(null,r,o,e),[e]),o.getSnapshot!==t||m||at!==null&&at.memoizedState.tag&1){if(r.flags|=2048,ms(9,{destroy:void 0},sh.bind(null,r,o,a,t),null),$e===null)throw Error(l(349));u||(Sa&127)!==0||nh(r,t,a)}return a}function nh(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=fe.updateQueue,t===null?(t=ki(),fe.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function sh(e,t,a,r){t.value=a,t.getSnapshot=r,ih(t)&&lh(e)}function rh(e,t,a){return a(function(){ih(t)&&lh(e)})}function ih(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Bt(e,a)}catch{return!0}}function lh(e){var t=wn(e,2);t!==null&&Dt(t,e,2)}function Bo(e){var t=Nt();if(typeof e=="function"){var a=e;if(e=a(),An){La(!0);try{a()}finally{La(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:e},t}function oh(e,t,a,r){return e.baseState=a,zo(e,ze,typeof r=="function"?r:_a)}function Ay(e,t,a,r,o){if(Di(e))throw Error(l(485));if(e=t.action,e!==null){var u={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){u.listeners.push(m)}};M.T!==null?a(!0):u.isTransition=!1,r(u),a=t.pending,a===null?(u.next=t.pending=u,ch(t,u)):(u.next=a.next,t.pending=a.next=u)}}function ch(e,t){var a=t.action,r=t.payload,o=e.state;if(t.isTransition){var u=M.T,m={};M.T=m;try{var b=a(o,r),S=M.S;S!==null&&S(m,b),uh(e,t,b)}catch(R){Lo(e,t,R)}finally{u!==null&&m.types!==null&&(u.types=m.types),M.T=u}}else try{u=a(o,r),uh(e,t,u)}catch(R){Lo(e,t,R)}}function uh(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(r){dh(e,t,r)},function(r){return Lo(e,t,r)}):dh(e,t,a)}function dh(e,t,a){t.status="fulfilled",t.value=a,hh(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,ch(e,a)))}function Lo(e,t,a){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=a,hh(t),t=t.next;while(t!==r)}e.action=null}function hh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function fh(e,t){return t}function mh(e,t){if(_e){var a=$e.formState;if(a!==null){e:{var r=fe;if(_e){if(qe){t:{for(var o=qe,u=Ft;o.nodeType!==8;){if(!u){o=null;break t}if(o=ta(o.nextSibling),o===null){o=null;break t}}u=o.data,o=u==="F!"||u==="F"?o:null}if(o){qe=ta(o.nextSibling),r=o.data==="F!";break e}}Va(r)}r=!1}r&&(t=a[0])}}return a=Nt(),a.memoizedState=a.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fh,lastRenderedState:t},a.queue=r,a=Dh.bind(null,fe,r),r.dispatch=a,r=Bo(!1),u=Yo.bind(null,fe,!1,r.queue),r=Nt(),o={state:t,dispatch:null,action:e,pending:null},r.queue=o,a=Ay.bind(null,fe,o,u,a),o.dispatch=a,r.memoizedState=e,[t,a,!1]}function ph(e){var t=et();return gh(t,ze,e)}function gh(e,t,a){if(t=zo(e,t,fh)[0],e=Ai(_a)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=fr(t)}catch(m){throw m===cs?xi:m}else r=t;t=et();var o=t.queue,u=o.dispatch;return a!==t.memoizedState&&(fe.flags|=2048,ms(9,{destroy:void 0},Cy.bind(null,o,a),null)),[r,u,e]}function Cy(e,t){e.action=t}function yh(e){var t=et(),a=ze;if(a!==null)return gh(t,a,e);et(),t=t.memoizedState,a=et();var r=a.queue.dispatch;return a.memoizedState=e,[t,r,!1]}function ms(e,t,a,r){return e={tag:e,create:a,deps:r,inst:t,next:null},t=fe.updateQueue,t===null&&(t=ki(),fe.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(r=a.next,a.next=e,e.next=r,t.lastEffect=e),e}function bh(){return et().memoizedState}function Ci(e,t,a,r){var o=Nt();fe.flags|=e,o.memoizedState=ms(1|t,{destroy:void 0},a,r===void 0?null:r)}function Oi(e,t,a,r){var o=et();r=r===void 0?null:r;var u=o.memoizedState.inst;ze!==null&&r!==null&&Ro(r,ze.memoizedState.deps)?o.memoizedState=ms(t,u,a,r):(fe.flags|=e,o.memoizedState=ms(1|t,u,a,r))}function vh(e,t){Ci(8390656,8,e,t)}function $o(e,t){Oi(2048,8,e,t)}function Oy(e){fe.flags|=4;var t=fe.updateQueue;if(t===null)t=ki(),fe.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function xh(e){var t=et().memoizedState;return Oy({ref:t,nextImpl:e}),function(){if((ke&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function wh(e,t){return Oi(4,2,e,t)}function Sh(e,t){return Oi(4,4,e,t)}function _h(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jh(e,t,a){a=a!=null?a.concat([e]):null,Oi(4,4,_h.bind(null,t,e),a)}function Ho(){}function Th(e,t){var a=et();t=t===void 0?null:t;var r=a.memoizedState;return t!==null&&Ro(t,r[1])?r[0]:(a.memoizedState=[e,t],e)}function Nh(e,t){var a=et();t=t===void 0?null:t;var r=a.memoizedState;if(t!==null&&Ro(t,r[1]))return r[0];if(r=e(),An){La(!0);try{e()}finally{La(!1)}}return a.memoizedState=[r,t],r}function Go(e,t,a){return a===void 0||(Sa&1073741824)!==0&&(we&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=kf(),fe.lanes|=e,Wa|=e,a)}function Eh(e,t,a,r){return Bt(a,t)?a:ds.current!==null?(e=Go(e,a,r),Bt(e,t)||(nt=!0),e):(Sa&42)===0||(Sa&1073741824)!==0&&(we&261930)===0?(nt=!0,e.memoizedState=a):(e=kf(),fe.lanes|=e,Wa|=e,t)}function kh(e,t,a,r,o){var u=K.p;K.p=u!==0&&8>u?u:8;var m=M.T,b={};M.T=b,Yo(e,!1,t,a);try{var S=o(),R=M.S;if(R!==null&&R(b,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var z=Ey(S,r);mr(e,t,z,Vt(e))}else mr(e,t,r,Vt(e))}catch($){mr(e,t,{then:function(){},status:"rejected",reason:$},Vt())}finally{K.p=u,m!==null&&b.types!==null&&(m.types=b.types),M.T=m}}function Dy(){}function qo(e,t,a,r){if(e.tag!==5)throw Error(l(476));var o=Rh(e).queue;kh(e,o,t,G,a===null?Dy:function(){return Ah(e),a(r)})}function Rh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:G},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Ah(e){var t=Rh(e);t.next===null&&(t=e.alternate.memoizedState),mr(e,t.next.queue,{},Vt())}function Vo(){return vt(Cr)}function Ch(){return et().memoizedState}function Oh(){return et().memoizedState}function My(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Vt();e=Pa(a);var r=Ia(t,e,a);r!==null&&(Dt(r,t,a),cr(r,t,a)),t={cache:bo()},e.payload=t;return}t=t.return}}function zy(e,t,a){var r=Vt();a={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Di(e)?Mh(t,a):(a=io(e,t,a,r),a!==null&&(Dt(a,e,r),zh(a,t,r)))}function Dh(e,t,a){var r=Vt();mr(e,t,a,r)}function mr(e,t,a,r){var o={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Di(e))Mh(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var m=t.lastRenderedState,b=u(m,a);if(o.hasEagerState=!0,o.eagerState=b,Bt(b,m))return fi(e,t,o,0),$e===null&&hi(),!1}catch{}if(a=io(e,t,o,r),a!==null)return Dt(a,e,r),zh(a,t,r),!0}return!1}function Yo(e,t,a,r){if(r={lane:2,revertLane:Sc(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Di(e)){if(t)throw Error(l(479))}else t=io(e,a,r,2),t!==null&&Dt(t,e,2)}function Di(e){var t=e.alternate;return e===fe||t!==null&&t===fe}function Mh(e,t){hs=Ni=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function zh(e,t,a){if((a&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,a|=r,t.lanes=a,Hu(e,a)}}var pr={readContext:vt,use:Ri,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useLayoutEffect:Je,useInsertionEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useSyncExternalStore:Je,useId:Je,useHostTransitionStatus:Je,useFormState:Je,useActionState:Je,useOptimistic:Je,useMemoCache:Je,useCacheRefresh:Je};pr.useEffectEvent=Je;var Uh={readContext:vt,use:Ri,useCallback:function(e,t){return Nt().memoizedState=[e,t===void 0?null:t],e},useContext:vt,useEffect:vh,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Ci(4194308,4,_h.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Ci(4194308,4,e,t)},useInsertionEffect:function(e,t){Ci(4,2,e,t)},useMemo:function(e,t){var a=Nt();t=t===void 0?null:t;var r=e();if(An){La(!0);try{e()}finally{La(!1)}}return a.memoizedState=[r,t],r},useReducer:function(e,t,a){var r=Nt();if(a!==void 0){var o=a(t);if(An){La(!0);try{a(t)}finally{La(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=zy.bind(null,fe,e),[r.memoizedState,e]},useRef:function(e){var t=Nt();return e={current:e},t.memoizedState=e},useState:function(e){e=Bo(e);var t=e.queue,a=Dh.bind(null,fe,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Ho,useDeferredValue:function(e,t){var a=Nt();return Go(a,e,t)},useTransition:function(){var e=Bo(!1);return e=kh.bind(null,fe,e.queue,!0,!1),Nt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var r=fe,o=Nt();if(_e){if(a===void 0)throw Error(l(407));a=a()}else{if(a=t(),$e===null)throw Error(l(349));(we&127)!==0||nh(r,t,a)}o.memoizedState=a;var u={value:a,getSnapshot:t};return o.queue=u,vh(rh.bind(null,r,u,e),[e]),r.flags|=2048,ms(9,{destroy:void 0},sh.bind(null,r,u,a,t),null),a},useId:function(){var e=Nt(),t=$e.identifierPrefix;if(_e){var a=da,r=ua;a=(r&~(1<<32-Ut(r)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Ei++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=ky++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Vo,useFormState:mh,useActionState:mh,useOptimistic:function(e){var t=Nt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Yo.bind(null,fe,!0,a),a.dispatch=t,[e,t]},useMemoCache:Mo,useCacheRefresh:function(){return Nt().memoizedState=My.bind(null,fe)},useEffectEvent:function(e){var t=Nt(),a={impl:e};return t.memoizedState=a,function(){if((ke&2)!==0)throw Error(l(440));return a.impl.apply(void 0,arguments)}}},Ko={readContext:vt,use:Ri,useCallback:Th,useContext:vt,useEffect:$o,useImperativeHandle:jh,useInsertionEffect:wh,useLayoutEffect:Sh,useMemo:Nh,useReducer:Ai,useRef:bh,useState:function(){return Ai(_a)},useDebugValue:Ho,useDeferredValue:function(e,t){var a=et();return Eh(a,ze.memoizedState,e,t)},useTransition:function(){var e=Ai(_a)[0],t=et().memoizedState;return[typeof e=="boolean"?e:fr(e),t]},useSyncExternalStore:ah,useId:Ch,useHostTransitionStatus:Vo,useFormState:ph,useActionState:ph,useOptimistic:function(e,t){var a=et();return oh(a,ze,e,t)},useMemoCache:Mo,useCacheRefresh:Oh};Ko.useEffectEvent=xh;var Bh={readContext:vt,use:Ri,useCallback:Th,useContext:vt,useEffect:$o,useImperativeHandle:jh,useInsertionEffect:wh,useLayoutEffect:Sh,useMemo:Nh,useReducer:Uo,useRef:bh,useState:function(){return Uo(_a)},useDebugValue:Ho,useDeferredValue:function(e,t){var a=et();return ze===null?Go(a,e,t):Eh(a,ze.memoizedState,e,t)},useTransition:function(){var e=Uo(_a)[0],t=et().memoizedState;return[typeof e=="boolean"?e:fr(e),t]},useSyncExternalStore:ah,useId:Ch,useHostTransitionStatus:Vo,useFormState:yh,useActionState:yh,useOptimistic:function(e,t){var a=et();return ze!==null?oh(a,ze,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Mo,useCacheRefresh:Oh};Bh.useEffectEvent=xh;function Po(e,t,a,r){t=e.memoizedState,a=a(r,t),a=a==null?t:_({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Io={enqueueSetState:function(e,t,a){e=e._reactInternals;var r=Vt(),o=Pa(r);o.payload=t,a!=null&&(o.callback=a),t=Ia(e,o,r),t!==null&&(Dt(t,e,r),cr(t,e,r))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var r=Vt(),o=Pa(r);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=Ia(e,o,r),t!==null&&(Dt(t,e,r),cr(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Vt(),r=Pa(a);r.tag=2,t!=null&&(r.callback=t),t=Ia(e,r,a),t!==null&&(Dt(t,e,a),cr(t,e,a))}};function Lh(e,t,a,r,o,u,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,u,m):t.prototype&&t.prototype.isPureReactComponent?!tr(a,r)||!tr(o,u):!0}function $h(e,t,a,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,r),t.state!==e&&Io.enqueueReplaceState(t,t.state,null)}function Cn(e,t){var a=t;if("ref"in t){a={};for(var r in t)r!=="ref"&&(a[r]=t[r])}if(e=e.defaultProps){a===t&&(a=_({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}function Hh(e){di(e)}function Gh(e){console.error(e)}function qh(e){di(e)}function Mi(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function Vh(e,t,a){try{var r=e.onCaughtError;r(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Jo(e,t,a){return a=Pa(a),a.tag=3,a.payload={element:null},a.callback=function(){Mi(e,t)},a}function Yh(e){return e=Pa(e),e.tag=3,e}function Kh(e,t,a,r){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var u=r.value;e.payload=function(){return o(u)},e.callback=function(){Vh(t,a,r)}}var m=a.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){Vh(t,a,r),typeof o!="function"&&(Fa===null?Fa=new Set([this]):Fa.add(this));var b=r.stack;this.componentDidCatch(r.value,{componentStack:b!==null?b:""})})}function Uy(e,t,a,r,o){if(a.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=a.alternate,t!==null&&is(t,a,o,!0),a=$t.current,a!==null){switch(a.tag){case 31:case 13:return ea===null?Pi():a.alternate===null&&Qe===0&&(Qe=3),a.flags&=-257,a.flags|=65536,a.lanes=o,r===wi?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([r]):t.add(r),vc(e,r,o)),!1;case 22:return a.flags|=65536,r===wi?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([r]):a.add(r)),vc(e,r,o)),!1}throw Error(l(435,a.tag))}return vc(e,r,o),Pi(),!1}if(_e)return t=$t.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==fo&&(e=Error(l(422),{cause:r}),sr(Xt(e,a)))):(r!==fo&&(t=Error(l(423),{cause:r}),sr(Xt(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,r=Xt(r,a),o=Jo(e.stateNode,r,o),jo(e,o),Qe!==4&&(Qe=2)),!1;var u=Error(l(520),{cause:r});if(u=Xt(u,a),_r===null?_r=[u]:_r.push(u),Qe!==4&&(Qe=2),t===null)return!0;r=Xt(r,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=Jo(a.stateNode,r,e),jo(a,e),!1;case 1:if(t=a.type,u=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Fa===null||!Fa.has(u))))return a.flags|=65536,o&=-o,a.lanes|=o,o=Yh(o),Kh(o,e,a,r),jo(a,o),!1}a=a.return}while(a!==null);return!1}var Qo=Error(l(461)),nt=!1;function xt(e,t,a,r){t.child=e===null?Qd(t,null,a,r):Rn(t,e.child,a,r)}function Ph(e,t,a,r,o){a=a.render;var u=t.ref;if("ref"in r){var m={};for(var b in r)b!=="ref"&&(m[b]=r[b])}else m=r;return Tn(t),r=Ao(e,t,a,m,u,o),b=Co(),e!==null&&!nt?(Oo(e,t,o),ja(e,t,o)):(_e&&b&&uo(t),t.flags|=1,xt(e,t,r,o),t.child)}function Ih(e,t,a,r,o){if(e===null){var u=a.type;return typeof u=="function"&&!lo(u)&&u.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=u,Jh(e,t,u,r,o)):(e=pi(a.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!nc(e,o)){var m=u.memoizedProps;if(a=a.compare,a=a!==null?a:tr,a(m,r)&&e.ref===t.ref)return ja(e,t,o)}return t.flags|=1,e=ba(u,r),e.ref=t.ref,e.return=t,t.child=e}function Jh(e,t,a,r,o){if(e!==null){var u=e.memoizedProps;if(tr(u,r)&&e.ref===t.ref)if(nt=!1,t.pendingProps=r=u,nc(e,o))(e.flags&131072)!==0&&(nt=!0);else return t.lanes=e.lanes,ja(e,t,o)}return Xo(e,t,a,r,o)}function Qh(e,t,a,r){var o=r.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|a:a,e!==null){for(r=t.child=e.child,o=0;r!==null;)o=o|r.lanes|r.childLanes,r=r.sibling;r=o&~u}else r=0,t.child=null;return Xh(e,t,u,a,r)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&vi(t,u!==null?u.cachePool:null),u!==null?Wd(t,u):No(),Fd(t);else return r=t.lanes=536870912,Xh(e,t,u!==null?u.baseLanes|a:a,a,r)}else u!==null?(vi(t,u.cachePool),Wd(t,u),Qa(),t.memoizedState=null):(e!==null&&vi(t,null),No(),Qa());return xt(e,t,o,a),t.child}function gr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Xh(e,t,a,r,o){var u=xo();return u=u===null?null:{parent:tt._currentValue,pool:u},t.memoizedState={baseLanes:a,cachePool:u},e!==null&&vi(t,null),No(),Fd(t),e!==null&&is(e,t,r,!0),t.childLanes=o,null}function zi(e,t){return t=Bi({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Zh(e,t,a){return Rn(t,e.child,null,a),e=zi(t,t.pendingProps),e.flags|=2,Ht(t),t.memoizedState=null,e}function By(e,t,a){var r=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(_e){if(r.mode==="hidden")return e=zi(t,r),t.lanes=536870912,gr(null,e);if(ko(t),(e=qe)?(e=um(e,Ft),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ga!==null?{id:ua,overflow:da}:null,retryLane:536870912,hydrationErrors:null},a=Md(e),a.return=t,t.child=a,bt=t,qe=null)):e=null,e===null)throw Va(t);return t.lanes=536870912,null}return zi(t,r)}var u=e.memoizedState;if(u!==null){var m=u.dehydrated;if(ko(t),o)if(t.flags&256)t.flags&=-257,t=Zh(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(nt||is(e,t,a,!1),o=(a&e.childLanes)!==0,nt||o){if(r=$e,r!==null&&(m=Gu(r,a),m!==0&&m!==u.retryLane))throw u.retryLane=m,wn(e,m),Dt(r,e,m),Qo;Pi(),t=Zh(e,t,a)}else e=u.treeContext,qe=ta(m.nextSibling),bt=t,_e=!0,qa=null,Ft=!1,e!==null&&Bd(t,e),t=zi(t,r),t.flags|=4096;return t}return e=ba(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ui(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Xo(e,t,a,r,o){return Tn(t),a=Ao(e,t,a,r,void 0,o),r=Co(),e!==null&&!nt?(Oo(e,t,o),ja(e,t,o)):(_e&&r&&uo(t),t.flags|=1,xt(e,t,a,o),t.child)}function Wh(e,t,a,r,o,u){return Tn(t),t.updateQueue=null,a=th(t,r,a,o),eh(e),r=Co(),e!==null&&!nt?(Oo(e,t,u),ja(e,t,u)):(_e&&r&&uo(t),t.flags|=1,xt(e,t,a,u),t.child)}function Fh(e,t,a,r,o){if(Tn(t),t.stateNode===null){var u=as,m=a.contextType;typeof m=="object"&&m!==null&&(u=vt(m)),u=new a(r,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Io,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=r,u.state=t.memoizedState,u.refs={},So(t),m=a.contextType,u.context=typeof m=="object"&&m!==null?vt(m):as,u.state=t.memoizedState,m=a.getDerivedStateFromProps,typeof m=="function"&&(Po(t,a,m,r),u.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(m=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),m!==u.state&&Io.enqueueReplaceState(u,u.state,null),dr(t,r,u,o),ur(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){u=t.stateNode;var b=t.memoizedProps,S=Cn(a,b);u.props=S;var R=u.context,z=a.contextType;m=as,typeof z=="object"&&z!==null&&(m=vt(z));var $=a.getDerivedStateFromProps;z=typeof $=="function"||typeof u.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,z||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(b||R!==m)&&$h(t,u,r,m),Ka=!1;var C=t.memoizedState;u.state=C,dr(t,r,u,o),ur(),R=t.memoizedState,b||C!==R||Ka?(typeof $=="function"&&(Po(t,a,$,r),R=t.memoizedState),(S=Ka||Lh(t,a,S,r,C,R,m))?(z||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=R),u.props=r,u.state=R,u.context=m,r=S):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{u=t.stateNode,_o(e,t),m=t.memoizedProps,z=Cn(a,m),u.props=z,$=t.pendingProps,C=u.context,R=a.contextType,S=as,typeof R=="object"&&R!==null&&(S=vt(R)),b=a.getDerivedStateFromProps,(R=typeof b=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(m!==$||C!==S)&&$h(t,u,r,S),Ka=!1,C=t.memoizedState,u.state=C,dr(t,r,u,o),ur();var D=t.memoizedState;m!==$||C!==D||Ka||e!==null&&e.dependencies!==null&&yi(e.dependencies)?(typeof b=="function"&&(Po(t,a,b,r),D=t.memoizedState),(z=Ka||Lh(t,a,z,r,C,D,S)||e!==null&&e.dependencies!==null&&yi(e.dependencies))?(R||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,D,S),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,D,S)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=D),u.props=r,u.state=D,u.context=S,r=z):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),r=!1)}return u=r,Ui(e,t),r=(t.flags&128)!==0,u||r?(u=t.stateNode,a=r&&typeof a.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&r?(t.child=Rn(t,e.child,null,o),t.child=Rn(t,null,a,o)):xt(e,t,a,o),t.memoizedState=u.state,e=t.child):e=ja(e,t,o),e}function ef(e,t,a,r){return _n(),t.flags|=256,xt(e,t,a,r),t.child}var Zo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wo(e){return{baseLanes:e,cachePool:Vd()}}function Fo(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=qt),e}function tf(e,t,a){var r=t.pendingProps,o=!1,u=(t.flags&128)!==0,m;if((m=u)||(m=e!==null&&e.memoizedState===null?!1:(Fe.current&2)!==0),m&&(o=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(_e){if(o?Ja(t):Qa(),(e=qe)?(e=um(e,Ft),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ga!==null?{id:ua,overflow:da}:null,retryLane:536870912,hydrationErrors:null},a=Md(e),a.return=t,t.child=a,bt=t,qe=null)):e=null,e===null)throw Va(t);return zc(e)?t.lanes=32:t.lanes=536870912,null}var b=r.children;return r=r.fallback,o?(Qa(),o=t.mode,b=Bi({mode:"hidden",children:b},o),r=Sn(r,o,a,null),b.return=t,r.return=t,b.sibling=r,t.child=b,r=t.child,r.memoizedState=Wo(a),r.childLanes=Fo(e,m,a),t.memoizedState=Zo,gr(null,r)):(Ja(t),ec(t,b))}var S=e.memoizedState;if(S!==null&&(b=S.dehydrated,b!==null)){if(u)t.flags&256?(Ja(t),t.flags&=-257,t=tc(e,t,a)):t.memoizedState!==null?(Qa(),t.child=e.child,t.flags|=128,t=null):(Qa(),b=r.fallback,o=t.mode,r=Bi({mode:"visible",children:r.children},o),b=Sn(b,o,a,null),b.flags|=2,r.return=t,b.return=t,r.sibling=b,t.child=r,Rn(t,e.child,null,a),r=t.child,r.memoizedState=Wo(a),r.childLanes=Fo(e,m,a),t.memoizedState=Zo,t=gr(null,r));else if(Ja(t),zc(b)){if(m=b.nextSibling&&b.nextSibling.dataset,m)var R=m.dgst;m=R,r=Error(l(419)),r.stack="",r.digest=m,sr({value:r,source:null,stack:null}),t=tc(e,t,a)}else if(nt||is(e,t,a,!1),m=(a&e.childLanes)!==0,nt||m){if(m=$e,m!==null&&(r=Gu(m,a),r!==0&&r!==S.retryLane))throw S.retryLane=r,wn(e,r),Dt(m,e,r),Qo;Mc(b)||Pi(),t=tc(e,t,a)}else Mc(b)?(t.flags|=192,t.child=e.child,t=null):(e=S.treeContext,qe=ta(b.nextSibling),bt=t,_e=!0,qa=null,Ft=!1,e!==null&&Bd(t,e),t=ec(t,r.children),t.flags|=4096);return t}return o?(Qa(),b=r.fallback,o=t.mode,S=e.child,R=S.sibling,r=ba(S,{mode:"hidden",children:r.children}),r.subtreeFlags=S.subtreeFlags&65011712,R!==null?b=ba(R,b):(b=Sn(b,o,a,null),b.flags|=2),b.return=t,r.return=t,r.sibling=b,t.child=r,gr(null,r),r=t.child,b=e.child.memoizedState,b===null?b=Wo(a):(o=b.cachePool,o!==null?(S=tt._currentValue,o=o.parent!==S?{parent:S,pool:S}:o):o=Vd(),b={baseLanes:b.baseLanes|a,cachePool:o}),r.memoizedState=b,r.childLanes=Fo(e,m,a),t.memoizedState=Zo,gr(e.child,r)):(Ja(t),a=e.child,e=a.sibling,a=ba(a,{mode:"visible",children:r.children}),a.return=t,a.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=a,t.memoizedState=null,a)}function ec(e,t){return t=Bi({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Bi(e,t){return e=Lt(22,e,null,t),e.lanes=0,e}function tc(e,t,a){return Rn(t,e.child,null,a),e=ec(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function af(e,t,a){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),go(e.return,t,a)}function ac(e,t,a,r,o,u){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:a,tailMode:o,treeForkCount:u}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=r,m.tail=a,m.tailMode=o,m.treeForkCount=u)}function nf(e,t,a){var r=t.pendingProps,o=r.revealOrder,u=r.tail;r=r.children;var m=Fe.current,b=(m&2)!==0;if(b?(m=m&1|2,t.flags|=128):m&=1,V(Fe,m),xt(e,t,r,a),r=_e?nr:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&af(e,a,t);else if(e.tag===19)af(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&Ti(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),ac(t,!1,o,a,u,r);break;case"backwards":case"unstable_legacy-backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Ti(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}ac(t,!0,a,null,u,r);break;case"together":ac(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function ja(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Wa|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(is(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,a=ba(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ba(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function nc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&yi(e)))}function Ly(e,t,a){switch(t.tag){case 3:ft(t,t.stateNode.containerInfo),Ya(t,tt,e.memoizedState.cache),_n();break;case 27:case 5:ca(t);break;case 4:ft(t,t.stateNode.containerInfo);break;case 10:Ya(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,ko(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Ja(t),t.flags|=128,null):(a&t.child.childLanes)!==0?tf(e,t,a):(Ja(t),e=ja(e,t,a),e!==null?e.sibling:null);Ja(t);break;case 19:var o=(e.flags&128)!==0;if(r=(a&t.childLanes)!==0,r||(is(e,t,a,!1),r=(a&t.childLanes)!==0),o){if(r)return nf(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),V(Fe,Fe.current),r)break;return null;case 22:return t.lanes=0,Qh(e,t,a,t.pendingProps);case 24:Ya(t,tt,e.memoizedState.cache)}return ja(e,t,a)}function sf(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)nt=!0;else{if(!nc(e,a)&&(t.flags&128)===0)return nt=!1,Ly(e,t,a);nt=(e.flags&131072)!==0}else nt=!1,_e&&(t.flags&1048576)!==0&&Ud(t,nr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=En(t.elementType),t.type=e,typeof e=="function")lo(e)?(r=Cn(e,r),t.tag=1,t=Fh(null,t,e,r,a)):(t.tag=0,t=Xo(null,t,e,r,a));else{if(e!=null){var o=e.$$typeof;if(o===Q){t.tag=11,t=Ph(null,t,e,r,a);break e}else if(o===te){t.tag=14,t=Ih(null,t,e,r,a);break e}}throw t=Ie(e)||e,Error(l(306,t,""))}}return t;case 0:return Xo(e,t,t.type,t.pendingProps,a);case 1:return r=t.type,o=Cn(r,t.pendingProps),Fh(e,t,r,o,a);case 3:e:{if(ft(t,t.stateNode.containerInfo),e===null)throw Error(l(387));r=t.pendingProps;var u=t.memoizedState;o=u.element,_o(e,t),dr(t,r,null,a);var m=t.memoizedState;if(r=m.cache,Ya(t,tt,r),r!==u.cache&&yo(t,[tt],a,!0),ur(),r=m.element,u.isDehydrated)if(u={element:r,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=ef(e,t,r,a);break e}else if(r!==o){o=Xt(Error(l(424)),t),sr(o),t=ef(e,t,r,a);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,qe=ta(e.firstChild),bt=t,_e=!0,qa=null,Ft=!0,a=Qd(t,null,r,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(_n(),r===o){t=ja(e,t,a);break e}xt(e,t,r,a)}t=t.child}return t;case 26:return Ui(e,t),e===null?(a=gm(t.type,null,t.pendingProps,null))?t.memoizedState=a:_e||(a=t.type,e=t.pendingProps,r=Fi(ye.current).createElement(a),r[yt]=t,r[Et]=e,wt(r,a,e),mt(r),t.stateNode=r):t.memoizedState=gm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ca(t),e===null&&_e&&(r=t.stateNode=fm(t.type,t.pendingProps,ye.current),bt=t,Ft=!0,o=qe,nn(t.type)?(Uc=o,qe=ta(r.firstChild)):qe=o),xt(e,t,t.pendingProps.children,a),Ui(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&_e&&((o=r=qe)&&(r=mb(r,t.type,t.pendingProps,Ft),r!==null?(t.stateNode=r,bt=t,qe=ta(r.firstChild),Ft=!1,o=!0):o=!1),o||Va(t)),ca(t),o=t.type,u=t.pendingProps,m=e!==null?e.memoizedProps:null,r=u.children,Cc(o,u)?r=null:m!==null&&Cc(o,m)&&(t.flags|=32),t.memoizedState!==null&&(o=Ao(e,t,Ry,null,null,a),Cr._currentValue=o),Ui(e,t),xt(e,t,r,a),t.child;case 6:return e===null&&_e&&((e=a=qe)&&(a=pb(a,t.pendingProps,Ft),a!==null?(t.stateNode=a,bt=t,qe=null,e=!0):e=!1),e||Va(t)),null;case 13:return tf(e,t,a);case 4:return ft(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Rn(t,null,r,a):xt(e,t,r,a),t.child;case 11:return Ph(e,t,t.type,t.pendingProps,a);case 7:return xt(e,t,t.pendingProps,a),t.child;case 8:return xt(e,t,t.pendingProps.children,a),t.child;case 12:return xt(e,t,t.pendingProps.children,a),t.child;case 10:return r=t.pendingProps,Ya(t,t.type,r.value),xt(e,t,r.children,a),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,Tn(t),o=vt(o),r=r(o),t.flags|=1,xt(e,t,r,a),t.child;case 14:return Ih(e,t,t.type,t.pendingProps,a);case 15:return Jh(e,t,t.type,t.pendingProps,a);case 19:return nf(e,t,a);case 31:return By(e,t,a);case 22:return Qh(e,t,a,t.pendingProps);case 24:return Tn(t),r=vt(tt),e===null?(o=xo(),o===null&&(o=$e,u=bo(),o.pooledCache=u,u.refCount++,u!==null&&(o.pooledCacheLanes|=a),o=u),t.memoizedState={parent:r,cache:o},So(t),Ya(t,tt,o)):((e.lanes&a)!==0&&(_o(e,t),dr(t,null,null,a),ur()),o=e.memoizedState,u=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Ya(t,tt,r)):(r=u.cache,Ya(t,tt,r),r!==o.cache&&yo(t,[tt],a,!0))),xt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function Ta(e){e.flags|=4}function sc(e,t,a,r,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(Of())e.flags|=8192;else throw kn=wi,wo}else e.flags&=-16777217}function rf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!wm(t))if(Of())e.flags|=8192;else throw kn=wi,wo}function Li(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Lu():536870912,e.lanes|=t,bs|=t)}function yr(e,t){if(!_e)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,r=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,r|=o.subtreeFlags&65011712,r|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=a,t}function $y(e,t,a){var r=t.pendingProps;switch(ho(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(t),null;case 1:return Ve(t),null;case 3:return a=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),wa(tt),He(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(rs(t)?Ta(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,mo())),Ve(t),null;case 26:var o=t.type,u=t.memoizedState;return e===null?(Ta(t),u!==null?(Ve(t),rf(t,u)):(Ve(t),sc(t,o,null,r,a))):u?u!==e.memoizedState?(Ta(t),Ve(t),rf(t,u)):(Ve(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&Ta(t),Ve(t),sc(t,o,e,r,a)),null;case 27:if(Ua(t),a=ye.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Ta(t);else{if(!r){if(t.stateNode===null)throw Error(l(166));return Ve(t),null}e=I.current,rs(t)?Ld(t):(e=fm(o,r,a),t.stateNode=e,Ta(t))}return Ve(t),null;case 5:if(Ua(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Ta(t);else{if(!r){if(t.stateNode===null)throw Error(l(166));return Ve(t),null}if(u=I.current,rs(t))Ld(t);else{var m=Fi(ye.current);switch(u){case 1:u=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:u=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":u=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":u=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":u=m.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof r.is=="string"?m.createElement("select",{is:r.is}):m.createElement("select"),r.multiple?u.multiple=!0:r.size&&(u.size=r.size);break;default:u=typeof r.is=="string"?m.createElement(o,{is:r.is}):m.createElement(o)}}u[yt]=t,u[Et]=r;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)u.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=u;e:switch(wt(u,o,r),o){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Ta(t)}}return Ve(t),sc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Ta(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(l(166));if(e=ye.current,rs(t)){if(e=t.stateNode,a=t.memoizedProps,r=null,o=bt,o!==null)switch(o.tag){case 27:case 5:r=o.memoizedProps}e[yt]=t,e=!!(e.nodeValue===a||r!==null&&r.suppressHydrationWarning===!0||am(e.nodeValue,a)),e||Va(t,!0)}else e=Fi(e).createTextNode(r),e[yt]=t,t.stateNode=e}return Ve(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(r=rs(t),a!==null){if(e===null){if(!r)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[yt]=t}else _n(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ve(t),e=!1}else a=mo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Ht(t),t):(Ht(t),null);if((t.flags&128)!==0)throw Error(l(558))}return Ve(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=rs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(l(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(l(317));o[yt]=t}else _n(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ve(t),o=!1}else o=mo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Ht(t),t):(Ht(t),null)}return Ht(t),(t.flags&128)!==0?(t.lanes=a,t):(a=r!==null,e=e!==null&&e.memoizedState!==null,a&&(r=t.child,o=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(o=r.alternate.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Li(t,t.updateQueue),Ve(t),null);case 4:return He(),e===null&&Nc(t.stateNode.containerInfo),Ve(t),null;case 10:return wa(t.type),Ve(t),null;case 19:if(L(Fe),r=t.memoizedState,r===null)return Ve(t),null;if(o=(t.flags&128)!==0,u=r.rendering,u===null)if(o)yr(r,!1);else{if(Qe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=Ti(e),u!==null){for(t.flags|=128,yr(r,!1),e=u.updateQueue,t.updateQueue=e,Li(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Dd(a,e),a=a.sibling;return V(Fe,Fe.current&1|2),_e&&va(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&Mt()>Vi&&(t.flags|=128,o=!0,yr(r,!1),t.lanes=4194304)}else{if(!o)if(e=Ti(u),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Li(t,e),yr(r,!0),r.tail===null&&r.tailMode==="hidden"&&!u.alternate&&!_e)return Ve(t),null}else 2*Mt()-r.renderingStartTime>Vi&&a!==536870912&&(t.flags|=128,o=!0,yr(r,!1),t.lanes=4194304);r.isBackwards?(u.sibling=t.child,t.child=u):(e=r.last,e!==null?e.sibling=u:t.child=u,r.last=u)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Mt(),e.sibling=null,a=Fe.current,V(Fe,o?a&1|2:a&1),_e&&va(t,r.treeForkCount),e):(Ve(t),null);case 22:case 23:return Ht(t),Eo(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(a&536870912)!==0&&(t.flags&128)===0&&(Ve(t),t.subtreeFlags&6&&(t.flags|=8192)):Ve(t),a=t.updateQueue,a!==null&&Li(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==a&&(t.flags|=2048),e!==null&&L(Nn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),wa(tt),Ve(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function Hy(e,t){switch(ho(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wa(tt),He(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ua(t),null;case 31:if(t.memoizedState!==null){if(Ht(t),t.alternate===null)throw Error(l(340));_n()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ht(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));_n()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return L(Fe),null;case 4:return He(),null;case 10:return wa(t.type),null;case 22:case 23:return Ht(t),Eo(),e!==null&&L(Nn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return wa(tt),null;case 25:return null;default:return null}}function lf(e,t){switch(ho(t),t.tag){case 3:wa(tt),He();break;case 26:case 27:case 5:Ua(t);break;case 4:He();break;case 31:t.memoizedState!==null&&Ht(t);break;case 13:Ht(t);break;case 19:L(Fe);break;case 10:wa(t.type);break;case 22:case 23:Ht(t),Eo(),e!==null&&L(Nn);break;case 24:wa(tt)}}function br(e,t){try{var a=t.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var o=r.next;a=o;do{if((a.tag&e)===e){r=void 0;var u=a.create,m=a.inst;r=u(),m.destroy=r}a=a.next}while(a!==o)}}catch(b){De(t,t.return,b)}}function Xa(e,t,a){try{var r=t.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var u=o.next;r=u;do{if((r.tag&e)===e){var m=r.inst,b=m.destroy;if(b!==void 0){m.destroy=void 0,o=t;var S=a,R=b;try{R()}catch(z){De(o,S,z)}}}r=r.next}while(r!==u)}}catch(z){De(t,t.return,z)}}function of(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Zd(t,a)}catch(r){De(e,e.return,r)}}}function cf(e,t,a){a.props=Cn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(r){De(e,t,r)}}function vr(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof a=="function"?e.refCleanup=a(r):a.current=r}}catch(o){De(e,t,o)}}function ha(e,t){var a=e.ref,r=e.refCleanup;if(a!==null)if(typeof r=="function")try{r()}catch(o){De(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){De(e,t,o)}else a.current=null}function uf(e){var t=e.type,a=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break e;case"img":a.src?r.src=a.src:a.srcSet&&(r.srcset=a.srcSet)}}catch(o){De(e,e.return,o)}}function rc(e,t,a){try{var r=e.stateNode;ob(r,e.type,a,t),r[Et]=t}catch(o){De(e,e.return,o)}}function df(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&nn(e.type)||e.tag===4}function ic(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||df(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&nn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lc(e,t,a){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=ga));else if(r!==4&&(r===27&&nn(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(lc(e,t,a),e=e.sibling;e!==null;)lc(e,t,a),e=e.sibling}function $i(e,t,a){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(r!==4&&(r===27&&nn(e.type)&&(a=e.stateNode),e=e.child,e!==null))for($i(e,t,a),e=e.sibling;e!==null;)$i(e,t,a),e=e.sibling}function hf(e){var t=e.stateNode,a=e.memoizedProps;try{for(var r=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);wt(t,r,a),t[yt]=e,t[Et]=a}catch(u){De(e,e.return,u)}}var Na=!1,st=!1,oc=!1,ff=typeof WeakSet=="function"?WeakSet:Set,pt=null;function Gy(e,t){if(e=e.containerInfo,Rc=il,e=jd(e),eo(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var r=a.getSelection&&a.getSelection();if(r&&r.rangeCount!==0){a=r.anchorNode;var o=r.anchorOffset,u=r.focusNode;r=r.focusOffset;try{a.nodeType,u.nodeType}catch{a=null;break e}var m=0,b=-1,S=-1,R=0,z=0,$=e,C=null;t:for(;;){for(var D;$!==a||o!==0&&$.nodeType!==3||(b=m+o),$!==u||r!==0&&$.nodeType!==3||(S=m+r),$.nodeType===3&&(m+=$.nodeValue.length),(D=$.firstChild)!==null;)C=$,$=D;for(;;){if($===e)break t;if(C===a&&++R===o&&(b=m),C===u&&++z===r&&(S=m),(D=$.nextSibling)!==null)break;$=C,C=$.parentNode}$=D}a=b===-1||S===-1?null:{start:b,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ac={focusedElem:e,selectionRange:a},il=!1,pt=t;pt!==null;)if(t=pt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,pt=e;else for(;pt!==null;){switch(t=pt,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)o=e[a],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,a=t,o=u.memoizedProps,u=u.memoizedState,r=a.stateNode;try{var W=Cn(a.type,o);e=r.getSnapshotBeforeUpdate(W,u),r.__reactInternalSnapshotBeforeUpdate=e}catch(ie){De(a,a.return,ie)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Dc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Dc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,pt=e;break}pt=t.return}}function mf(e,t,a){var r=a.flags;switch(a.tag){case 0:case 11:case 15:ka(e,a),r&4&&br(5,a);break;case 1:if(ka(e,a),r&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(m){De(a,a.return,m)}else{var o=Cn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){De(a,a.return,m)}}r&64&&of(a),r&512&&vr(a,a.return);break;case 3:if(ka(e,a),r&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Zd(e,t)}catch(m){De(a,a.return,m)}}break;case 27:t===null&&r&4&&hf(a);case 26:case 5:ka(e,a),t===null&&r&4&&uf(a),r&512&&vr(a,a.return);break;case 12:ka(e,a);break;case 31:ka(e,a),r&4&&yf(e,a);break;case 13:ka(e,a),r&4&&bf(e,a),r&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Xy.bind(null,a),gb(e,a))));break;case 22:if(r=a.memoizedState!==null||Na,!r){t=t!==null&&t.memoizedState!==null||st,o=Na;var u=st;Na=r,(st=t)&&!u?Ra(e,a,(a.subtreeFlags&8772)!==0):ka(e,a),Na=o,st=u}break;case 30:break;default:ka(e,a)}}function pf(e){var t=e.alternate;t!==null&&(e.alternate=null,pf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Bl(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ye=null,Rt=!1;function Ea(e,t,a){for(a=a.child;a!==null;)gf(e,t,a),a=a.sibling}function gf(e,t,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Vs,a)}catch{}switch(a.tag){case 26:st||ha(a,t),Ea(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:st||ha(a,t);var r=Ye,o=Rt;nn(a.type)&&(Ye=a.stateNode,Rt=!1),Ea(e,t,a),kr(a.stateNode),Ye=r,Rt=o;break;case 5:st||ha(a,t);case 6:if(r=Ye,o=Rt,Ye=null,Ea(e,t,a),Ye=r,Rt=o,Ye!==null)if(Rt)try{(Ye.nodeType===9?Ye.body:Ye.nodeName==="HTML"?Ye.ownerDocument.body:Ye).removeChild(a.stateNode)}catch(u){De(a,t,u)}else try{Ye.removeChild(a.stateNode)}catch(u){De(a,t,u)}break;case 18:Ye!==null&&(Rt?(e=Ye,om(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ns(e)):om(Ye,a.stateNode));break;case 4:r=Ye,o=Rt,Ye=a.stateNode.containerInfo,Rt=!0,Ea(e,t,a),Ye=r,Rt=o;break;case 0:case 11:case 14:case 15:Xa(2,a,t),st||Xa(4,a,t),Ea(e,t,a);break;case 1:st||(ha(a,t),r=a.stateNode,typeof r.componentWillUnmount=="function"&&cf(a,t,r)),Ea(e,t,a);break;case 21:Ea(e,t,a);break;case 22:st=(r=st)||a.memoizedState!==null,Ea(e,t,a),st=r;break;default:Ea(e,t,a)}}function yf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ns(e)}catch(a){De(t,t.return,a)}}}function bf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ns(e)}catch(a){De(t,t.return,a)}}function qy(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ff),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ff),t;default:throw Error(l(435,e.tag))}}function Hi(e,t){var a=qy(e);t.forEach(function(r){if(!a.has(r)){a.add(r);var o=Zy.bind(null,e,r);r.then(o,o)}})}function At(e,t){var a=t.deletions;if(a!==null)for(var r=0;r<a.length;r++){var o=a[r],u=e,m=t,b=m;e:for(;b!==null;){switch(b.tag){case 27:if(nn(b.type)){Ye=b.stateNode,Rt=!1;break e}break;case 5:Ye=b.stateNode,Rt=!1;break e;case 3:case 4:Ye=b.stateNode.containerInfo,Rt=!0;break e}b=b.return}if(Ye===null)throw Error(l(160));gf(u,m,o),Ye=null,Rt=!1,u=o.alternate,u!==null&&(u.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)vf(t,e),t=t.sibling}var sa=null;function vf(e,t){var a=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:At(t,e),Ct(e),r&4&&(Xa(3,e,e.return),br(3,e),Xa(5,e,e.return));break;case 1:At(t,e),Ct(e),r&512&&(st||a===null||ha(a,a.return)),r&64&&Na&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?r:a.concat(r))));break;case 26:var o=sa;if(At(t,e),Ct(e),r&512&&(st||a===null||ha(a,a.return)),r&4){var u=a!==null?a.memoizedState:null;if(r=e.memoizedState,a===null)if(r===null)if(e.stateNode===null){e:{r=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":u=o.getElementsByTagName("title")[0],(!u||u[Ps]||u[yt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=o.createElement(r),o.head.insertBefore(u,o.querySelector("head > title"))),wt(u,r,a),u[yt]=e,mt(u),r=u;break e;case"link":var m=vm("link","href",o).get(r+(a.href||""));if(m){for(var b=0;b<m.length;b++)if(u=m[b],u.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&u.getAttribute("rel")===(a.rel==null?null:a.rel)&&u.getAttribute("title")===(a.title==null?null:a.title)&&u.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){m.splice(b,1);break t}}u=o.createElement(r),wt(u,r,a),o.head.appendChild(u);break;case"meta":if(m=vm("meta","content",o).get(r+(a.content||""))){for(b=0;b<m.length;b++)if(u=m[b],u.getAttribute("content")===(a.content==null?null:""+a.content)&&u.getAttribute("name")===(a.name==null?null:a.name)&&u.getAttribute("property")===(a.property==null?null:a.property)&&u.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&u.getAttribute("charset")===(a.charSet==null?null:a.charSet)){m.splice(b,1);break t}}u=o.createElement(r),wt(u,r,a),o.head.appendChild(u);break;default:throw Error(l(468,r))}u[yt]=e,mt(u),r=u}e.stateNode=r}else xm(o,e.type,e.stateNode);else e.stateNode=bm(o,r,e.memoizedProps);else u!==r?(u===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):u.count--,r===null?xm(o,e.type,e.stateNode):bm(o,r,e.memoizedProps)):r===null&&e.stateNode!==null&&rc(e,e.memoizedProps,a.memoizedProps)}break;case 27:At(t,e),Ct(e),r&512&&(st||a===null||ha(a,a.return)),a!==null&&r&4&&rc(e,e.memoizedProps,a.memoizedProps);break;case 5:if(At(t,e),Ct(e),r&512&&(st||a===null||ha(a,a.return)),e.flags&32){o=e.stateNode;try{Qn(o,"")}catch(W){De(e,e.return,W)}}r&4&&e.stateNode!=null&&(o=e.memoizedProps,rc(e,o,a!==null?a.memoizedProps:o)),r&1024&&(oc=!0);break;case 6:if(At(t,e),Ct(e),r&4){if(e.stateNode===null)throw Error(l(162));r=e.memoizedProps,a=e.stateNode;try{a.nodeValue=r}catch(W){De(e,e.return,W)}}break;case 3:if(al=null,o=sa,sa=el(t.containerInfo),At(t,e),sa=o,Ct(e),r&4&&a!==null&&a.memoizedState.isDehydrated)try{Ns(t.containerInfo)}catch(W){De(e,e.return,W)}oc&&(oc=!1,xf(e));break;case 4:r=sa,sa=el(e.stateNode.containerInfo),At(t,e),Ct(e),sa=r;break;case 12:At(t,e),Ct(e);break;case 31:At(t,e),Ct(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Hi(e,r)));break;case 13:At(t,e),Ct(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(qi=Mt()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Hi(e,r)));break;case 22:o=e.memoizedState!==null;var S=a!==null&&a.memoizedState!==null,R=Na,z=st;if(Na=R||o,st=z||S,At(t,e),st=z,Na=R,Ct(e),r&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(a===null||S||Na||st||On(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){S=a=t;try{if(u=S.stateNode,o)m=u.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{b=S.stateNode;var $=S.memoizedProps.style,C=$!=null&&$.hasOwnProperty("display")?$.display:null;b.style.display=C==null||typeof C=="boolean"?"":(""+C).trim()}}catch(W){De(S,S.return,W)}}}else if(t.tag===6){if(a===null){S=t;try{S.stateNode.nodeValue=o?"":S.memoizedProps}catch(W){De(S,S.return,W)}}}else if(t.tag===18){if(a===null){S=t;try{var D=S.stateNode;o?cm(D,!0):cm(S.stateNode,!1)}catch(W){De(S,S.return,W)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(a=r.retryQueue,a!==null&&(r.retryQueue=null,Hi(e,a))));break;case 19:At(t,e),Ct(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Hi(e,r)));break;case 30:break;case 21:break;default:At(t,e),Ct(e)}}function Ct(e){var t=e.flags;if(t&2){try{for(var a,r=e.return;r!==null;){if(df(r)){a=r;break}r=r.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var o=a.stateNode,u=ic(e);$i(e,u,o);break;case 5:var m=a.stateNode;a.flags&32&&(Qn(m,""),a.flags&=-33);var b=ic(e);$i(e,b,m);break;case 3:case 4:var S=a.stateNode.containerInfo,R=ic(e);lc(e,R,S);break;default:throw Error(l(161))}}catch(z){De(e,e.return,z)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;xf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ka(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)mf(e,t.alternate,t),t=t.sibling}function On(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Xa(4,t,t.return),On(t);break;case 1:ha(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&cf(t,t.return,a),On(t);break;case 27:kr(t.stateNode);case 26:case 5:ha(t,t.return),On(t);break;case 22:t.memoizedState===null&&On(t);break;case 30:On(t);break;default:On(t)}e=e.sibling}}function Ra(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,o=e,u=t,m=u.flags;switch(u.tag){case 0:case 11:case 15:Ra(o,u,a),br(4,u);break;case 1:if(Ra(o,u,a),r=u,o=r.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(R){De(r,r.return,R)}if(r=u,o=r.updateQueue,o!==null){var b=r.stateNode;try{var S=o.shared.hiddenCallbacks;if(S!==null)for(o.shared.hiddenCallbacks=null,o=0;o<S.length;o++)Xd(S[o],b)}catch(R){De(r,r.return,R)}}a&&m&64&&of(u),vr(u,u.return);break;case 27:hf(u);case 26:case 5:Ra(o,u,a),a&&r===null&&m&4&&uf(u),vr(u,u.return);break;case 12:Ra(o,u,a);break;case 31:Ra(o,u,a),a&&m&4&&yf(o,u);break;case 13:Ra(o,u,a),a&&m&4&&bf(o,u);break;case 22:u.memoizedState===null&&Ra(o,u,a),vr(u,u.return);break;case 30:break;default:Ra(o,u,a)}t=t.sibling}}function cc(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&rr(a))}function uc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&rr(e))}function ra(e,t,a,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)wf(e,t,a,r),t=t.sibling}function wf(e,t,a,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:ra(e,t,a,r),o&2048&&br(9,t);break;case 1:ra(e,t,a,r);break;case 3:ra(e,t,a,r),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&rr(e)));break;case 12:if(o&2048){ra(e,t,a,r),e=t.stateNode;try{var u=t.memoizedProps,m=u.id,b=u.onPostCommit;typeof b=="function"&&b(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){De(t,t.return,S)}}else ra(e,t,a,r);break;case 31:ra(e,t,a,r);break;case 13:ra(e,t,a,r);break;case 23:break;case 22:u=t.stateNode,m=t.alternate,t.memoizedState!==null?u._visibility&2?ra(e,t,a,r):xr(e,t):u._visibility&2?ra(e,t,a,r):(u._visibility|=2,ps(e,t,a,r,(t.subtreeFlags&10256)!==0||!1)),o&2048&&cc(m,t);break;case 24:ra(e,t,a,r),o&2048&&uc(t.alternate,t);break;default:ra(e,t,a,r)}}function ps(e,t,a,r,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,m=t,b=a,S=r,R=m.flags;switch(m.tag){case 0:case 11:case 15:ps(u,m,b,S,o),br(8,m);break;case 23:break;case 22:var z=m.stateNode;m.memoizedState!==null?z._visibility&2?ps(u,m,b,S,o):xr(u,m):(z._visibility|=2,ps(u,m,b,S,o)),o&&R&2048&&cc(m.alternate,m);break;case 24:ps(u,m,b,S,o),o&&R&2048&&uc(m.alternate,m);break;default:ps(u,m,b,S,o)}t=t.sibling}}function xr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,r=t,o=r.flags;switch(r.tag){case 22:xr(a,r),o&2048&&cc(r.alternate,r);break;case 24:xr(a,r),o&2048&&uc(r.alternate,r);break;default:xr(a,r)}t=t.sibling}}var wr=8192;function gs(e,t,a){if(e.subtreeFlags&wr)for(e=e.child;e!==null;)Sf(e,t,a),e=e.sibling}function Sf(e,t,a){switch(e.tag){case 26:gs(e,t,a),e.flags&wr&&e.memoizedState!==null&&kb(a,sa,e.memoizedState,e.memoizedProps);break;case 5:gs(e,t,a);break;case 3:case 4:var r=sa;sa=el(e.stateNode.containerInfo),gs(e,t,a),sa=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=wr,wr=16777216,gs(e,t,a),wr=r):gs(e,t,a));break;default:gs(e,t,a)}}function _f(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Sr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var r=t[a];pt=r,Tf(r,e)}_f(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)jf(e),e=e.sibling}function jf(e){switch(e.tag){case 0:case 11:case 15:Sr(e),e.flags&2048&&Xa(9,e,e.return);break;case 3:Sr(e);break;case 12:Sr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Gi(e)):Sr(e);break;default:Sr(e)}}function Gi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var r=t[a];pt=r,Tf(r,e)}_f(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Xa(8,t,t.return),Gi(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Gi(t));break;default:Gi(t)}e=e.sibling}}function Tf(e,t){for(;pt!==null;){var a=pt;switch(a.tag){case 0:case 11:case 15:Xa(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var r=a.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:rr(a.memoizedState.cache)}if(r=a.child,r!==null)r.return=a,pt=r;else e:for(a=e;pt!==null;){r=pt;var o=r.sibling,u=r.return;if(pf(r),r===a){pt=null;break e}if(o!==null){o.return=u,pt=o;break e}pt=u}}}var Vy={getCacheForType:function(e){var t=vt(tt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return vt(tt).controller.signal}},Yy=typeof WeakMap=="function"?WeakMap:Map,ke=0,$e=null,ve=null,we=0,Oe=0,Gt=null,Za=!1,ys=!1,dc=!1,Aa=0,Qe=0,Wa=0,Dn=0,hc=0,qt=0,bs=0,_r=null,Ot=null,fc=!1,qi=0,Nf=0,Vi=1/0,Yi=null,Fa=null,ot=0,en=null,vs=null,Ca=0,mc=0,pc=null,Ef=null,jr=0,gc=null;function Vt(){return(ke&2)!==0&&we!==0?we&-we:M.T!==null?Sc():qu()}function kf(){if(qt===0)if((we&536870912)===0||_e){var e=Wr;Wr<<=1,(Wr&3932160)===0&&(Wr=262144),qt=e}else qt=536870912;return e=$t.current,e!==null&&(e.flags|=32),qt}function Dt(e,t,a){(e===$e&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)&&(xs(e,0),tn(e,we,qt,!1)),Ks(e,a),((ke&2)===0||e!==$e)&&(e===$e&&((ke&2)===0&&(Dn|=a),Qe===4&&tn(e,we,qt,!1)),fa(e))}function Rf(e,t,a){if((ke&6)!==0)throw Error(l(327));var r=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Ys(e,t),o=r?Iy(e,t):bc(e,t,!0),u=r;do{if(o===0){ys&&!r&&tn(e,t,0,!1);break}else{if(a=e.current.alternate,u&&!Ky(a)){o=bc(e,t,!1),u=!1;continue}if(o===2){if(u=t,e.errorRecoveryDisabledLanes&u)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var b=e;o=_r;var S=b.current.memoizedState.isDehydrated;if(S&&(xs(b,m).flags|=256),m=bc(b,m,!1),m!==2){if(dc&&!S){b.errorRecoveryDisabledLanes|=u,Dn|=u,o=4;break e}u=Ot,Ot=o,u!==null&&(Ot===null?Ot=u:Ot.push.apply(Ot,u))}o=m}if(u=!1,o!==2)continue}}if(o===1){xs(e,0),tn(e,t,0,!0);break}e:{switch(r=e,u=o,u){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:tn(r,t,qt,!Za);break e;case 2:Ot=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(o=qi+300-Mt(),10<o)){if(tn(r,t,qt,!Za),ei(r,0,!0)!==0)break e;Ca=t,r.timeoutHandle=im(Af.bind(null,r,a,Ot,Yi,fc,t,qt,Dn,bs,Za,u,"Throttled",-0,0),o);break e}Af(r,a,Ot,Yi,fc,t,qt,Dn,bs,Za,u,null,-0,0)}}break}while(!0);fa(e)}function Af(e,t,a,r,o,u,m,b,S,R,z,$,C,D){if(e.timeoutHandle=-1,$=t.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ga},Sf(t,u,$);var W=(u&62914560)===u?qi-Mt():(u&4194048)===u?Nf-Mt():0;if(W=Rb($,W),W!==null){Ca=u,e.cancelPendingCommit=W(Lf.bind(null,e,t,u,a,r,o,m,b,S,z,$,null,C,D)),tn(e,u,m,!R);return}}Lf(e,t,u,a,r,o,m,b,S)}function Ky(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var r=0;r<a.length;r++){var o=a[r],u=o.getSnapshot;o=o.value;try{if(!Bt(u(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function tn(e,t,a,r){t&=~hc,t&=~Dn,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var u=31-Ut(o),m=1<<u;r[u]=-1,o&=~m}a!==0&&$u(e,a,t)}function Ki(){return(ke&6)===0?(Tr(0),!1):!0}function yc(){if(ve!==null){if(Oe===0)var e=ve.return;else e=ve,xa=jn=null,Do(e),us=null,lr=0,e=ve;for(;e!==null;)lf(e.alternate,e),e=e.return;ve=null}}function xs(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,db(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ca=0,yc(),$e=e,ve=a=ba(e.current,null),we=t,Oe=0,Gt=null,Za=!1,ys=Ys(e,t),dc=!1,bs=qt=hc=Dn=Wa=Qe=0,Ot=_r=null,fc=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var o=31-Ut(r),u=1<<o;t|=e[o],r&=~u}return Aa=t,hi(),a}function Cf(e,t){fe=null,M.H=pr,t===cs||t===xi?(t=Pd(),Oe=3):t===wo?(t=Pd(),Oe=4):Oe=t===Qo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Gt=t,ve===null&&(Qe=1,Mi(e,Xt(t,e.current)))}function Of(){var e=$t.current;return e===null?!0:(we&4194048)===we?ea===null:(we&62914560)===we||(we&536870912)!==0?e===ea:!1}function Df(){var e=M.H;return M.H=pr,e===null?pr:e}function Mf(){var e=M.A;return M.A=Vy,e}function Pi(){Qe=4,Za||(we&4194048)!==we&&$t.current!==null||(ys=!0),(Wa&134217727)===0&&(Dn&134217727)===0||$e===null||tn($e,we,qt,!1)}function bc(e,t,a){var r=ke;ke|=2;var o=Df(),u=Mf();($e!==e||we!==t)&&(Yi=null,xs(e,t)),t=!1;var m=Qe;e:do try{if(Oe!==0&&ve!==null){var b=ve,S=Gt;switch(Oe){case 8:yc(),m=6;break e;case 3:case 2:case 9:case 6:$t.current===null&&(t=!0);var R=Oe;if(Oe=0,Gt=null,ws(e,b,S,R),a&&ys){m=0;break e}break;default:R=Oe,Oe=0,Gt=null,ws(e,b,S,R)}}Py(),m=Qe;break}catch(z){Cf(e,z)}while(!0);return t&&e.shellSuspendCounter++,xa=jn=null,ke=r,M.H=o,M.A=u,ve===null&&($e=null,we=0,hi()),m}function Py(){for(;ve!==null;)zf(ve)}function Iy(e,t){var a=ke;ke|=2;var r=Df(),o=Mf();$e!==e||we!==t?(Yi=null,Vi=Mt()+500,xs(e,t)):ys=Ys(e,t);e:do try{if(Oe!==0&&ve!==null){t=ve;var u=Gt;t:switch(Oe){case 1:Oe=0,Gt=null,ws(e,t,u,1);break;case 2:case 9:if(Yd(u)){Oe=0,Gt=null,Uf(t);break}t=function(){Oe!==2&&Oe!==9||$e!==e||(Oe=7),fa(e)},u.then(t,t);break e;case 3:Oe=7;break e;case 4:Oe=5;break e;case 7:Yd(u)?(Oe=0,Gt=null,Uf(t)):(Oe=0,Gt=null,ws(e,t,u,7));break;case 5:var m=null;switch(ve.tag){case 26:m=ve.memoizedState;case 5:case 27:var b=ve;if(m?wm(m):b.stateNode.complete){Oe=0,Gt=null;var S=b.sibling;if(S!==null)ve=S;else{var R=b.return;R!==null?(ve=R,Ii(R)):ve=null}break t}}Oe=0,Gt=null,ws(e,t,u,5);break;case 6:Oe=0,Gt=null,ws(e,t,u,6);break;case 8:yc(),Qe=6;break e;default:throw Error(l(462))}}Jy();break}catch(z){Cf(e,z)}while(!0);return xa=jn=null,M.H=r,M.A=o,ke=a,ve!==null?0:($e=null,we=0,hi(),Qe)}function Jy(){for(;ve!==null&&!yg();)zf(ve)}function zf(e){var t=sf(e.alternate,e,Aa);e.memoizedProps=e.pendingProps,t===null?Ii(e):ve=t}function Uf(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Wh(a,t,t.pendingProps,t.type,void 0,we);break;case 11:t=Wh(a,t,t.pendingProps,t.type.render,t.ref,we);break;case 5:Do(t);default:lf(a,t),t=ve=Dd(t,Aa),t=sf(a,t,Aa)}e.memoizedProps=e.pendingProps,t===null?Ii(e):ve=t}function ws(e,t,a,r){xa=jn=null,Do(t),us=null,lr=0;var o=t.return;try{if(Uy(e,o,t,a,we)){Qe=1,Mi(e,Xt(a,e.current)),ve=null;return}}catch(u){if(o!==null)throw ve=o,u;Qe=1,Mi(e,Xt(a,e.current)),ve=null;return}t.flags&32768?(_e||r===1?e=!0:ys||(we&536870912)!==0?e=!1:(Za=e=!0,(r===2||r===9||r===3||r===6)&&(r=$t.current,r!==null&&r.tag===13&&(r.flags|=16384))),Bf(t,e)):Ii(t)}function Ii(e){var t=e;do{if((t.flags&32768)!==0){Bf(t,Za);return}e=t.return;var a=$y(t.alternate,t,Aa);if(a!==null){ve=a;return}if(t=t.sibling,t!==null){ve=t;return}ve=t=e}while(t!==null);Qe===0&&(Qe=5)}function Bf(e,t){do{var a=Hy(e.alternate,e);if(a!==null){a.flags&=32767,ve=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){ve=e;return}ve=e=a}while(e!==null);Qe=6,ve=null}function Lf(e,t,a,r,o,u,m,b,S){e.cancelPendingCommit=null;do Ji();while(ot!==0);if((ke&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(u=t.lanes|t.childLanes,u|=ro,Eg(e,a,u,m,b,S),e===$e&&(ve=$e=null,we=0),vs=t,en=e,Ca=a,mc=u,pc=o,Ef=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Wy(Xr,function(){return Vf(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=M.T,M.T=null,o=K.p,K.p=2,m=ke,ke|=4;try{Gy(e,t,a)}finally{ke=m,K.p=o,M.T=r}}ot=1,$f(),Hf(),Gf()}}function $f(){if(ot===1){ot=0;var e=en,t=vs,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=M.T,M.T=null;var r=K.p;K.p=2;var o=ke;ke|=4;try{vf(t,e);var u=Ac,m=jd(e.containerInfo),b=u.focusedElem,S=u.selectionRange;if(m!==b&&b&&b.ownerDocument&&_d(b.ownerDocument.documentElement,b)){if(S!==null&&eo(b)){var R=S.start,z=S.end;if(z===void 0&&(z=R),"selectionStart"in b)b.selectionStart=R,b.selectionEnd=Math.min(z,b.value.length);else{var $=b.ownerDocument||document,C=$&&$.defaultView||window;if(C.getSelection){var D=C.getSelection(),W=b.textContent.length,ie=Math.min(S.start,W),Be=S.end===void 0?ie:Math.min(S.end,W);!D.extend&&ie>Be&&(m=Be,Be=ie,ie=m);var E=Sd(b,ie),j=Sd(b,Be);if(E&&j&&(D.rangeCount!==1||D.anchorNode!==E.node||D.anchorOffset!==E.offset||D.focusNode!==j.node||D.focusOffset!==j.offset)){var k=$.createRange();k.setStart(E.node,E.offset),D.removeAllRanges(),ie>Be?(D.addRange(k),D.extend(j.node,j.offset)):(k.setEnd(j.node,j.offset),D.addRange(k))}}}}for($=[],D=b;D=D.parentNode;)D.nodeType===1&&$.push({element:D,left:D.scrollLeft,top:D.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<$.length;b++){var U=$[b];U.element.scrollLeft=U.left,U.element.scrollTop=U.top}}il=!!Rc,Ac=Rc=null}finally{ke=o,K.p=r,M.T=a}}e.current=t,ot=2}}function Hf(){if(ot===2){ot=0;var e=en,t=vs,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=M.T,M.T=null;var r=K.p;K.p=2;var o=ke;ke|=4;try{mf(e,t.alternate,t)}finally{ke=o,K.p=r,M.T=a}}ot=3}}function Gf(){if(ot===4||ot===3){ot=0,bg();var e=en,t=vs,a=Ca,r=Ef;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?ot=5:(ot=0,vs=en=null,qf(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Fa=null),zl(a),t=t.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Vs,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=M.T,o=K.p,K.p=2,M.T=null;try{for(var u=e.onRecoverableError,m=0;m<r.length;m++){var b=r[m];u(b.value,{componentStack:b.stack})}}finally{M.T=t,K.p=o}}(Ca&3)!==0&&Ji(),fa(e),o=e.pendingLanes,(a&261930)!==0&&(o&42)!==0?e===gc?jr++:(jr=0,gc=e):jr=0,Tr(0)}}function qf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,rr(t)))}function Ji(){return $f(),Hf(),Gf(),Vf()}function Vf(){if(ot!==5)return!1;var e=en,t=mc;mc=0;var a=zl(Ca),r=M.T,o=K.p;try{K.p=32>a?32:a,M.T=null,a=pc,pc=null;var u=en,m=Ca;if(ot=0,vs=en=null,Ca=0,(ke&6)!==0)throw Error(l(331));var b=ke;if(ke|=4,jf(u.current),wf(u,u.current,m,a),ke=b,Tr(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Vs,u)}catch{}return!0}finally{K.p=o,M.T=r,qf(e,t)}}function Yf(e,t,a){t=Xt(a,t),t=Jo(e.stateNode,t,2),e=Ia(e,t,2),e!==null&&(Ks(e,2),fa(e))}function De(e,t,a){if(e.tag===3)Yf(e,e,a);else for(;t!==null;){if(t.tag===3){Yf(t,e,a);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fa===null||!Fa.has(r))){e=Xt(a,e),a=Yh(2),r=Ia(t,a,2),r!==null&&(Kh(a,r,t,e),Ks(r,2),fa(r));break}}t=t.return}}function vc(e,t,a){var r=e.pingCache;if(r===null){r=e.pingCache=new Yy;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(a)||(dc=!0,o.add(a),e=Qy.bind(null,e,t,a),t.then(e,e))}function Qy(e,t,a){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,$e===e&&(we&a)===a&&(Qe===4||Qe===3&&(we&62914560)===we&&300>Mt()-qi?(ke&2)===0&&xs(e,0):hc|=a,bs===we&&(bs=0)),fa(e)}function Kf(e,t){t===0&&(t=Lu()),e=wn(e,t),e!==null&&(Ks(e,t),fa(e))}function Xy(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Kf(e,a)}function Zy(e,t){var a=0;switch(e.tag){case 31:case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(l(314))}r!==null&&r.delete(t),Kf(e,a)}function Wy(e,t){return Cl(e,t)}var Qi=null,Ss=null,xc=!1,Xi=!1,wc=!1,an=0;function fa(e){e!==Ss&&e.next===null&&(Ss===null?Qi=Ss=e:Ss=Ss.next=e),Xi=!0,xc||(xc=!0,eb())}function Tr(e,t){if(!wc&&Xi){wc=!0;do for(var a=!1,r=Qi;r!==null;){if(e!==0){var o=r.pendingLanes;if(o===0)var u=0;else{var m=r.suspendedLanes,b=r.pingedLanes;u=(1<<31-Ut(42|e)+1)-1,u&=o&~(m&~b),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(a=!0,Qf(r,u))}else u=we,u=ei(r,r===$e?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(u&3)===0||Ys(r,u)||(a=!0,Qf(r,u));r=r.next}while(a);wc=!1}}function Fy(){Pf()}function Pf(){Xi=xc=!1;var e=0;an!==0&&ub()&&(e=an);for(var t=Mt(),a=null,r=Qi;r!==null;){var o=r.next,u=If(r,t);u===0?(r.next=null,a===null?Qi=o:a.next=o,o===null&&(Ss=a)):(a=r,(e!==0||(u&3)!==0)&&(Xi=!0)),r=o}ot!==0&&ot!==5||Tr(e),an!==0&&(an=0)}function If(e,t){for(var a=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var m=31-Ut(u),b=1<<m,S=o[m];S===-1?((b&a)===0||(b&r)!==0)&&(o[m]=Ng(b,t)):S<=t&&(e.expiredLanes|=b),u&=~b}if(t=$e,a=we,a=ei(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,a===0||e===t&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Ol(r),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ys(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(r!==null&&Ol(r),zl(a)){case 2:case 8:a=Uu;break;case 32:a=Xr;break;case 268435456:a=Bu;break;default:a=Xr}return r=Jf.bind(null,e),a=Cl(a,r),e.callbackPriority=t,e.callbackNode=a,t}return r!==null&&r!==null&&Ol(r),e.callbackPriority=2,e.callbackNode=null,2}function Jf(e,t){if(ot!==0&&ot!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ji()&&e.callbackNode!==a)return null;var r=we;return r=ei(e,e===$e?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(Rf(e,r,t),If(e,Mt()),e.callbackNode!=null&&e.callbackNode===a?Jf.bind(null,e):null)}function Qf(e,t){if(Ji())return null;Rf(e,t,!0)}function eb(){hb(function(){(ke&6)!==0?Cl(zu,Fy):Pf()})}function Sc(){if(an===0){var e=ls;e===0&&(e=Zr,Zr<<=1,(Zr&261888)===0&&(Zr=256)),an=e}return an}function Xf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:si(""+e)}function Zf(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function tb(e,t,a,r,o){if(t==="submit"&&a&&a.stateNode===o){var u=Xf((o[Et]||null).action),m=r.submitter;m&&(t=(t=m[Et]||null)?Xf(t.formAction):m.getAttribute("formAction"),t!==null&&(u=t,m=null));var b=new oi("action","action",null,r,o);e.push({event:b,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(an!==0){var S=m?Zf(o,m):new FormData(o);qo(a,{pending:!0,data:S,method:o.method,action:u},null,S)}}else typeof u=="function"&&(b.preventDefault(),S=m?Zf(o,m):new FormData(o),qo(a,{pending:!0,data:S,method:o.method,action:u},u,S))},currentTarget:o}]})}}for(var _c=0;_c<so.length;_c++){var jc=so[_c],ab=jc.toLowerCase(),nb=jc[0].toUpperCase()+jc.slice(1);na(ab,"on"+nb)}na(Ed,"onAnimationEnd"),na(kd,"onAnimationIteration"),na(Rd,"onAnimationStart"),na("dblclick","onDoubleClick"),na("focusin","onFocus"),na("focusout","onBlur"),na(vy,"onTransitionRun"),na(xy,"onTransitionStart"),na(wy,"onTransitionCancel"),na(Ad,"onTransitionEnd"),In("onMouseEnter",["mouseout","mouseover"]),In("onMouseLeave",["mouseout","mouseover"]),In("onPointerEnter",["pointerout","pointerover"]),In("onPointerLeave",["pointerout","pointerover"]),yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nr));function Wf(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var r=e[a],o=r.event;r=r.listeners;e:{var u=void 0;if(t)for(var m=r.length-1;0<=m;m--){var b=r[m],S=b.instance,R=b.currentTarget;if(b=b.listener,S!==u&&o.isPropagationStopped())break e;u=b,o.currentTarget=R;try{u(o)}catch(z){di(z)}o.currentTarget=null,u=S}else for(m=0;m<r.length;m++){if(b=r[m],S=b.instance,R=b.currentTarget,b=b.listener,S!==u&&o.isPropagationStopped())break e;u=b,o.currentTarget=R;try{u(o)}catch(z){di(z)}o.currentTarget=null,u=S}}}}function xe(e,t){var a=t[Ul];a===void 0&&(a=t[Ul]=new Set);var r=e+"__bubble";a.has(r)||(Ff(t,e,2,!1),a.add(r))}function Tc(e,t,a){var r=0;t&&(r|=4),Ff(a,e,r,t)}var Zi="_reactListening"+Math.random().toString(36).slice(2);function Nc(e){if(!e[Zi]){e[Zi]=!0,Ku.forEach(function(a){a!=="selectionchange"&&(sb.has(a)||Tc(a,!1,e),Tc(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Zi]||(t[Zi]=!0,Tc("selectionchange",!1,t))}}function Ff(e,t,a,r){switch(km(t)){case 2:var o=Ob;break;case 8:o=Db;break;default:o=Gc}a=o.bind(null,t,a,e),o=void 0,!Kl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function Ec(e,t,a,r,o){var u=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var m=r.tag;if(m===3||m===4){var b=r.stateNode.containerInfo;if(b===o)break;if(m===4)for(m=r.return;m!==null;){var S=m.tag;if((S===3||S===4)&&m.stateNode.containerInfo===o)return;m=m.return}for(;b!==null;){if(m=Yn(b),m===null)return;if(S=m.tag,S===5||S===6||S===26||S===27){r=u=m;continue e}b=b.parentNode}}r=r.return}nd(function(){var R=u,z=Vl(a),$=[];e:{var C=Cd.get(e);if(C!==void 0){var D=oi,W=e;switch(e){case"keypress":if(ii(a)===0)break e;case"keydown":case"keyup":D=Zg;break;case"focusin":W="focus",D=Ql;break;case"focusout":W="blur",D=Ql;break;case"beforeblur":case"afterblur":D=Ql;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=id;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=$g;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=ey;break;case Ed:case kd:case Rd:D=qg;break;case Ad:D=ay;break;case"scroll":case"scrollend":D=Bg;break;case"wheel":D=sy;break;case"copy":case"cut":case"paste":D=Yg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=od;break;case"toggle":case"beforetoggle":D=iy}var ie=(t&4)!==0,Be=!ie&&(e==="scroll"||e==="scrollend"),E=ie?C!==null?C+"Capture":null:C;ie=[];for(var j=R,k;j!==null;){var U=j;if(k=U.stateNode,U=U.tag,U!==5&&U!==26&&U!==27||k===null||E===null||(U=Js(j,E),U!=null&&ie.push(Er(j,U,k))),Be)break;j=j.return}0<ie.length&&(C=new D(C,W,null,a,z),$.push({event:C,listeners:ie}))}}if((t&7)===0){e:{if(C=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",C&&a!==ql&&(W=a.relatedTarget||a.fromElement)&&(Yn(W)||W[Vn]))break e;if((D||C)&&(C=z.window===z?z:(C=z.ownerDocument)?C.defaultView||C.parentWindow:window,D?(W=a.relatedTarget||a.toElement,D=R,W=W?Yn(W):null,W!==null&&(Be=h(W),ie=W.tag,W!==Be||ie!==5&&ie!==27&&ie!==6)&&(W=null)):(D=null,W=R),D!==W)){if(ie=id,U="onMouseLeave",E="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(ie=od,U="onPointerLeave",E="onPointerEnter",j="pointer"),Be=D==null?C:Is(D),k=W==null?C:Is(W),C=new ie(U,j+"leave",D,a,z),C.target=Be,C.relatedTarget=k,U=null,Yn(z)===R&&(ie=new ie(E,j+"enter",W,a,z),ie.target=k,ie.relatedTarget=Be,U=ie),Be=U,D&&W)t:{for(ie=rb,E=D,j=W,k=0,U=E;U;U=ie(U))k++;U=0;for(var re=j;re;re=ie(re))U++;for(;0<k-U;)E=ie(E),k--;for(;0<U-k;)j=ie(j),U--;for(;k--;){if(E===j||j!==null&&E===j.alternate){ie=E;break t}E=ie(E),j=ie(j)}ie=null}else ie=null;D!==null&&em($,C,D,ie,!1),W!==null&&Be!==null&&em($,Be,W,ie,!0)}}e:{if(C=R?Is(R):window,D=C.nodeName&&C.nodeName.toLowerCase(),D==="select"||D==="input"&&C.type==="file")var Te=gd;else if(md(C))if(yd)Te=gy;else{Te=my;var ae=fy}else D=C.nodeName,!D||D.toLowerCase()!=="input"||C.type!=="checkbox"&&C.type!=="radio"?R&&Gl(R.elementType)&&(Te=gd):Te=py;if(Te&&(Te=Te(e,R))){pd($,Te,a,z);break e}ae&&ae(e,C,R),e==="focusout"&&R&&C.type==="number"&&R.memoizedProps.value!=null&&Hl(C,"number",C.value)}switch(ae=R?Is(R):window,e){case"focusin":(md(ae)||ae.contentEditable==="true")&&(Fn=ae,to=R,ar=null);break;case"focusout":ar=to=Fn=null;break;case"mousedown":ao=!0;break;case"contextmenu":case"mouseup":case"dragend":ao=!1,Td($,a,z);break;case"selectionchange":if(by)break;case"keydown":case"keyup":Td($,a,z)}var pe;if(Zl)e:{switch(e){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Wn?hd(e,a)&&(Se="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Se="onCompositionStart");Se&&(cd&&a.locale!=="ko"&&(Wn||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Wn&&(pe=sd()):(Ha=z,Pl="value"in Ha?Ha.value:Ha.textContent,Wn=!0)),ae=Wi(R,Se),0<ae.length&&(Se=new ld(Se,e,null,a,z),$.push({event:Se,listeners:ae}),pe?Se.data=pe:(pe=fd(a),pe!==null&&(Se.data=pe)))),(pe=oy?cy(e,a):uy(e,a))&&(Se=Wi(R,"onBeforeInput"),0<Se.length&&(ae=new ld("onBeforeInput","beforeinput",null,a,z),$.push({event:ae,listeners:Se}),ae.data=pe)),tb($,e,R,a,z)}Wf($,t)})}function Er(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Wi(e,t){for(var a=t+"Capture",r=[];e!==null;){var o=e,u=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||u===null||(o=Js(e,a),o!=null&&r.unshift(Er(e,o,u)),o=Js(e,t),o!=null&&r.push(Er(e,o,u))),e.tag===3)return r;e=e.return}return[]}function rb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function em(e,t,a,r,o){for(var u=t._reactName,m=[];a!==null&&a!==r;){var b=a,S=b.alternate,R=b.stateNode;if(b=b.tag,S!==null&&S===r)break;b!==5&&b!==26&&b!==27||R===null||(S=R,o?(R=Js(a,u),R!=null&&m.unshift(Er(a,R,S))):o||(R=Js(a,u),R!=null&&m.push(Er(a,R,S)))),a=a.return}m.length!==0&&e.push({event:t,listeners:m})}var ib=/\r\n?/g,lb=/\u0000|\uFFFD/g;function tm(e){return(typeof e=="string"?e:""+e).replace(ib,`
`).replace(lb,"")}function am(e,t){return t=tm(t),tm(e)===t}function Ue(e,t,a,r,o,u){switch(a){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||Qn(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&Qn(e,""+r);break;case"className":ai(e,"class",r);break;case"tabIndex":ai(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ai(e,a,r);break;case"style":td(e,r,u);break;case"data":if(t!=="object"){ai(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(a);break}r=si(""+r),e.setAttribute(a,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(a==="formAction"?(t!=="input"&&Ue(e,t,"name",o.name,o,null),Ue(e,t,"formEncType",o.formEncType,o,null),Ue(e,t,"formMethod",o.formMethod,o,null),Ue(e,t,"formTarget",o.formTarget,o,null)):(Ue(e,t,"encType",o.encType,o,null),Ue(e,t,"method",o.method,o,null),Ue(e,t,"target",o.target,o,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(a);break}r=si(""+r),e.setAttribute(a,r);break;case"onClick":r!=null&&(e.onclick=ga);break;case"onScroll":r!=null&&xe("scroll",e);break;case"onScrollEnd":r!=null&&xe("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(a=r.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}a=si(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,""+r):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":r===!0?e.setAttribute(a,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,r):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(a,r):e.removeAttribute(a);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(a):e.setAttribute(a,r);break;case"popover":xe("beforetoggle",e),xe("toggle",e),ti(e,"popover",r);break;case"xlinkActuate":pa(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":pa(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":pa(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":pa(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":pa(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":pa(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":pa(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":pa(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":pa(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":ti(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=zg.get(a)||a,ti(e,a,r))}}function kc(e,t,a,r,o,u){switch(a){case"style":td(e,r,u);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(a=r.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof r=="string"?Qn(e,r):(typeof r=="number"||typeof r=="bigint")&&Qn(e,""+r);break;case"onScroll":r!=null&&xe("scroll",e);break;case"onScrollEnd":r!=null&&xe("scrollend",e);break;case"onClick":r!=null&&(e.onclick=ga);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pu.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),u=e[Et]||null,u=u!=null?u[a]:null,typeof u=="function"&&e.removeEventListener(t,u,o),typeof r=="function")){typeof u!="function"&&u!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,r,o);break e}a in e?e[a]=r:r===!0?e.setAttribute(a,""):ti(e,a,r)}}}function wt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",e),xe("load",e);var r=!1,o=!1,u;for(u in a)if(a.hasOwnProperty(u)){var m=a[u];if(m!=null)switch(u){case"src":r=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ue(e,t,u,m,a,null)}}o&&Ue(e,t,"srcSet",a.srcSet,a,null),r&&Ue(e,t,"src",a.src,a,null);return;case"input":xe("invalid",e);var b=u=m=o=null,S=null,R=null;for(r in a)if(a.hasOwnProperty(r)){var z=a[r];if(z!=null)switch(r){case"name":o=z;break;case"type":m=z;break;case"checked":S=z;break;case"defaultChecked":R=z;break;case"value":u=z;break;case"defaultValue":b=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(l(137,t));break;default:Ue(e,t,r,z,a,null)}}Zu(e,u,b,S,R,m,o,!1);return;case"select":xe("invalid",e),r=m=u=null;for(o in a)if(a.hasOwnProperty(o)&&(b=a[o],b!=null))switch(o){case"value":u=b;break;case"defaultValue":m=b;break;case"multiple":r=b;default:Ue(e,t,o,b,a,null)}t=u,a=m,e.multiple=!!r,t!=null?Jn(e,!!r,t,!1):a!=null&&Jn(e,!!r,a,!0);return;case"textarea":xe("invalid",e),u=o=r=null;for(m in a)if(a.hasOwnProperty(m)&&(b=a[m],b!=null))switch(m){case"value":r=b;break;case"defaultValue":o=b;break;case"children":u=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(l(91));break;default:Ue(e,t,m,b,a,null)}Fu(e,r,o,u);return;case"option":for(S in a)a.hasOwnProperty(S)&&(r=a[S],r!=null)&&(S==="selected"?e.selected=r&&typeof r!="function"&&typeof r!="symbol":Ue(e,t,S,r,a,null));return;case"dialog":xe("beforetoggle",e),xe("toggle",e),xe("cancel",e),xe("close",e);break;case"iframe":case"object":xe("load",e);break;case"video":case"audio":for(r=0;r<Nr.length;r++)xe(Nr[r],e);break;case"image":xe("error",e),xe("load",e);break;case"details":xe("toggle",e);break;case"embed":case"source":case"link":xe("error",e),xe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in a)if(a.hasOwnProperty(R)&&(r=a[R],r!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ue(e,t,R,r,a,null)}return;default:if(Gl(t)){for(z in a)a.hasOwnProperty(z)&&(r=a[z],r!==void 0&&kc(e,t,z,r,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(r=a[b],r!=null&&Ue(e,t,b,r,a,null))}function ob(e,t,a,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,u=null,m=null,b=null,S=null,R=null,z=null;for(D in a){var $=a[D];if(a.hasOwnProperty(D)&&$!=null)switch(D){case"checked":break;case"value":break;case"defaultValue":S=$;default:r.hasOwnProperty(D)||Ue(e,t,D,null,r,$)}}for(var C in r){var D=r[C];if($=a[C],r.hasOwnProperty(C)&&(D!=null||$!=null))switch(C){case"type":u=D;break;case"name":o=D;break;case"checked":R=D;break;case"defaultChecked":z=D;break;case"value":m=D;break;case"defaultValue":b=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(l(137,t));break;default:D!==$&&Ue(e,t,C,D,r,$)}}$l(e,m,b,S,R,z,u,o);return;case"select":D=m=b=C=null;for(u in a)if(S=a[u],a.hasOwnProperty(u)&&S!=null)switch(u){case"value":break;case"multiple":D=S;default:r.hasOwnProperty(u)||Ue(e,t,u,null,r,S)}for(o in r)if(u=r[o],S=a[o],r.hasOwnProperty(o)&&(u!=null||S!=null))switch(o){case"value":C=u;break;case"defaultValue":b=u;break;case"multiple":m=u;default:u!==S&&Ue(e,t,o,u,r,S)}t=b,a=m,r=D,C!=null?Jn(e,!!a,C,!1):!!r!=!!a&&(t!=null?Jn(e,!!a,t,!0):Jn(e,!!a,a?[]:"",!1));return;case"textarea":D=C=null;for(b in a)if(o=a[b],a.hasOwnProperty(b)&&o!=null&&!r.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ue(e,t,b,null,r,o)}for(m in r)if(o=r[m],u=a[m],r.hasOwnProperty(m)&&(o!=null||u!=null))switch(m){case"value":C=o;break;case"defaultValue":D=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(l(91));break;default:o!==u&&Ue(e,t,m,o,r,u)}Wu(e,C,D);return;case"option":for(var W in a)C=a[W],a.hasOwnProperty(W)&&C!=null&&!r.hasOwnProperty(W)&&(W==="selected"?e.selected=!1:Ue(e,t,W,null,r,C));for(S in r)C=r[S],D=a[S],r.hasOwnProperty(S)&&C!==D&&(C!=null||D!=null)&&(S==="selected"?e.selected=C&&typeof C!="function"&&typeof C!="symbol":Ue(e,t,S,C,r,D));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ie in a)C=a[ie],a.hasOwnProperty(ie)&&C!=null&&!r.hasOwnProperty(ie)&&Ue(e,t,ie,null,r,C);for(R in r)if(C=r[R],D=a[R],r.hasOwnProperty(R)&&C!==D&&(C!=null||D!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(l(137,t));break;default:Ue(e,t,R,C,r,D)}return;default:if(Gl(t)){for(var Be in a)C=a[Be],a.hasOwnProperty(Be)&&C!==void 0&&!r.hasOwnProperty(Be)&&kc(e,t,Be,void 0,r,C);for(z in r)C=r[z],D=a[z],!r.hasOwnProperty(z)||C===D||C===void 0&&D===void 0||kc(e,t,z,C,r,D);return}}for(var E in a)C=a[E],a.hasOwnProperty(E)&&C!=null&&!r.hasOwnProperty(E)&&Ue(e,t,E,null,r,C);for($ in r)C=r[$],D=a[$],!r.hasOwnProperty($)||C===D||C==null&&D==null||Ue(e,t,$,C,r,D)}function nm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function cb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),r=0;r<a.length;r++){var o=a[r],u=o.transferSize,m=o.initiatorType,b=o.duration;if(u&&b&&nm(m)){for(m=0,b=o.responseEnd,r+=1;r<a.length;r++){var S=a[r],R=S.startTime;if(R>b)break;var z=S.transferSize,$=S.initiatorType;z&&nm($)&&(S=S.responseEnd,m+=z*(S<b?1:(b-R)/(S-R)))}if(--r,t+=8*(u+m)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Rc=null,Ac=null;function Fi(e){return e.nodeType===9?e:e.ownerDocument}function sm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Cc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Oc=null;function ub(){var e=window.event;return e&&e.type==="popstate"?e===Oc?!1:(Oc=e,!0):(Oc=null,!1)}var im=typeof setTimeout=="function"?setTimeout:void 0,db=typeof clearTimeout=="function"?clearTimeout:void 0,lm=typeof Promise=="function"?Promise:void 0,hb=typeof queueMicrotask=="function"?queueMicrotask:typeof lm<"u"?function(e){return lm.resolve(null).then(e).catch(fb)}:im;function fb(e){setTimeout(function(){throw e})}function nn(e){return e==="head"}function om(e,t){var a=t,r=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"||a==="/&"){if(r===0){e.removeChild(o),Ns(t);return}r--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")r++;else if(a==="html")kr(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,kr(a);for(var u=a.firstChild;u;){var m=u.nextSibling,b=u.nodeName;u[Ps]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&u.rel.toLowerCase()==="stylesheet"||a.removeChild(u),u=m}}else a==="body"&&kr(e.ownerDocument.body);a=o}while(a);Ns(t)}function cm(e,t){var a=e;e=0;do{var r=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),r&&r.nodeType===8)if(a=r.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=r}while(a)}function Dc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Dc(a),Bl(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function mb(e,t,a,r){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Ps])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=ta(e.nextSibling),e===null)break}return null}function pb(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=ta(e.nextSibling),e===null))return null;return e}function um(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=ta(e.nextSibling),e===null))return null;return e}function Mc(e){return e.data==="$?"||e.data==="$~"}function zc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function gb(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var r=function(){t(),a.removeEventListener("DOMContentLoaded",r)};a.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function ta(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Uc=null;function dm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return ta(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function hm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function fm(e,t,a){switch(t=Fi(a),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function kr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Bl(e)}var aa=new Map,mm=new Set;function el(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Oa=K.d;K.d={f:yb,r:bb,D:vb,C:xb,L:wb,m:Sb,X:jb,S:_b,M:Tb};function yb(){var e=Oa.f(),t=Ki();return e||t}function bb(e){var t=Kn(e);t!==null&&t.tag===5&&t.type==="form"?Ah(t):Oa.r(e)}var _s=typeof document>"u"?null:document;function pm(e,t,a){var r=_s;if(r&&typeof t=="string"&&t){var o=Jt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),mm.has(o)||(mm.add(o),e={rel:e,crossOrigin:a,href:t},r.querySelector(o)===null&&(t=r.createElement("link"),wt(t,"link",e),mt(t),r.head.appendChild(t)))}}function vb(e){Oa.D(e),pm("dns-prefetch",e,null)}function xb(e,t){Oa.C(e,t),pm("preconnect",e,t)}function wb(e,t,a){Oa.L(e,t,a);var r=_s;if(r&&e&&t){var o='link[rel="preload"][as="'+Jt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+Jt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+Jt(a.imageSizes)+'"]')):o+='[href="'+Jt(e)+'"]';var u=o;switch(t){case"style":u=js(e);break;case"script":u=Ts(e)}aa.has(u)||(e=_({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),aa.set(u,e),r.querySelector(o)!==null||t==="style"&&r.querySelector(Rr(u))||t==="script"&&r.querySelector(Ar(u))||(t=r.createElement("link"),wt(t,"link",e),mt(t),r.head.appendChild(t)))}}function Sb(e,t){Oa.m(e,t);var a=_s;if(a&&e){var r=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Jt(r)+'"][href="'+Jt(e)+'"]',u=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=Ts(e)}if(!aa.has(u)&&(e=_({rel:"modulepreload",href:e},t),aa.set(u,e),a.querySelector(o)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ar(u)))return}r=a.createElement("link"),wt(r,"link",e),mt(r),a.head.appendChild(r)}}}function _b(e,t,a){Oa.S(e,t,a);var r=_s;if(r&&e){var o=Pn(r).hoistableStyles,u=js(e);t=t||"default";var m=o.get(u);if(!m){var b={loading:0,preload:null};if(m=r.querySelector(Rr(u)))b.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":t},a),(a=aa.get(u))&&Bc(e,a);var S=m=r.createElement("link");mt(S),wt(S,"link",e),S._p=new Promise(function(R,z){S.onload=R,S.onerror=z}),S.addEventListener("load",function(){b.loading|=1}),S.addEventListener("error",function(){b.loading|=2}),b.loading|=4,tl(m,t,r)}m={type:"stylesheet",instance:m,count:1,state:b},o.set(u,m)}}}function jb(e,t){Oa.X(e,t);var a=_s;if(a&&e){var r=Pn(a).hoistableScripts,o=Ts(e),u=r.get(o);u||(u=a.querySelector(Ar(o)),u||(e=_({src:e,async:!0},t),(t=aa.get(o))&&Lc(e,t),u=a.createElement("script"),mt(u),wt(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},r.set(o,u))}}function Tb(e,t){Oa.M(e,t);var a=_s;if(a&&e){var r=Pn(a).hoistableScripts,o=Ts(e),u=r.get(o);u||(u=a.querySelector(Ar(o)),u||(e=_({src:e,async:!0,type:"module"},t),(t=aa.get(o))&&Lc(e,t),u=a.createElement("script"),mt(u),wt(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},r.set(o,u))}}function gm(e,t,a,r){var o=(o=ye.current)?el(o):null;if(!o)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=js(a.href),a=Pn(o).hoistableStyles,r=a.get(t),r||(r={type:"style",instance:null,count:0,state:null},a.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=js(a.href);var u=Pn(o).hoistableStyles,m=u.get(e);if(m||(o=o.ownerDocument||o,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,m),(u=o.querySelector(Rr(e)))&&!u._p&&(m.instance=u,m.state.loading=5),aa.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},aa.set(e,a),u||Nb(o,e,a,m.state))),t&&r===null)throw Error(l(528,""));return m}if(t&&r!==null)throw Error(l(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ts(a),a=Pn(o).hoistableScripts,r=a.get(t),r||(r={type:"script",instance:null,count:0,state:null},a.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function js(e){return'href="'+Jt(e)+'"'}function Rr(e){return'link[rel="stylesheet"]['+e+"]"}function ym(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function Nb(e,t,a,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),wt(t,"link",a),mt(t),e.head.appendChild(t))}function Ts(e){return'[src="'+Jt(e)+'"]'}function Ar(e){return"script[async]"+e}function bm(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+Jt(a.href)+'"]');if(r)return t.instance=r,mt(r),r;var o=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),mt(r),wt(r,"style",o),tl(r,a.precedence,e),t.instance=r;case"stylesheet":o=js(a.href);var u=e.querySelector(Rr(o));if(u)return t.state.loading|=4,t.instance=u,mt(u),u;r=ym(a),(o=aa.get(o))&&Bc(r,o),u=(e.ownerDocument||e).createElement("link"),mt(u);var m=u;return m._p=new Promise(function(b,S){m.onload=b,m.onerror=S}),wt(u,"link",r),t.state.loading|=4,tl(u,a.precedence,e),t.instance=u;case"script":return u=Ts(a.src),(o=e.querySelector(Ar(u)))?(t.instance=o,mt(o),o):(r=a,(o=aa.get(u))&&(r=_({},a),Lc(r,o)),e=e.ownerDocument||e,o=e.createElement("script"),mt(o),wt(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,tl(r,a.precedence,e));return t.instance}function tl(e,t,a){for(var r=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,u=o,m=0;m<r.length;m++){var b=r[m];if(b.dataset.precedence===t)u=b;else if(u!==o)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Bc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Lc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var al=null;function vm(e,t,a){if(al===null){var r=new Map,o=al=new Map;o.set(a,r)}else o=al,r=o.get(a),r||(r=new Map,o.set(a,r));if(r.has(e))return r;for(r.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var u=a[o];if(!(u[Ps]||u[yt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var m=u.getAttribute(t)||"";m=e+m;var b=r.get(m);b?b.push(u):r.set(m,[u])}}return r}function xm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Eb(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function wm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function kb(e,t,a,r){if(a.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var o=js(r.href),u=t.querySelector(Rr(o));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=nl.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=u,mt(u);return}u=t.ownerDocument||t,r=ym(r),(o=aa.get(o))&&Bc(r,o),u=u.createElement("link"),mt(u);var m=u;m._p=new Promise(function(b,S){m.onload=b,m.onerror=S}),wt(u,"link",r),a.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=nl.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var $c=0;function Rb(e,t){return e.stylesheets&&e.count===0&&rl(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var r=setTimeout(function(){if(e.stylesheets&&rl(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&$c===0&&($c=62500*cb());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&rl(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>$c?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(o)}}:null}function nl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)rl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var sl=null;function rl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,sl=new Map,t.forEach(Ab,e),sl=null,nl.call(e))}function Ab(e,t){if(!(t.state.loading&4)){var a=sl.get(e);if(a)var r=a.get(null);else{a=new Map,sl.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<o.length;u++){var m=o[u];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(a.set(m.dataset.precedence,m),r=m)}r&&a.set(null,r)}o=t.instance,m=o.getAttribute("data-precedence"),u=a.get(m)||r,u===r&&a.set(null,o),a.set(m,o),this.count++,r=nl.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),u?u.parentNode.insertBefore(o,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Cr={$$typeof:H,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function Cb(e,t,a,r,o,u,m,b,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dl(0),this.hiddenUpdates=Dl(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=u,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Sm(e,t,a,r,o,u,m,b,S,R,z,$){return e=new Cb(e,t,a,m,S,R,z,$,b),t=1,u===!0&&(t|=24),u=Lt(3,null,null,t),e.current=u,u.stateNode=e,t=bo(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:r,isDehydrated:a,cache:t},So(u),e}function _m(e){return e?(e=as,e):as}function jm(e,t,a,r,o,u){o=_m(o),r.context===null?r.context=o:r.pendingContext=o,r=Pa(t),r.payload={element:a},u=u===void 0?null:u,u!==null&&(r.callback=u),a=Ia(e,r,t),a!==null&&(Dt(a,e,t),cr(a,e,t))}function Tm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Hc(e,t){Tm(e,t),(e=e.alternate)&&Tm(e,t)}function Nm(e){if(e.tag===13||e.tag===31){var t=wn(e,67108864);t!==null&&Dt(t,e,67108864),Hc(e,67108864)}}function Em(e){if(e.tag===13||e.tag===31){var t=Vt();t=Ml(t);var a=wn(e,t);a!==null&&Dt(a,e,t),Hc(e,t)}}var il=!0;function Ob(e,t,a,r){var o=M.T;M.T=null;var u=K.p;try{K.p=2,Gc(e,t,a,r)}finally{K.p=u,M.T=o}}function Db(e,t,a,r){var o=M.T;M.T=null;var u=K.p;try{K.p=8,Gc(e,t,a,r)}finally{K.p=u,M.T=o}}function Gc(e,t,a,r){if(il){var o=qc(r);if(o===null)Ec(e,t,r,ll,a),Rm(e,r);else if(zb(o,e,t,a,r))r.stopPropagation();else if(Rm(e,r),t&4&&-1<Mb.indexOf(e)){for(;o!==null;){var u=Kn(o);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var m=gn(u.pendingLanes);if(m!==0){var b=u;for(b.pendingLanes|=2,b.entangledLanes|=2;m;){var S=1<<31-Ut(m);b.entanglements[1]|=S,m&=~S}fa(u),(ke&6)===0&&(Vi=Mt()+500,Tr(0))}}break;case 31:case 13:b=wn(u,2),b!==null&&Dt(b,u,2),Ki(),Hc(u,2)}if(u=qc(r),u===null&&Ec(e,t,r,ll,a),u===o)break;o=u}o!==null&&r.stopPropagation()}else Ec(e,t,r,null,a)}}function qc(e){return e=Vl(e),Vc(e)}var ll=null;function Vc(e){if(ll=null,e=Yn(e),e!==null){var t=h(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=f(t),e!==null)return e;e=null}else if(a===31){if(e=y(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ll=e,null}function km(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vg()){case zu:return 2;case Uu:return 8;case Xr:case xg:return 32;case Bu:return 268435456;default:return 32}default:return 32}}var Yc=!1,sn=null,rn=null,ln=null,Or=new Map,Dr=new Map,on=[],Mb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rm(e,t){switch(e){case"focusin":case"focusout":sn=null;break;case"dragenter":case"dragleave":rn=null;break;case"mouseover":case"mouseout":ln=null;break;case"pointerover":case"pointerout":Or.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dr.delete(t.pointerId)}}function Mr(e,t,a,r,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:a,eventSystemFlags:r,nativeEvent:u,targetContainers:[o]},t!==null&&(t=Kn(t),t!==null&&Nm(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function zb(e,t,a,r,o){switch(t){case"focusin":return sn=Mr(sn,e,t,a,r,o),!0;case"dragenter":return rn=Mr(rn,e,t,a,r,o),!0;case"mouseover":return ln=Mr(ln,e,t,a,r,o),!0;case"pointerover":var u=o.pointerId;return Or.set(u,Mr(Or.get(u)||null,e,t,a,r,o)),!0;case"gotpointercapture":return u=o.pointerId,Dr.set(u,Mr(Dr.get(u)||null,e,t,a,r,o)),!0}return!1}function Am(e){var t=Yn(e.target);if(t!==null){var a=h(t);if(a!==null){if(t=a.tag,t===13){if(t=f(a),t!==null){e.blockedOn=t,Vu(e.priority,function(){Em(a)});return}}else if(t===31){if(t=y(a),t!==null){e.blockedOn=t,Vu(e.priority,function(){Em(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ol(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=qc(e.nativeEvent);if(a===null){a=e.nativeEvent;var r=new a.constructor(a.type,a);ql=r,a.target.dispatchEvent(r),ql=null}else return t=Kn(a),t!==null&&Nm(t),e.blockedOn=a,!1;t.shift()}return!0}function Cm(e,t,a){ol(e)&&a.delete(t)}function Ub(){Yc=!1,sn!==null&&ol(sn)&&(sn=null),rn!==null&&ol(rn)&&(rn=null),ln!==null&&ol(ln)&&(ln=null),Or.forEach(Cm),Dr.forEach(Cm)}function cl(e,t){e.blockedOn===t&&(e.blockedOn=null,Yc||(Yc=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Ub)))}var ul=null;function Om(e){ul!==e&&(ul=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){ul===e&&(ul=null);for(var t=0;t<e.length;t+=3){var a=e[t],r=e[t+1],o=e[t+2];if(typeof r!="function"){if(Vc(r||a)===null)continue;break}var u=Kn(a);u!==null&&(e.splice(t,3),t-=3,qo(u,{pending:!0,data:o,method:a.method,action:r},r,o))}}))}function Ns(e){function t(S){return cl(S,e)}sn!==null&&cl(sn,e),rn!==null&&cl(rn,e),ln!==null&&cl(ln,e),Or.forEach(t),Dr.forEach(t);for(var a=0;a<on.length;a++){var r=on[a];r.blockedOn===e&&(r.blockedOn=null)}for(;0<on.length&&(a=on[0],a.blockedOn===null);)Am(a),a.blockedOn===null&&on.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(r=0;r<a.length;r+=3){var o=a[r],u=a[r+1],m=o[Et]||null;if(typeof u=="function")m||Om(a);else if(m){var b=null;if(u&&u.hasAttribute("formAction")){if(o=u,m=u[Et]||null)b=m.formAction;else if(Vc(o)!==null)continue}else b=m.action;typeof b=="function"?a[r+1]=b:(a.splice(r,3),r-=3),Om(a)}}}function Dm(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(m){return o=m})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),r||setTimeout(a,20)}function a(){if(!r&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function Kc(e){this._internalRoot=e}dl.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var a=t.current,r=Vt();jm(a,r,e,t,null,null)},dl.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;jm(e.current,2,null,e,null,null),Ki(),t[Vn]=null}};function dl(e){this._internalRoot=e}dl.prototype.unstable_scheduleHydration=function(e){if(e){var t=qu();e={blockedOn:null,target:e,priority:t};for(var a=0;a<on.length&&t!==0&&t<on[a].priority;a++);on.splice(a,0,e),a===0&&Am(e)}};var Mm=n.version;if(Mm!=="19.2.3")throw Error(l(527,Mm,"19.2.3"));K.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=p(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var Bb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hl.isDisabled&&hl.supportsFiber)try{Vs=hl.inject(Bb),zt=hl}catch{}}return Ur.createRoot=function(e,t){if(!d(e))throw Error(l(299));var a=!1,r="",o=Hh,u=Gh,m=qh;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=Sm(e,1,!1,null,null,a,r,null,o,u,m,Dm),e[Vn]=t.current,Nc(e),new Kc(t)},Ur.hydrateRoot=function(e,t,a){if(!d(e))throw Error(l(299));var r=!1,o="",u=Hh,m=Gh,b=qh,S=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(u=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(S=a.formState)),t=Sm(e,1,!0,t,a??null,r,o,S,u,m,b,Dm),t.context=_m(null),a=t.current,r=Vt(),r=Ml(r),o=Pa(r),o.callback=null,Ia(a,o,r),a=r,t.current.lanes=a,Ks(t,a),fa(t),e[Vn]=t.current,Nc(e),new dl(t)},Ur.version="19.2.3",Ur}var Ym;function Pb(){if(Ym)return Jc.exports;Ym=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Jc.exports=Kb(),Jc.exports}var Ib=Pb();function Tl(s,n){var i={};for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&n.indexOf(l)<0&&(i[l]=s[l]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,l=Object.getOwnPropertySymbols(s);d<l.length;d++)n.indexOf(l[d])<0&&Object.prototype.propertyIsEnumerable.call(s,l[d])&&(i[l[d]]=s[l[d]]);return i}function Jb(s,n,i,l){function d(h){return h instanceof i?h:new i(function(f){f(h)})}return new(i||(i=Promise))(function(h,f){function y(v){try{p(l.next(v))}catch(_){f(_)}}function g(v){try{p(l.throw(v))}catch(_){f(_)}}function p(v){v.done?h(v.value):d(v.value).then(y,g)}p((l=l.apply(s,n||[])).next())})}const Qb=s=>s?(...n)=>s(...n):(...n)=>fetch(...n);class Tu extends Error{constructor(n,i="FunctionsError",l){super(n),this.name=i,this.context=l}}class Xb extends Tu{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class Km extends Tu{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class Pm extends Tu{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var du;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(du||(du={}));class Zb{constructor(n,{headers:i={},customFetch:l,region:d=du.Any}={}){this.url=n,this.headers=i,this.region=d,this.fetch=Qb(l)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return Jb(this,arguments,void 0,function*(i,l={}){var d;let h,f;try{const{headers:y,method:g,body:p,signal:v,timeout:_}=l;let x={},{region:w}=l;w||(w=this.region);const A=new URL(`${this.url}/${i}`);w&&w!=="any"&&(x["x-region"]=w,A.searchParams.set("forceFunctionRegion",w));let N;p&&(y&&!Object.prototype.hasOwnProperty.call(y,"Content-Type")||!y)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",N=p):typeof p=="string"?(x["Content-Type"]="text/plain",N=p):typeof FormData<"u"&&p instanceof FormData?N=p:(x["Content-Type"]="application/json",N=JSON.stringify(p)):N=p;let O=v;_&&(f=new AbortController,h=setTimeout(()=>f.abort(),_),v?(O=f.signal,v.addEventListener("abort",()=>f.abort())):O=f.signal);const B=yield this.fetch(A.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),y),body:N,signal:O}).catch(le=>{throw new Xb(le)}),q=B.headers.get("x-relay-error");if(q&&q==="true")throw new Km(B);if(!B.ok)throw new Pm(B);let H=((d=B.headers.get("Content-Type"))!==null&&d!==void 0?d:"text/plain").split(";")[0].trim(),Q;return H==="application/json"?Q=yield B.json():H==="application/octet-stream"||H==="application/pdf"?Q=yield B.blob():H==="text/event-stream"?Q=B:H==="multipart/form-data"?Q=yield B.formData():Q=yield B.text(),{data:Q,error:null,response:B}}catch(y){return{data:null,error:y,response:y instanceof Pm||y instanceof Km?y.context:void 0}}finally{h&&clearTimeout(h)}})}}var Wb=class extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}},Fb=class{constructor(s){var n,i;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(n=s.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=s.signal,this.isMaybeSingle=(i=s.isMaybeSingle)!==null&&i!==void 0?i:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,n){return this.headers=new Headers(this.headers),this.headers.set(s,n),this}then(s,n){var i=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let d=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{let f=null,y=null,g=null,p=h.status,v=h.statusText;if(h.ok){var _,x;if(i.method!=="HEAD"){var w;const B=await h.text();B===""||(i.headers.get("Accept")==="text/csv"||i.headers.get("Accept")&&(!((w=i.headers.get("Accept"))===null||w===void 0)&&w.includes("application/vnd.pgrst.plan+text"))?y=B:y=JSON.parse(B))}const N=(_=i.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),O=(x=h.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");N&&O&&O.length>1&&(g=parseInt(O[1])),i.isMaybeSingle&&i.method==="GET"&&Array.isArray(y)&&(y.length>1?(f={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,g=null,p=406,v="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{var A;const N=await h.text();try{f=JSON.parse(N),Array.isArray(f)&&h.status===404&&(y=[],f=null,p=200,v="OK")}catch{h.status===404&&N===""?(p=204,v="No Content"):f={message:N}}if(f&&i.isMaybeSingle&&(!(f==null||(A=f.details)===null||A===void 0)&&A.includes("0 rows"))&&(f=null,p=200,v="OK"),f&&i.shouldThrowOnError)throw new Wb(f)}return{error:f,data:y,count:g,status:p,statusText:v}});return this.shouldThrowOnError||(d=d.catch(h=>{var f;let y="";const g=h?.cause;if(g){var p,v,_,x;const A=(p=g?.message)!==null&&p!==void 0?p:"",N=(v=g?.code)!==null&&v!==void 0?v:"";y=`${(_=h?.name)!==null&&_!==void 0?_:"FetchError"}: ${h?.message}`,y+=`

Caused by: ${(x=g?.name)!==null&&x!==void 0?x:"Error"}: ${A}`,N&&(y+=` (${N})`),g?.stack&&(y+=`
${g.stack}`)}else{var w;y=(w=h?.stack)!==null&&w!==void 0?w:""}return{error:{message:`${(f=h?.name)!==null&&f!==void 0?f:"FetchError"}: ${h?.message}`,details:y,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),d.then(s,n)}returns(){return this}overrideTypes(){return this}},ev=class extends Fb{select(s){let n=!1;const i=(s??"*").split("").map(l=>/\s/.test(l)&&!n?"":(l==='"'&&(n=!n),l)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:n=!0,nullsFirst:i,foreignTable:l,referencedTable:d=l}={}){const h=d?`${d}.order`:"order",f=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${f?`${f},`:""}${s}.${n?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:n,referencedTable:i=n}={}){const l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,n,{foreignTable:i,referencedTable:l=i}={}){const d=typeof l>"u"?"offset":`${l}.offset`,h=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(d,`${s}`),this.url.searchParams.set(h,`${n-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:n=!1,settings:i=!1,buffers:l=!1,wal:d=!1,format:h="text"}={}){var f;const y=[s?"analyze":null,n?"verbose":null,i?"settings":null,l?"buffers":null,d?"wal":null].filter(Boolean).join("|"),g=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${g}"; options=${y};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};const Im=new RegExp("[,()]");var zs=class extends ev{eq(s,n){return this.url.searchParams.append(s,`eq.${n}`),this}neq(s,n){return this.url.searchParams.append(s,`neq.${n}`),this}gt(s,n){return this.url.searchParams.append(s,`gt.${n}`),this}gte(s,n){return this.url.searchParams.append(s,`gte.${n}`),this}lt(s,n){return this.url.searchParams.append(s,`lt.${n}`),this}lte(s,n){return this.url.searchParams.append(s,`lte.${n}`),this}like(s,n){return this.url.searchParams.append(s,`like.${n}`),this}likeAllOf(s,n){return this.url.searchParams.append(s,`like(all).{${n.join(",")}}`),this}likeAnyOf(s,n){return this.url.searchParams.append(s,`like(any).{${n.join(",")}}`),this}ilike(s,n){return this.url.searchParams.append(s,`ilike.${n}`),this}ilikeAllOf(s,n){return this.url.searchParams.append(s,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(s,n){return this.url.searchParams.append(s,`ilike(any).{${n.join(",")}}`),this}regexMatch(s,n){return this.url.searchParams.append(s,`match.${n}`),this}regexIMatch(s,n){return this.url.searchParams.append(s,`imatch.${n}`),this}is(s,n){return this.url.searchParams.append(s,`is.${n}`),this}isDistinct(s,n){return this.url.searchParams.append(s,`isdistinct.${n}`),this}in(s,n){const i=Array.from(new Set(n)).map(l=>typeof l=="string"&&Im.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`in.(${i})`),this}notIn(s,n){const i=Array.from(new Set(n)).map(l=>typeof l=="string"&&Im.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`not.in.(${i})`),this}contains(s,n){return typeof n=="string"?this.url.searchParams.append(s,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(s,`cs.{${n.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(n)}`),this}containedBy(s,n){return typeof n=="string"?this.url.searchParams.append(s,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(s,`cd.{${n.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(n)}`),this}rangeGt(s,n){return this.url.searchParams.append(s,`sr.${n}`),this}rangeGte(s,n){return this.url.searchParams.append(s,`nxl.${n}`),this}rangeLt(s,n){return this.url.searchParams.append(s,`sl.${n}`),this}rangeLte(s,n){return this.url.searchParams.append(s,`nxr.${n}`),this}rangeAdjacent(s,n){return this.url.searchParams.append(s,`adj.${n}`),this}overlaps(s,n){return typeof n=="string"?this.url.searchParams.append(s,`ov.${n}`):this.url.searchParams.append(s,`ov.{${n.join(",")}}`),this}textSearch(s,n,{config:i,type:l}={}){let d="";l==="plain"?d="pl":l==="phrase"?d="ph":l==="websearch"&&(d="w");const h=i===void 0?"":`(${i})`;return this.url.searchParams.append(s,`${d}fts${h}.${n}`),this}match(s){return Object.entries(s).forEach(([n,i])=>{this.url.searchParams.append(n,`eq.${i}`)}),this}not(s,n,i){return this.url.searchParams.append(s,`not.${n}.${i}`),this}or(s,{foreignTable:n,referencedTable:i=n}={}){const l=i?`${i}.or`:"or";return this.url.searchParams.append(l,`(${s})`),this}filter(s,n,i){return this.url.searchParams.append(s,`${n}.${i}`),this}},tv=class{constructor(s,{headers:n={},schema:i,fetch:l}){this.url=s,this.headers=new Headers(n),this.schema=i,this.fetch=l}select(s,n){const{head:i=!1,count:l}=n??{},d=i?"HEAD":"GET";let h=!1;const f=(s??"*").split("").map(y=>/\s/.test(y)&&!h?"":(y==='"'&&(h=!h),y)).join("");return this.url.searchParams.set("select",f),l&&this.headers.append("Prefer",`count=${l}`),new zs({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:n,defaultToNull:i=!0}={}){var l;const d="POST";if(n&&this.headers.append("Prefer",`count=${n}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((f,y)=>f.concat(Object.keys(y)),[]);if(h.length>0){const f=[...new Set(h)].map(y=>`"${y}"`);this.url.searchParams.set("columns",f.join(","))}}return new zs({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:n,ignoreDuplicates:i=!1,count:l,defaultToNull:d=!0}={}){var h;const f="POST";if(this.headers.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),l&&this.headers.append("Prefer",`count=${l}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const y=s.reduce((g,p)=>g.concat(Object.keys(p)),[]);if(y.length>0){const g=[...new Set(y)].map(p=>`"${p}"`);this.url.searchParams.set("columns",g.join(","))}}return new zs({method:f,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(s,{count:n}={}){var i;const l="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new zs({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:s}={}){var n;const i="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new zs({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}},av=class Dp{constructor(n,{headers:i={},schema:l,fetch:d}={}){this.url=n,this.headers=new Headers(i),this.schemaName=l,this.fetch=d}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new tv(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new Dp(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,i={},{head:l=!1,get:d=!1,count:h}={}){var f;let y;const g=new URL(`${this.url}/rpc/${n}`);let p;l||d?(y=l?"HEAD":"GET",Object.entries(i).filter(([_,x])=>x!==void 0).map(([_,x])=>[_,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([_,x])=>{g.searchParams.append(_,x)})):(y="POST",p=i);const v=new Headers(this.headers);return h&&v.set("Prefer",`count=${h}`),new zs({method:y,url:g,headers:v,schema:this.schemaName,body:p,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}};class nv{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const i=process.versions;if(i&&i.node){const l=i.node,d=parseInt(l.replace(/^v/,"").split(".")[0]);return d>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${d} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${d} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let i=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(i+=`

Suggested solution: ${n.workaround}`),new Error(i)}static createWebSocket(n,i){const l=this.getWebSocketConstructor();return new l(n,i)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const sv="2.89.0",rv=`realtime-js/${sv}`,Mp="1.0.0",iv="2.0.0",Jm=Mp,hu=1e4,lv=1e3,ov=100;var fn;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(fn||(fn={}));var ut;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(ut||(ut={}));var oa;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(oa||(oa={}));var fu;(function(s){s.websocket="websocket"})(fu||(fu={}));var $n;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})($n||($n={}));class cv{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,i){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(n));let l=[n.join_ref,n.ref,n.topic,n.event,n.payload];return i(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(n){var i;return this._isArrayBuffer((i=n.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var i,l;const d=(l=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,d)}_encodeJsonUserBroadcastPush(n){var i,l;const d=(l=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&l!==void 0?l:{},f=new TextEncoder().encode(JSON.stringify(d)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(n,i,l){var d,h;const f=n.topic,y=(d=n.ref)!==null&&d!==void 0?d:"",g=(h=n.join_ref)!==null&&h!==void 0?h:"",p=n.payload.event,v=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},_=Object.keys(v).length===0?"":JSON.stringify(v);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`ref length ${y.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`metadata length ${_.length} exceeds maximum of 255`);const x=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+y.length+f.length+p.length+_.length,w=new ArrayBuffer(this.HEADER_LENGTH+x);let A=new DataView(w),N=0;A.setUint8(N++,this.KINDS.userBroadcastPush),A.setUint8(N++,g.length),A.setUint8(N++,y.length),A.setUint8(N++,f.length),A.setUint8(N++,p.length),A.setUint8(N++,_.length),A.setUint8(N++,i),Array.from(g,B=>A.setUint8(N++,B.charCodeAt(0))),Array.from(y,B=>A.setUint8(N++,B.charCodeAt(0))),Array.from(f,B=>A.setUint8(N++,B.charCodeAt(0))),Array.from(p,B=>A.setUint8(N++,B.charCodeAt(0))),Array.from(_,B=>A.setUint8(N++,B.charCodeAt(0)));var O=new Uint8Array(w.byteLength+l.byteLength);return O.set(new Uint8Array(w),0),O.set(new Uint8Array(l),w.byteLength),O.buffer}decode(n,i){if(this._isArrayBuffer(n)){let l=this._binaryDecode(n);return i(l)}if(typeof n=="string"){const l=JSON.parse(n),[d,h,f,y,g]=l;return i({join_ref:d,ref:h,topic:f,event:y,payload:g})}return i({})}_binaryDecode(n){const i=new DataView(n),l=i.getUint8(0),d=new TextDecoder;if(l===this.KINDS.userBroadcast)return this._decodeUserBroadcast(n,i,d)}_decodeUserBroadcast(n,i,l){const d=i.getUint8(1),h=i.getUint8(2),f=i.getUint8(3),y=i.getUint8(4);let g=this.HEADER_LENGTH+4;const p=l.decode(n.slice(g,g+d));g=g+d;const v=l.decode(n.slice(g,g+h));g=g+h;const _=l.decode(n.slice(g,g+f));g=g+f;const x=n.slice(g,n.byteLength),w=y===this.JSON_ENCODING?JSON.parse(l.decode(x)):x,A={type:this.BROADCAST_EVENT,event:v,payload:w};return f>0&&(A.meta=JSON.parse(_)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:A}}_isArrayBuffer(n){var i;return n instanceof ArrayBuffer||((i=n?.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(n,i){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([l])=>i.includes(l)))}}class zp{constructor(n,i){this.callback=n,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ge;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(Ge||(Ge={}));const Qm=(s,n,i={})=>{var l;const d=(l=i.skipTypes)!==null&&l!==void 0?l:[];return n?Object.keys(n).reduce((h,f)=>(h[f]=uv(f,s,n,d),h),{}):{}},uv=(s,n,i,l)=>{const d=n.find(y=>y.name===s),h=d?.type,f=i[s];return h&&!l.includes(h)?Up(h,f):mu(f)},Up=(s,n)=>{if(s.charAt(0)==="_"){const i=s.slice(1,s.length);return mv(n,i)}switch(s){case Ge.bool:return dv(n);case Ge.float4:case Ge.float8:case Ge.int2:case Ge.int4:case Ge.int8:case Ge.numeric:case Ge.oid:return hv(n);case Ge.json:case Ge.jsonb:return fv(n);case Ge.timestamp:return pv(n);case Ge.abstime:case Ge.date:case Ge.daterange:case Ge.int4range:case Ge.int8range:case Ge.money:case Ge.reltime:case Ge.text:case Ge.time:case Ge.timestamptz:case Ge.timetz:case Ge.tsrange:case Ge.tstzrange:return mu(n);default:return mu(n)}},mu=s=>s,dv=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},hv=s=>{if(typeof s=="string"){const n=parseFloat(s);if(!Number.isNaN(n))return n}return s},fv=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch{return s}return s},mv=(s,n)=>{if(typeof s!="string")return s;const i=s.length-1,l=s[i];if(s[0]==="{"&&l==="}"){let h;const f=s.slice(1,i);try{h=JSON.parse("["+f+"]")}catch{h=f?f.split(","):[]}return h.map(y=>Up(n,y))}return s},pv=s=>typeof s=="string"?s.replace(" ","T"):s,Bp=s=>{const n=new URL(s);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class Wc{constructor(n,i,l={},d=hu){this.channel=n,this.event=i,this.payload=l,this.timeout=d,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,i){var l;return this._hasReceived(n)&&i((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:n,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:i}){this.recHooks.filter(l=>l.status===n).forEach(l=>l.callback(i))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Xm;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(Xm||(Xm={}));class Hr{constructor(n,i){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},d=>{const{onJoin:h,onLeave:f,onSync:y}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Hr.syncState(this.state,d,h,f),this.pendingDiffs.forEach(g=>{this.state=Hr.syncDiff(this.state,g,h,f)}),this.pendingDiffs=[],y()}),this.channel._on(l.diff,{},d=>{const{onJoin:h,onLeave:f,onSync:y}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(d):(this.state=Hr.syncDiff(this.state,d,h,f),y())}),this.onJoin((d,h,f)=>{this.channel._trigger("presence",{event:"join",key:d,currentPresences:h,newPresences:f})}),this.onLeave((d,h,f)=>{this.channel._trigger("presence",{event:"leave",key:d,currentPresences:h,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,i,l,d){const h=this.cloneDeep(n),f=this.transformState(i),y={},g={};return this.map(h,(p,v)=>{f[p]||(g[p]=v)}),this.map(f,(p,v)=>{const _=h[p];if(_){const x=v.map(O=>O.presence_ref),w=_.map(O=>O.presence_ref),A=v.filter(O=>w.indexOf(O.presence_ref)<0),N=_.filter(O=>x.indexOf(O.presence_ref)<0);A.length>0&&(y[p]=A),N.length>0&&(g[p]=N)}else y[p]=v}),this.syncDiff(h,{joins:y,leaves:g},l,d)}static syncDiff(n,i,l,d){const{joins:h,leaves:f}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return l||(l=()=>{}),d||(d=()=>{}),this.map(h,(y,g)=>{var p;const v=(p=n[y])!==null&&p!==void 0?p:[];if(n[y]=this.cloneDeep(g),v.length>0){const _=n[y].map(w=>w.presence_ref),x=v.filter(w=>_.indexOf(w.presence_ref)<0);n[y].unshift(...x)}l(y,v,g)}),this.map(f,(y,g)=>{let p=n[y];if(!p)return;const v=g.map(_=>_.presence_ref);p=p.filter(_=>v.indexOf(_.presence_ref)<0),n[y]=p,d(y,p,g),p.length===0&&delete n[y]}),n}static map(n,i){return Object.getOwnPropertyNames(n).map(l=>i(l,n[l]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((i,l)=>{const d=n[l];return"metas"in d?i[l]=d.metas.map(h=>(h.presence_ref=h.phx_ref,delete h.phx_ref,delete h.phx_ref_prev,h)):i[l]=d,i},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Zm;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(Zm||(Zm={}));var Gr;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(Gr||(Gr={}));var Ma;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(Ma||(Ma={}));class Ls{constructor(n,i={config:{}},l){var d,h;if(this.topic=n,this.params=i,this.socket=l,this.bindings={},this.state=ut.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new Wc(this,oa.join,this.params,this.timeout),this.rejoinTimer=new zp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ut.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ut.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this._on(oa.reply,{},(f,y)=>{this._trigger(this._replyEventName(y),f)}),this.presence=new Hr(this),this.broadcastEndpointURL=Bp(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((h=(d=this.params.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,i=this.timeout){var l,d,h;if(this.socket.isConnected()||this.socket.connect(),this.state==ut.closed){const{config:{broadcast:f,presence:y,private:g}}=this.params,p=(d=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(w=>w.filter))!==null&&d!==void 0?d:[],v=!!this.bindings[Gr.PRESENCE]&&this.bindings[Gr.PRESENCE].length>0||((h=this.params.config.presence)===null||h===void 0?void 0:h.enabled)===!0,_={},x={broadcast:f,presence:Object.assign(Object.assign({},y),{enabled:v}),postgres_changes:p,private:g};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(w=>n?.(Ma.CHANNEL_ERROR,w)),this._onClose(()=>n?.(Ma.CLOSED)),this.updateJoinPayload(Object.assign({config:x},_)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:w})=>{var A;if(this.socket._isManualToken()||this.socket.setAuth(),w===void 0){n?.(Ma.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,O=(A=N?.length)!==null&&A!==void 0?A:0,B=[];for(let q=0;q<O;q++){const H=N[q],{filter:{event:Q,schema:le,table:se,filter:te}}=H,Z=w&&w[q];if(Z&&Z.event===Q&&Ls.isFilterValueEqual(Z.schema,le)&&Ls.isFilterValueEqual(Z.table,se)&&Ls.isFilterValueEqual(Z.filter,te))B.push(Object.assign(Object.assign({},H),{id:Z.id}));else{this.unsubscribe(),this.state=ut.errored,n?.(Ma.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=B,n&&n(Ma.SUBSCRIBED);return}}).receive("error",w=>{this.state=ut.errored,n?.(Ma.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{n?.(Ma.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,i={}){return await this.send({type:"presence",event:"track",payload:n},i.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,i,l){return this.state===ut.joined&&n===Gr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,i,l)}async httpSend(n,i,l={}){var d;if(i==null)return Promise.reject("Payload is required for httpSend()");const h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:i,private:this.private}]})},y=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(d=l.timeout)!==null&&d!==void 0?d:this.timeout);if(y.status===202)return{success:!0};let g=y.statusText;try{const p=await y.json();g=p.error||p.message||g}catch{}return Promise.reject(new Error(g))}async send(n,i={}){var l,d;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:h,payload:f}=n,y={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(y.Authorization=`Bearer ${this.socket.accessTokenValue}`);const g={method:"POST",headers:y,body:JSON.stringify({messages:[{topic:this.subTopic,event:h,payload:f,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(l=i.timeout)!==null&&l!==void 0?l:this.timeout);return await((d=p.body)===null||d===void 0?void 0:d.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(h=>{var f,y,g;const p=this._push(n.type,n,i.timeout||this.timeout);n.type==="broadcast"&&!(!((g=(y=(f=this.params)===null||f===void 0?void 0:f.config)===null||y===void 0?void 0:y.broadcast)===null||g===void 0)&&g.ack)&&h("ok"),p.receive("ok",()=>h("ok")),p.receive("error",()=>h("error")),p.receive("timeout",()=>h("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=ut.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(oa.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(d=>{l=new Wc(this,oa.leave,{},n),l.receive("ok",()=>{i(),d("ok")}).receive("timeout",()=>{i(),d("timed out")}).receive("error",()=>{d("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ut.closed,this.bindings={}}async _fetchWithTimeout(n,i,l){const d=new AbortController,h=setTimeout(()=>d.abort(),l),f=await this.socket.fetch(n,Object.assign(Object.assign({},i),{signal:d.signal}));return clearTimeout(h),f}_push(n,i,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let d=new Wc(this,n,i,l);return this._canPush()?d.send():this._addToPushBuffer(d),d}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>ov){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(n,i,l){return i}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,i,l){var d,h;const f=n.toLocaleLowerCase(),{close:y,error:g,leave:p,join:v}=oa;if(l&&[y,g,p,v].indexOf(f)>=0&&l!==this._joinRef())return;let x=this._onMessage(f,i,l);if(i&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(d=this.bindings.postgres_changes)===null||d===void 0||d.filter(w=>{var A,N,O;return((A=w.filter)===null||A===void 0?void 0:A.event)==="*"||((O=(N=w.filter)===null||N===void 0?void 0:N.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===f}).map(w=>w.callback(x,l)):(h=this.bindings[f])===null||h===void 0||h.filter(w=>{var A,N,O,B,q,H;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in w){const Q=w.id,le=(A=w.filter)===null||A===void 0?void 0:A.event;return Q&&((N=i.ids)===null||N===void 0?void 0:N.includes(Q))&&(le==="*"||le?.toLocaleLowerCase()===((O=i.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const Q=(q=(B=w?.filter)===null||B===void 0?void 0:B.event)===null||q===void 0?void 0:q.toLocaleLowerCase();return Q==="*"||Q===((H=i?.event)===null||H===void 0?void 0:H.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===f}).map(w=>{if(typeof x=="object"&&"ids"in x){const A=x.data,{schema:N,table:O,commit_timestamp:B,type:q,errors:H}=A;x=Object.assign(Object.assign({},{schema:N,table:O,commit_timestamp:B,eventType:q,new:{},old:{},errors:H}),this._getPayloadRecords(A))}w.callback(x,l)})}_isClosed(){return this.state===ut.closed}_isJoined(){return this.state===ut.joined}_isJoining(){return this.state===ut.joining}_isLeaving(){return this.state===ut.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,i,l){const d=n.toLocaleLowerCase(),h={type:d,filter:i,callback:l};return this.bindings[d]?this.bindings[d].push(h):this.bindings[d]=[h],this}_off(n,i){const l=n.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(d=>{var h;return!(((h=d.type)===null||h===void 0?void 0:h.toLocaleLowerCase())===l&&Ls.isEqual(d.filter,i))})),this}static isEqual(n,i){if(Object.keys(n).length!==Object.keys(i).length)return!1;for(const l in n)if(n[l]!==i[l])return!1;return!0}static isFilterValueEqual(n,i){return(n??void 0)===(i??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(oa.close,{},n)}_onError(n){this._on(oa.error,{},i=>n(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ut.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const i={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(i.new=Qm(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(i.old=Qm(n.columns,n.old_record)),i}}const Fc=()=>{},fl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},gv=[1e3,2e3,5e3,1e4],yv=1e4,bv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class vv{constructor(n,i){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=hu,this.transport=null,this.heartbeatIntervalMs=fl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Fc,this.ref=0,this.reconnectTimer=null,this.vsn=Jm,this.logger=Fc,this.conn=null,this.sendBuffer=[],this.serializer=new cv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=d=>d?(...h)=>d(...h):(...h)=>fetch(...h),!(!((l=i?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${n}/${fu.websocket}`,this.httpEndpoint=Bp(n),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=nv.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const i=n.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const i=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const n=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,i,l){this.logger(n,i,l)}connectionState(){switch(this.conn&&this.conn.readyState){case fn.connecting:return $n.Connecting;case fn.open:return $n.Open;case fn.closing:return $n.Closing;default:return $n.Closed}}isConnected(){return this.connectionState()===$n.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,i={config:{}}){const l=`realtime:${n}`,d=this.getChannels().find(h=>h.topic===l);if(d)return d;{const h=new Ls(`realtime:${n}`,i,this);return this.channels.push(h),h}}push(n){const{topic:i,event:l,payload:d,ref:h}=n,f=()=>{this.encode(n,y=>{var g;(g=this.conn)===null||g===void 0||g.send(y)})};this.log("push",`${i} ${l} (${h})`,d),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(lv,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},fl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let i=this.channels.find(l=>l.topic===n&&(l._isJoined()||l._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${n}"`),i.unsubscribe())}_remove(n){this.channels=this.channels.filter(i=>i.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply")try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}i.ref&&i.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:l,event:d,payload:h,ref:f}=i,y=f?`(${f})`:"",g=h.status||"";this.log("receive",`${g} ${l} ${d} ${y}`.trim(),h),this.channels.filter(p=>p._isMember(l)).forEach(p=>p._trigger(d,h,f)),this._triggerStateCallbacks("message",i)})}_clearTimer(n){var i;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===fn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===fn.open||this.conn.readyState===fn.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this._terminateWorker()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var i;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(oa.error))}_appendParams(n,i){if(Object.keys(i).length===0)return n;const l=n.match(/\?/)?"&":"?",d=new URLSearchParams(i);return`${n}${l}${d}`}_workerObjectUrl(n){let i;if(n)i=n;else{const l=new Blob([bv],{type:"application/javascript"});i=URL.createObjectURL(l)}return i}_setConnectionState(n,i=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(n=null){let i,l=!1;if(n)i=n,l=!0;else if(this.accessToken)try{i=await this.accessToken()}catch(d){this.log("error","Error fetching access token from callback",d),i=this.accessTokenValue}else i=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(d=>{const h={access_token:i,version:rv};i&&d.updateJoinPayload(h),d.joinedOnce&&d._isJoined()&&d._push(oa.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(i=>{this.log("error",`Error setting auth in ${n}`,i)})}_triggerStateCallbacks(n,i){try{this.stateChangeCallbacks[n].forEach(l=>{try{l(i)}catch(d){this.log("error",`error in ${n} callback`,d)}})}catch(l){this.log("error",`error triggering ${n} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new zp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},fl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var i,l,d,h,f,y,g,p,v,_,x,w;switch(this.transport=(i=n?.transport)!==null&&i!==void 0?i:null,this.timeout=(l=n?.timeout)!==null&&l!==void 0?l:hu,this.heartbeatIntervalMs=(d=n?.heartbeatIntervalMs)!==null&&d!==void 0?d:fl.HEARTBEAT_INTERVAL,this.worker=(h=n?.worker)!==null&&h!==void 0?h:!1,this.accessToken=(f=n?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(y=n?.heartbeatCallback)!==null&&y!==void 0?y:Fc,this.vsn=(g=n?.vsn)!==null&&g!==void 0?g:Jm,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=n?.reconnectAfterMs)!==null&&p!==void 0?p:(A=>gv[A-1]||yv),this.vsn){case Mp:this.encode=(v=n?.encode)!==null&&v!==void 0?v:((A,N)=>N(JSON.stringify(A))),this.decode=(_=n?.decode)!==null&&_!==void 0?_:((A,N)=>N(JSON.parse(A)));break;case iv:this.encode=(x=n?.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(w=n?.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}var qr=class extends Error{constructor(s,n){super(s),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function xv(s,n,i){const l=new URL(n,s);if(i)for(const[d,h]of Object.entries(i))h!==void 0&&l.searchParams.set(d,h);return l.toString()}async function wv(s){return!s||s.type==="none"?{}:s.type==="bearer"?{Authorization:`Bearer ${s.token}`}:s.type==="header"?{[s.name]:s.value}:s.type==="custom"?await s.getHeaders():{}}function Sv(s){const n=s.fetchImpl??globalThis.fetch;return{async request({method:i,path:l,query:d,body:h,headers:f}){const y=xv(s.baseUrl,l,d),g=await wv(s.auth),p=await n(y,{method:i,headers:{...h?{"Content-Type":"application/json"}:{},...g,...f},body:h?JSON.stringify(h):void 0}),v=await p.text(),_=(p.headers.get("content-type")||"").includes("application/json"),x=_&&v?JSON.parse(v):v;if(!p.ok){const w=_?x:void 0,A=w?.error;throw new qr(A?.message??`Request failed with status ${p.status}`,{status:p.status,icebergType:A?.type,icebergCode:A?.code,details:w})}return{status:p.status,headers:p.headers,data:x}}}}function ml(s){return s.join("")}var _v=class{constructor(s,n=""){this.client=s,this.prefix=n}async listNamespaces(s){const n=s?{parent:ml(s.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(s,n){const i={namespace:s.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ml(s.namespace)}`})}async loadNamespaceMetadata(s){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ml(s.namespace)}`})).data.properties}}async namespaceExists(s){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ml(s.namespace)}`}),!0}catch(n){if(n instanceof qr&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(s,n){try{return await this.createNamespace(s,n)}catch(i){if(i instanceof qr&&i.status===409)return;throw i}}};function Es(s){return s.join("")}var jv=class{constructor(s,n="",i){this.client=s,this.prefix=n,this.accessDelegation=i}async listTables(s){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Es(s.namespace)}/tables`})).data.identifiers}async createTable(s,n){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Es(s.namespace)}/tables`,body:n,headers:i})).data.metadata}async updateTable(s,n){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Es(s.namespace)}/tables/${s.name}`,body:n});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(s,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Es(s.namespace)}/tables/${s.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(s){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Es(s.namespace)}/tables/${s.name}`,headers:n})).data.metadata}async tableExists(s){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Es(s.namespace)}/tables/${s.name}`,headers:n}),!0}catch(i){if(i instanceof qr&&i.status===404)return!1;throw i}}async createTableIfNotExists(s,n){try{return await this.createTable(s,n)}catch(i){if(i instanceof qr&&i.status===409)return await this.loadTable({namespace:s.namespace,name:n.name});throw i}}},Tv=class{constructor(s){let n="v1";s.catalogName&&(n+=`/${s.catalogName}`);const i=s.baseUrl.endsWith("/")?s.baseUrl:`${s.baseUrl}/`;this.client=Sv({baseUrl:i,auth:s.auth,fetchImpl:s.fetch}),this.accessDelegation=s.accessDelegation?.join(","),this.namespaceOps=new _v(this.client,n),this.tableOps=new jv(this.client,n,this.accessDelegation)}async listNamespaces(s){return this.namespaceOps.listNamespaces(s)}async createNamespace(s,n){return this.namespaceOps.createNamespace(s,n)}async dropNamespace(s){await this.namespaceOps.dropNamespace(s)}async loadNamespaceMetadata(s){return this.namespaceOps.loadNamespaceMetadata(s)}async listTables(s){return this.tableOps.listTables(s)}async createTable(s,n){return this.tableOps.createTable(s,n)}async updateTable(s,n){return this.tableOps.updateTable(s,n)}async dropTable(s,n){await this.tableOps.dropTable(s,n)}async loadTable(s){return this.tableOps.loadTable(s)}async namespaceExists(s){return this.namespaceOps.namespaceExists(s)}async tableExists(s){return this.tableOps.tableExists(s)}async createNamespaceIfNotExists(s,n){return this.namespaceOps.createNamespaceIfNotExists(s,n)}async createTableIfNotExists(s,n){return this.tableOps.createTableIfNotExists(s,n)}},Nl=class extends Error{constructor(s){super(s),this.__isStorageError=!0,this.name="StorageError"}};function Pe(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}var Nv=class extends Nl{constructor(s,n,i){super(s),this.name="StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},pu=class extends Nl{constructor(s,n){super(s),this.name="StorageUnknownError",this.originalError=n}};const Nu=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),Ev=()=>Response,gu=s=>{if(Array.isArray(s))return s.map(i=>gu(i));if(typeof s=="function"||s!==Object(s))return s;const n={};return Object.entries(s).forEach(([i,l])=>{const d=i.replace(/([-_][a-z])/gi,h=>h.toUpperCase().replace(/[-_]/g,""));n[d]=gu(l)}),n},kv=s=>{if(typeof s!="object"||s===null)return!1;const n=Object.getPrototypeOf(s);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},Rv=s=>!s||typeof s!="string"||s.length===0||s.length>100||s.trim()!==s||s.includes("/")||s.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(s);function Vr(s){"@babel/helpers - typeof";return Vr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Vr(s)}function Av(s,n){if(Vr(s)!="object"||!s)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var l=i.call(s,n);if(Vr(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(s)}function Cv(s){var n=Av(s,"string");return Vr(n)=="symbol"?n:n+""}function Ov(s,n,i){return(n=Cv(n))in s?Object.defineProperty(s,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[n]=i,s}function Wm(s,n){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);n&&(l=l.filter(function(d){return Object.getOwnPropertyDescriptor(s,d).enumerable})),i.push.apply(i,l)}return i}function ce(s){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?Wm(Object(i),!0).forEach(function(l){Ov(s,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):Wm(Object(i)).forEach(function(l){Object.defineProperty(s,l,Object.getOwnPropertyDescriptor(i,l))})}return s}const eu=s=>{var n;return s.msg||s.message||s.error_description||(typeof s.error=="string"?s.error:(n=s.error)===null||n===void 0?void 0:n.message)||JSON.stringify(s)},Dv=async(s,n,i)=>{s instanceof await Ev()&&!i?.noResolveJson?s.json().then(l=>{const d=s.status||500,h=l?.statusCode||d+"";n(new Nv(eu(l),d,h))}).catch(l=>{n(new pu(eu(l),l))}):n(new pu(eu(s),s))},Mv=(s,n,i,l)=>{const d={method:s,headers:n?.headers||{}};return s==="GET"||!l?d:(kv(l)?(d.headers=ce({"Content-Type":"application/json"},n?.headers),d.body=JSON.stringify(l)):d.body=l,n?.duplex&&(d.duplex=n.duplex),ce(ce({},d),i))};async function Qr(s,n,i,l,d,h){return new Promise((f,y)=>{s(i,Mv(n,l,d,h)).then(g=>{if(!g.ok)throw g;return l?.noResolveJson?g:g.json()}).then(g=>f(g)).catch(g=>Dv(g,y,l))})}async function Yr(s,n,i,l){return Qr(s,"GET",n,i,l)}async function la(s,n,i,l,d){return Qr(s,"POST",n,l,d,i)}async function yu(s,n,i,l,d){return Qr(s,"PUT",n,l,d,i)}async function zv(s,n,i,l){return Qr(s,"HEAD",n,ce(ce({},i),{},{noResolveJson:!0}),l)}async function Eu(s,n,i,l,d){return Qr(s,"DELETE",n,l,d,i)}var Uv=class{constructor(s,n){this.downloadFn=s,this.shouldThrowOnError=n}then(s,n){return this.execute().then(s,n)}async execute(){var s=this;try{return{data:(await s.downloadFn()).body,error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}}};let Lp;Lp=Symbol.toStringTag;var Bv=class{constructor(s,n){this.downloadFn=s,this.shouldThrowOnError=n,this[Lp]="BlobDownloadBuilder",this.promise=null}asStream(){return new Uv(this.downloadFn,this.shouldThrowOnError)}then(s,n){return this.getPromise().then(s,n)}catch(s){return this.getPromise().catch(s)}finally(s){return this.getPromise().finally(s)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var s=this;try{return{data:await(await s.downloadFn()).blob(),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}}};const Lv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Fm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var $v=class{constructor(s,n={},i,l){this.shouldThrowOnError=!1,this.url=s,this.headers=n,this.bucketId=i,this.fetch=Nu(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(s,n,i,l){var d=this;try{let h;const f=ce(ce({},Fm),l);let y=ce(ce({},d.headers),s==="POST"&&{"x-upsert":String(f.upsert)});const g=f.metadata;typeof Blob<"u"&&i instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),g&&h.append("metadata",d.encodeMetadata(g)),h.append("",i)):typeof FormData<"u"&&i instanceof FormData?(h=i,h.has("cacheControl")||h.append("cacheControl",f.cacheControl),g&&!h.has("metadata")&&h.append("metadata",d.encodeMetadata(g))):(h=i,y["cache-control"]=`max-age=${f.cacheControl}`,y["content-type"]=f.contentType,g&&(y["x-metadata"]=d.toBase64(d.encodeMetadata(g))),(typeof ReadableStream<"u"&&h instanceof ReadableStream||h&&typeof h=="object"&&"pipe"in h&&typeof h.pipe=="function")&&!f.duplex&&(f.duplex="half")),l?.headers&&(y=ce(ce({},y),l.headers));const p=d._removeEmptyFolders(n),v=d._getFinalPath(p),_=await(s=="PUT"?yu:la)(d.fetch,`${d.url}/object/${v}`,h,ce({headers:y},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:p,id:_.Id,fullPath:_.Key},error:null}}catch(h){if(d.shouldThrowOnError)throw h;if(Pe(h))return{data:null,error:h};throw h}}async upload(s,n,i){return this.uploadOrUpdate("POST",s,n,i)}async uploadToSignedUrl(s,n,i,l){var d=this;const h=d._removeEmptyFolders(s),f=d._getFinalPath(h),y=new URL(d.url+`/object/upload/sign/${f}`);y.searchParams.set("token",n);try{let g;const p=ce({upsert:Fm.upsert},l),v=ce(ce({},d.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&i instanceof Blob?(g=new FormData,g.append("cacheControl",p.cacheControl),g.append("",i)):typeof FormData<"u"&&i instanceof FormData?(g=i,g.append("cacheControl",p.cacheControl)):(g=i,v["cache-control"]=`max-age=${p.cacheControl}`,v["content-type"]=p.contentType),{data:{path:h,fullPath:(await yu(d.fetch,y.toString(),g,{headers:v})).Key},error:null}}catch(g){if(d.shouldThrowOnError)throw g;if(Pe(g))return{data:null,error:g};throw g}}async createSignedUploadUrl(s,n){var i=this;try{let l=i._getFinalPath(s);const d=ce({},i.headers);n?.upsert&&(d["x-upsert"]="true");const h=await la(i.fetch,`${i.url}/object/upload/sign/${l}`,{},{headers:d}),f=new URL(i.url+h.url),y=f.searchParams.get("token");if(!y)throw new Nl("No token returned by API");return{data:{signedUrl:f.toString(),path:s,token:y},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Pe(l))return{data:null,error:l};throw l}}async update(s,n,i){return this.uploadOrUpdate("PUT",s,n,i)}async move(s,n,i){var l=this;try{return{data:await la(l.fetch,`${l.url}/object/move`,{bucketId:l.bucketId,sourceKey:s,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:l.headers}),error:null}}catch(d){if(l.shouldThrowOnError)throw d;if(Pe(d))return{data:null,error:d};throw d}}async copy(s,n,i){var l=this;try{return{data:{path:(await la(l.fetch,`${l.url}/object/copy`,{bucketId:l.bucketId,sourceKey:s,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:l.headers})).Key},error:null}}catch(d){if(l.shouldThrowOnError)throw d;if(Pe(d))return{data:null,error:d};throw d}}async createSignedUrl(s,n,i){var l=this;try{let d=l._getFinalPath(s),h=await la(l.fetch,`${l.url}/object/sign/${d}`,ce({expiresIn:n},i?.transform?{transform:i.transform}:{}),{headers:l.headers});const f=i?.download?`&download=${i.download===!0?"":i.download}`:"";return h={signedUrl:encodeURI(`${l.url}${h.signedURL}${f}`)},{data:h,error:null}}catch(d){if(l.shouldThrowOnError)throw d;if(Pe(d))return{data:null,error:d};throw d}}async createSignedUrls(s,n,i){var l=this;try{const d=await la(l.fetch,`${l.url}/object/sign/${l.bucketId}`,{expiresIn:n,paths:s},{headers:l.headers}),h=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:d.map(f=>ce(ce({},f),{},{signedUrl:f.signedURL?encodeURI(`${l.url}${f.signedURL}${h}`):null})),error:null}}catch(d){if(l.shouldThrowOnError)throw d;if(Pe(d))return{data:null,error:d};throw d}}download(s,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(n?.transform||{}),d=l?`?${l}`:"",h=this._getFinalPath(s),f=()=>Yr(this.fetch,`${this.url}/${i}/${h}${d}`,{headers:this.headers,noResolveJson:!0});return new Bv(f,this.shouldThrowOnError)}async info(s){var n=this;const i=n._getFinalPath(s);try{return{data:gu(await Yr(n.fetch,`${n.url}/object/info/${i}`,{headers:n.headers})),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Pe(l))return{data:null,error:l};throw l}}async exists(s){var n=this;const i=n._getFinalPath(s);try{return await zv(n.fetch,`${n.url}/object/${i}`,{headers:n.headers}),{data:!0,error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Pe(l)&&l instanceof pu){const d=l.originalError;if([400,404].includes(d?.status))return{data:!1,error:l}}throw l}}getPublicUrl(s,n){const i=this._getFinalPath(s),l=[],d=n?.download?`download=${n.download===!0?"":n.download}`:"";d!==""&&l.push(d);const h=typeof n?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(n?.transform||{});f!==""&&l.push(f);let y=l.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${i}${y}`)}}}async remove(s){var n=this;try{return{data:await Eu(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:s},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Pe(i))return{data:null,error:i};throw i}}async list(s,n,i){var l=this;try{const d=ce(ce(ce({},Lv),n),{},{prefix:s||""});return{data:await la(l.fetch,`${l.url}/object/list/${l.bucketId}`,d,{headers:l.headers},i),error:null}}catch(d){if(l.shouldThrowOnError)throw d;if(Pe(d))return{data:null,error:d};throw d}}async listV2(s,n){var i=this;try{const l=ce({},s);return{data:await la(i.fetch,`${i.url}/object/list-v2/${i.bucketId}`,l,{headers:i.headers},n),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Pe(l))return{data:null,error:l};throw l}}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const n=[];return s.width&&n.push(`width=${s.width}`),s.height&&n.push(`height=${s.height}`),s.resize&&n.push(`resize=${s.resize}`),s.format&&n.push(`format=${s.format}`),s.quality&&n.push(`quality=${s.quality}`),n.join("&")}};const $p="2.89.0",Hp={"X-Client-Info":`storage-js/${$p}`};var Hv=class{constructor(s,n={},i,l){this.shouldThrowOnError=!1;const d=new URL(s);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href.replace(/\/$/,""),this.headers=ce(ce({},Hp),n),this.fetch=Nu(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(s){var n=this;try{const i=n.listBucketOptionsToQueryString(s);return{data:await Yr(n.fetch,`${n.url}/bucket${i}`,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Pe(i))return{data:null,error:i};throw i}}async getBucket(s){var n=this;try{return{data:await Yr(n.fetch,`${n.url}/bucket/${s}`,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Pe(i))return{data:null,error:i};throw i}}async createBucket(s,n={public:!1}){var i=this;try{return{data:await la(i.fetch,`${i.url}/bucket`,{id:s,name:s,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:i.headers}),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Pe(l))return{data:null,error:l};throw l}}async updateBucket(s,n){var i=this;try{return{data:await yu(i.fetch,`${i.url}/bucket/${s}`,{id:s,name:s,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:i.headers}),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Pe(l))return{data:null,error:l};throw l}}async emptyBucket(s){var n=this;try{return{data:await la(n.fetch,`${n.url}/bucket/${s}/empty`,{},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Pe(i))return{data:null,error:i};throw i}}async deleteBucket(s){var n=this;try{return{data:await Eu(n.fetch,`${n.url}/bucket/${s}`,{},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Pe(i))return{data:null,error:i};throw i}}listBucketOptionsToQueryString(s){const n={};return s&&("limit"in s&&(n.limit=String(s.limit)),"offset"in s&&(n.offset=String(s.offset)),s.search&&(n.search=s.search),s.sortColumn&&(n.sortColumn=s.sortColumn),s.sortOrder&&(n.sortOrder=s.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},Gv=class{constructor(s,n={},i){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=ce(ce({},Hp),n),this.fetch=Nu(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var n=this;try{return{data:await la(n.fetch,`${n.url}/bucket`,{name:s},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Pe(i))return{data:null,error:i};throw i}}async listBuckets(s){var n=this;try{const i=new URLSearchParams;s?.limit!==void 0&&i.set("limit",s.limit.toString()),s?.offset!==void 0&&i.set("offset",s.offset.toString()),s?.sortColumn&&i.set("sortColumn",s.sortColumn),s?.sortOrder&&i.set("sortOrder",s.sortOrder),s?.search&&i.set("search",s.search);const l=i.toString(),d=l?`${n.url}/bucket?${l}`:`${n.url}/bucket`;return{data:await Yr(n.fetch,d,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Pe(i))return{data:null,error:i};throw i}}async deleteBucket(s){var n=this;try{return{data:await Eu(n.fetch,`${n.url}/bucket/${s}`,{},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Pe(i))return{data:null,error:i};throw i}}from(s){var n=this;if(!Rv(s))throw new Nl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const i=new Tv({baseUrl:this.url,catalogName:s,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(i,{get(d,h){const f=d[h];return typeof f!="function"?f:async(...y)=>{try{return{data:await f.apply(d,y),error:null}}catch(g){if(l)throw g;return{data:null,error:g}}}}})}};const ku={"X-Client-Info":`storage-js/${$p}`,"Content-Type":"application/json"};var Gp=class extends Error{constructor(s){super(s),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Kt(s){return typeof s=="object"&&s!==null&&"__isStorageVectorsError"in s}var tu=class extends Gp{constructor(s,n,i){super(s),this.name="StorageVectorsApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},qv=class extends Gp{constructor(s,n){super(s),this.name="StorageVectorsUnknownError",this.originalError=n}};const Ru=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),Vv=s=>{if(typeof s!="object"||s===null)return!1;const n=Object.getPrototypeOf(s);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},ep=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Yv=async(s,n,i)=>{if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!i?.noResolveJson){const l=s.status||500,d=s;if(typeof d.json=="function")d.json().then(h=>{const f=h?.statusCode||h?.code||l+"";n(new tu(ep(h),l,f))}).catch(()=>{const h=l+"";n(new tu(d.statusText||`HTTP ${l} error`,l,h))});else{const h=l+"";n(new tu(d.statusText||`HTTP ${l} error`,l,h))}}else n(new qv(ep(s),s))},Kv=(s,n,i,l)=>{const d={method:s,headers:n?.headers||{}};return l?(Vv(l)?(d.headers=ce({"Content-Type":"application/json"},n?.headers),d.body=JSON.stringify(l)):d.body=l,ce(ce({},d),i)):d};async function Pv(s,n,i,l,d,h){return new Promise((f,y)=>{s(i,Kv(n,l,d,h)).then(g=>{if(!g.ok)throw g;if(l?.noResolveJson)return g;const p=g.headers.get("content-type");return!p||!p.includes("application/json")?{}:g.json()}).then(g=>f(g)).catch(g=>Yv(g,y,l))})}async function Pt(s,n,i,l,d){return Pv(s,"POST",n,l,d,i)}var Iv=class{constructor(s,n={},i){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=ce(ce({},ku),n),this.fetch=Ru(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(s){var n=this;try{return{data:await Pt(n.fetch,`${n.url}/CreateIndex`,s,{headers:n.headers})||{},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Kt(i))return{data:null,error:i};throw i}}async getIndex(s,n){var i=this;try{return{data:await Pt(i.fetch,`${i.url}/GetIndex`,{vectorBucketName:s,indexName:n},{headers:i.headers}),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Kt(l))return{data:null,error:l};throw l}}async listIndexes(s){var n=this;try{return{data:await Pt(n.fetch,`${n.url}/ListIndexes`,s,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Kt(i))return{data:null,error:i};throw i}}async deleteIndex(s,n){var i=this;try{return{data:await Pt(i.fetch,`${i.url}/DeleteIndex`,{vectorBucketName:s,indexName:n},{headers:i.headers})||{},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Kt(l))return{data:null,error:l};throw l}}},Jv=class{constructor(s,n={},i){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=ce(ce({},ku),n),this.fetch=Ru(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(s){var n=this;try{if(s.vectors.length<1||s.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Pt(n.fetch,`${n.url}/PutVectors`,s,{headers:n.headers})||{},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Kt(i))return{data:null,error:i};throw i}}async getVectors(s){var n=this;try{return{data:await Pt(n.fetch,`${n.url}/GetVectors`,s,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Kt(i))return{data:null,error:i};throw i}}async listVectors(s){var n=this;try{if(s.segmentCount!==void 0){if(s.segmentCount<1||s.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(s.segmentIndex!==void 0&&(s.segmentIndex<0||s.segmentIndex>=s.segmentCount))throw new Error(`segmentIndex must be between 0 and ${s.segmentCount-1}`)}return{data:await Pt(n.fetch,`${n.url}/ListVectors`,s,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Kt(i))return{data:null,error:i};throw i}}async queryVectors(s){var n=this;try{return{data:await Pt(n.fetch,`${n.url}/QueryVectors`,s,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Kt(i))return{data:null,error:i};throw i}}async deleteVectors(s){var n=this;try{if(s.keys.length<1||s.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Pt(n.fetch,`${n.url}/DeleteVectors`,s,{headers:n.headers})||{},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Kt(i))return{data:null,error:i};throw i}}},Qv=class{constructor(s,n={},i){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=ce(ce({},ku),n),this.fetch=Ru(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var n=this;try{return{data:await Pt(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:s},{headers:n.headers})||{},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Kt(i))return{data:null,error:i};throw i}}async getBucket(s){var n=this;try{return{data:await Pt(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:s},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Kt(i))return{data:null,error:i};throw i}}async listBuckets(s={}){var n=this;try{return{data:await Pt(n.fetch,`${n.url}/ListVectorBuckets`,s,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Kt(i))return{data:null,error:i};throw i}}async deleteBucket(s){var n=this;try{return{data:await Pt(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:s},{headers:n.headers})||{},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Kt(i))return{data:null,error:i};throw i}}},Xv=class extends Qv{constructor(s,n={}){super(s,n.headers||{},n.fetch)}from(s){return new Zv(this.url,this.headers,s,this.fetch)}async createBucket(s){var n=()=>super.createBucket,i=this;return n().call(i,s)}async getBucket(s){var n=()=>super.getBucket,i=this;return n().call(i,s)}async listBuckets(s={}){var n=()=>super.listBuckets,i=this;return n().call(i,s)}async deleteBucket(s){var n=()=>super.deleteBucket,i=this;return n().call(i,s)}},Zv=class extends Iv{constructor(s,n,i,l){super(s,n,l),this.vectorBucketName=i}async createIndex(s){var n=()=>super.createIndex,i=this;return n().call(i,ce(ce({},s),{},{vectorBucketName:i.vectorBucketName}))}async listIndexes(s={}){var n=()=>super.listIndexes,i=this;return n().call(i,ce(ce({},s),{},{vectorBucketName:i.vectorBucketName}))}async getIndex(s){var n=()=>super.getIndex,i=this;return n().call(i,i.vectorBucketName,s)}async deleteIndex(s){var n=()=>super.deleteIndex,i=this;return n().call(i,i.vectorBucketName,s)}index(s){return new Wv(this.url,this.headers,this.vectorBucketName,s,this.fetch)}},Wv=class extends Jv{constructor(s,n,i,l,d){super(s,n,d),this.vectorBucketName=i,this.indexName=l}async putVectors(s){var n=()=>super.putVectors,i=this;return n().call(i,ce(ce({},s),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async getVectors(s){var n=()=>super.getVectors,i=this;return n().call(i,ce(ce({},s),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async listVectors(s={}){var n=()=>super.listVectors,i=this;return n().call(i,ce(ce({},s),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async queryVectors(s){var n=()=>super.queryVectors,i=this;return n().call(i,ce(ce({},s),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async deleteVectors(s){var n=()=>super.deleteVectors,i=this;return n().call(i,ce(ce({},s),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}},Fv=class extends Hv{constructor(s,n={},i,l){super(s,n,i,l)}from(s){return new $v(this.url,this.headers,s,this.fetch)}get vectors(){return new Xv(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Gv(this.url+"/iceberg",this.headers,this.fetch)}};const qp="2.89.0",Us=30*1e3,bu=3,au=bu*Us,e0="http://localhost:9999",t0="supabase.auth.token",a0={"X-Client-Info":`gotrue-js/${qp}`},vu="X-Supabase-Api-Version",Vp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},n0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,s0=600*1e3;class Kr extends Error{constructor(n,i,l){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=l}}function ne(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class r0 extends Kr{constructor(n,i,l){super(n,i,l),this.name="AuthApiError",this.status=i,this.code=l}}function i0(s){return ne(s)&&s.name==="AuthApiError"}class Hn extends Kr{constructor(n,i){super(n),this.name="AuthUnknownError",this.originalError=i}}class za extends Kr{constructor(n,i,l,d){super(n,l,d),this.name=i,this.status=l}}class Yt extends za{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function l0(s){return ne(s)&&s.name==="AuthSessionMissingError"}class ks extends za{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class pl extends za{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class gl extends za{constructor(n,i=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function o0(s){return ne(s)&&s.name==="AuthImplicitGrantRedirectError"}class tp extends za{constructor(n,i=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class c0 extends za{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class xu extends za{constructor(n,i){super(n,"AuthRetryableFetchError",i,void 0)}}function nu(s){return ne(s)&&s.name==="AuthRetryableFetchError"}class ap extends za{constructor(n,i,l){super(n,"AuthWeakPasswordError",i,"weak_password"),this.reasons=l}}class wu extends za{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const wl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),np=` 	
\r=`.split(""),u0=(()=>{const s=new Array(128);for(let n=0;n<s.length;n+=1)s[n]=-1;for(let n=0;n<np.length;n+=1)s[np[n].charCodeAt(0)]=-2;for(let n=0;n<wl.length;n+=1)s[wl[n].charCodeAt(0)]=n;return s})();function sp(s,n,i){if(s!==null)for(n.queue=n.queue<<8|s,n.queuedBits+=8;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;i(wl[l]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;i(wl[l]),n.queuedBits-=6}}function Yp(s,n,i){const l=u0[s];if(l>-1)for(n.queue=n.queue<<6|l,n.queuedBits+=6;n.queuedBits>=8;)i(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function rp(s){const n=[],i=f=>{n.push(String.fromCodePoint(f))},l={utf8seq:0,codepoint:0},d={queue:0,queuedBits:0},h=f=>{f0(f,l,i)};for(let f=0;f<s.length;f+=1)Yp(s.charCodeAt(f),d,h);return n.join("")}function d0(s,n){if(s<=127){n(s);return}else if(s<=2047){n(192|s>>6),n(128|s&63);return}else if(s<=65535){n(224|s>>12),n(128|s>>6&63),n(128|s&63);return}else if(s<=1114111){n(240|s>>18),n(128|s>>12&63),n(128|s>>6&63),n(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function h0(s,n){for(let i=0;i<s.length;i+=1){let l=s.charCodeAt(i);if(l>55295&&l<=56319){const d=(l-55296)*1024&65535;l=(s.charCodeAt(i+1)-56320&65535|d)+65536,i+=1}d0(l,n)}}function f0(s,n,i){if(n.utf8seq===0){if(s<=127){i(s);return}for(let l=1;l<6;l+=1)if((s>>7-l&1)===0){n.utf8seq=l;break}if(n.utf8seq===2)n.codepoint=s&31;else if(n.utf8seq===3)n.codepoint=s&15;else if(n.utf8seq===4)n.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|s&63,n.utf8seq-=1,n.utf8seq===0&&i(n.codepoint)}}function Hs(s){const n=[],i={queue:0,queuedBits:0},l=d=>{n.push(d)};for(let d=0;d<s.length;d+=1)Yp(s.charCodeAt(d),i,l);return new Uint8Array(n)}function m0(s){const n=[];return h0(s,i=>n.push(i)),new Uint8Array(n)}function Gn(s){const n=[],i={queue:0,queuedBits:0},l=d=>{n.push(d)};return s.forEach(d=>sp(d,i,l)),sp(null,i,l),n.join("")}function p0(s){return Math.round(Date.now()/1e3)+s}function g0(){return Symbol("auth-callback")}const _t=()=>typeof window<"u"&&typeof document<"u",Mn={tested:!1,writable:!1},Kp=()=>{if(!_t())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Mn.tested)return Mn.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),Mn.tested=!0,Mn.writable=!0}catch{Mn.tested=!0,Mn.writable=!1}return Mn.writable};function y0(s){const n={},i=new URL(s);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((d,h)=>{n[h]=d})}catch{}return i.searchParams.forEach((l,d)=>{n[d]=l}),n}const Pp=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),b0=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",Bs=async(s,n,i)=>{await s.setItem(n,JSON.stringify(i))},zn=async(s,n)=>{const i=await s.getItem(n);if(!i)return null;try{return JSON.parse(i)}catch{return i}},St=async(s,n)=>{await s.removeItem(n)};class El{constructor(){this.promise=new El.promiseConstructor((n,i)=>{this.resolve=n,this.reject=i})}}El.promiseConstructor=Promise;function su(s){const n=s.split(".");if(n.length!==3)throw new wu("Invalid JWT structure");for(let l=0;l<n.length;l++)if(!n0.test(n[l]))throw new wu("JWT not in base64url format");return{header:JSON.parse(rp(n[0])),payload:JSON.parse(rp(n[1])),signature:Hs(n[2]),raw:{header:n[0],payload:n[1]}}}async function v0(s){return await new Promise(n=>{setTimeout(()=>n(null),s)})}function x0(s,n){return new Promise((l,d)=>{(async()=>{for(let h=0;h<1/0;h++)try{const f=await s(h);if(!n(h,null,f)){l(f);return}}catch(f){if(!n(h,f)){d(f);return}}})()})}function w0(s){return("0"+s.toString(16)).substr(-2)}function S0(){const n=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=i.length;let d="";for(let h=0;h<56;h++)d+=i.charAt(Math.floor(Math.random()*l));return d}return crypto.getRandomValues(n),Array.from(n,w0).join("")}async function _0(s){const i=new TextEncoder().encode(s),l=await crypto.subtle.digest("SHA-256",i),d=new Uint8Array(l);return Array.from(d).map(h=>String.fromCharCode(h)).join("")}async function j0(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const i=await _0(s);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Rs(s,n,i=!1){const l=S0();let d=l;i&&(d+="/PASSWORD_RECOVERY"),await Bs(s,`${n}-code-verifier`,d);const h=await j0(l);return[h,l===h?"plain":"s256"]}const T0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function N0(s){const n=s.headers.get(vu);if(!n||!n.match(T0))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function E0(s){if(!s)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(s<=n)throw new Error("JWT has expired")}function k0(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const R0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function As(s){if(!R0.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ru(){const s={};return new Proxy(s,{get:(n,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function A0(s,n){return new Proxy(s,{get:(i,l,d)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const h=l.toString();if(h==="Symbol(Symbol.toPrimitive)"||h==="Symbol(Symbol.toStringTag)"||h==="Symbol(util.inspect.custom)"||h==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,l,d)}return!n.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(i,l,d)}})}function ip(s){return JSON.parse(JSON.stringify(s))}const Ln=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),C0=[502,503,504];async function lp(s){var n;if(!b0(s))throw new xu(Ln(s),0);if(C0.includes(s.status))throw new xu(Ln(s),s.status);let i;try{i=await s.json()}catch(h){throw new Hn(Ln(h),h)}let l;const d=N0(s);if(d&&d.getTime()>=Vp["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?l=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(l=i.error_code),l){if(l==="weak_password")throw new ap(Ln(i),s.status,((n=i.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(l==="session_not_found")throw new Yt}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((h,f)=>h&&typeof f=="string",!0))throw new ap(Ln(i),s.status,i.weak_password.reasons);throw new r0(Ln(i),s.status||500,l)}const O0=(s,n,i,l)=>{const d={method:s,headers:n?.headers||{}};return s==="GET"?d:(d.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),d.body=JSON.stringify(l),Object.assign(Object.assign({},d),i))};async function oe(s,n,i,l){var d;const h=Object.assign({},l?.headers);h[vu]||(h[vu]=Vp["2024-01-01"].name),l?.jwt&&(h.Authorization=`Bearer ${l.jwt}`);const f=(d=l?.query)!==null&&d!==void 0?d:{};l?.redirectTo&&(f.redirect_to=l.redirectTo);const y=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",g=await D0(s,n,i+y,{headers:h,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(g):{data:Object.assign({},g),error:null}}async function D0(s,n,i,l,d,h){const f=O0(n,l,d,h);let y;try{y=await s(i,Object.assign({},f))}catch(g){throw console.error(g),new xu(Ln(g),0)}if(y.ok||await lp(y),l?.noResolveJson)return y;try{return await y.json()}catch(g){await lp(g)}}function ia(s){var n;let i=null;U0(s)&&(i=Object.assign({},s),s.expires_at||(i.expires_at=p0(s.expires_in)));const l=(n=s.user)!==null&&n!==void 0?n:s;return{data:{session:i,user:l},error:null}}function op(s){const n=ia(s);return!n.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0)&&(n.data.weak_password=s.weak_password),n}function mn(s){var n;return{data:{user:(n=s.user)!==null&&n!==void 0?n:s},error:null}}function M0(s){return{data:s,error:null}}function z0(s){const{action_link:n,email_otp:i,hashed_token:l,redirect_to:d,verification_type:h}=s,f=Tl(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),y={action_link:n,email_otp:i,hashed_token:l,redirect_to:d,verification_type:h},g=Object.assign({},f);return{data:{properties:y,user:g},error:null}}function cp(s){return s}function U0(s){return s.access_token&&s.refresh_token&&s.expires_in}const iu=["global","local","others"];class B0{constructor({url:n="",headers:i={},fetch:l}){this.url=n,this.headers=i,this.fetch=Pp(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,i=iu[0]){if(iu.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${iu.join(", ")}`);try{return await oe(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(l){if(ne(l))return{data:null,error:l};throw l}}async inviteUserByEmail(n,i={}){try{return await oe(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:mn})}catch(l){if(ne(l))return{data:{user:null},error:l};throw l}}async generateLink(n){try{const{options:i}=n,l=Tl(n,["options"]),d=Object.assign(Object.assign({},l),i);return"newEmail"in l&&(d.new_email=l?.newEmail,delete d.newEmail),await oe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:d,headers:this.headers,xform:z0,redirectTo:i?.redirectTo})}catch(i){if(ne(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(n){try{return await oe(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:mn})}catch(i){if(ne(i))return{data:{user:null},error:i};throw i}}async listUsers(n){var i,l,d,h,f,y,g;try{const p={nextPage:null,lastPage:0,total:0},v=await oe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(i=n?.page)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:"",per_page:(h=(d=n?.perPage)===null||d===void 0?void 0:d.toString())!==null&&h!==void 0?h:""},xform:cp});if(v.error)throw v.error;const _=await v.json(),x=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,w=(g=(y=v.headers.get("link"))===null||y===void 0?void 0:y.split(","))!==null&&g!==void 0?g:[];return w.length>0&&(w.forEach(A=>{const N=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(A.split(";")[1].split("=")[1]);p[`${O}Page`]=N}),p.total=parseInt(x)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(ne(p))return{data:{users:[]},error:p};throw p}}async getUserById(n){As(n);try{return await oe(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:mn})}catch(i){if(ne(i))return{data:{user:null},error:i};throw i}}async updateUserById(n,i){As(n);try{return await oe(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:i,headers:this.headers,xform:mn})}catch(l){if(ne(l))return{data:{user:null},error:l};throw l}}async deleteUser(n,i=!1){As(n);try{return await oe(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:i},xform:mn})}catch(l){if(ne(l))return{data:{user:null},error:l};throw l}}async _listFactors(n){As(n.userId);try{const{data:i,error:l}=await oe(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:d=>({data:{factors:d},error:null})});return{data:i,error:l}}catch(i){if(ne(i))return{data:null,error:i};throw i}}async _deleteFactor(n){As(n.userId),As(n.id);try{return{data:await oe(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(i){if(ne(i))return{data:null,error:i};throw i}}async _listOAuthClients(n){var i,l,d,h,f,y,g;try{const p={nextPage:null,lastPage:0,total:0},v=await oe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(i=n?.page)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:"",per_page:(h=(d=n?.perPage)===null||d===void 0?void 0:d.toString())!==null&&h!==void 0?h:""},xform:cp});if(v.error)throw v.error;const _=await v.json(),x=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,w=(g=(y=v.headers.get("link"))===null||y===void 0?void 0:y.split(","))!==null&&g!==void 0?g:[];return w.length>0&&(w.forEach(A=>{const N=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(A.split(";")[1].split("=")[1]);p[`${O}Page`]=N}),p.total=parseInt(x)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(ne(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(n){try{return await oe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ne(i))return{data:null,error:i};throw i}}async _getOAuthClient(n){try{return await oe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ne(i))return{data:null,error:i};throw i}}async _updateOAuthClient(n,i){try{return await oe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:i,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ne(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(n){try{return await oe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ne(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(n){try{return await oe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ne(i))return{data:null,error:i};throw i}}}function up(s={}){return{getItem:n=>s[n]||null,setItem:(n,i)=>{s[n]=i},removeItem:n=>{delete s[n]}}}const Cs={debug:!!(globalThis&&Kp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ip extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class L0 extends Ip{}async function $0(s,n,i){Cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,n);const l=new globalThis.AbortController;return n>0&&setTimeout(()=>{l.abort(),Cs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async d=>{if(d){Cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,d.name);try{return await i()}finally{Cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,d.name)}}else{if(n===0)throw Cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new L0(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(Cs.debug)try{const h=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(h,null,"  "))}catch(h){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",h)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function H0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Jp(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function G0(s){return parseInt(s,16)}function q0(s){const n=new TextEncoder().encode(s);return"0x"+Array.from(n,l=>l.toString(16).padStart(2,"0")).join("")}function V0(s){var n;const{chainId:i,domain:l,expirationTime:d,issuedAt:h=new Date,nonce:f,notBefore:y,requestId:g,resources:p,scheme:v,uri:_,version:x}=s;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((n=s.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const w=Jp(s.address),A=v?`${v}://${l}`:l,N=s.statement?`${s.statement}
`:"",O=`${A} wants you to sign in with your Ethereum account:
${w}

${N}`;let B=`URI: ${_}
Version: ${x}
Chain ID: ${i}${f?`
Nonce: ${f}`:""}
Issued At: ${h.toISOString()}`;if(d&&(B+=`
Expiration Time: ${d.toISOString()}`),y&&(B+=`
Not Before: ${y.toISOString()}`),g&&(B+=`
Request ID: ${g}`),p){let q=`
Resources:`;for(const H of p){if(!H||typeof H!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${H}`);q+=`
- ${H}`}B+=q}return`${O}
${B}`}class rt extends Error{constructor({message:n,code:i,cause:l,name:d}){var h;super(n,{cause:l}),this.__isWebAuthnError=!0,this.name=(h=d??(l instanceof Error?l.name:void 0))!==null&&h!==void 0?h:"Unknown Error",this.code=i}}class Sl extends rt{constructor(n,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:n}),this.name="WebAuthnUnknownError",this.originalError=i}}function Y0({error:s,options:n}){var i,l,d;const{publicKey:h}=n;if(!h)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(n.signal instanceof AbortSignal)return new rt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((i=h.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new rt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(n.mediation==="conditional"&&((l=h.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new rt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((d=h.authenticatorSelection)===null||d===void 0?void 0:d.userVerification)==="required")return new rt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new rt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new rt({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return h.pubKeyCredParams.filter(y=>y.type==="public-key").length===0?new rt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new rt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const f=window.location.hostname;if(Qp(f)){if(h.rp.id!==f)return new rt({message:`The RP ID "${h.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(h.user.id.byteLength<1||h.user.id.byteLength>64)return new rt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new rt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function K0({error:s,options:n}){const{publicKey:i}=n;if(!i)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(n.signal instanceof AbortSignal)return new rt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new rt({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const l=window.location.hostname;if(Qp(l)){if(i.rpId!==l)return new rt({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new rt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class P0{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const I0=new P0;function J0(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:n,user:i,excludeCredentials:l}=s,d=Tl(s,["challenge","user","excludeCredentials"]),h=Hs(n).buffer,f=Object.assign(Object.assign({},i),{id:Hs(i.id).buffer}),y=Object.assign(Object.assign({},d),{challenge:h,user:f});if(l&&l.length>0){y.excludeCredentials=new Array(l.length);for(let g=0;g<l.length;g++){const p=l[g];y.excludeCredentials[g]=Object.assign(Object.assign({},p),{id:Hs(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return y}function Q0(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:n,allowCredentials:i}=s,l=Tl(s,["challenge","allowCredentials"]),d=Hs(n).buffer,h=Object.assign(Object.assign({},l),{challenge:d});if(i&&i.length>0){h.allowCredentials=new Array(i.length);for(let f=0;f<i.length;f++){const y=i[f];h.allowCredentials[f]=Object.assign(Object.assign({},y),{id:Hs(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return h}function X0(s){var n;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const i=s;return{id:s.id,rawId:s.id,response:{attestationObject:Gn(new Uint8Array(s.response.attestationObject)),clientDataJSON:Gn(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Z0(s){var n;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const i=s,l=s.getClientExtensionResults(),d=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:Gn(new Uint8Array(d.authenticatorData)),clientDataJSON:Gn(new Uint8Array(d.clientDataJSON)),signature:Gn(new Uint8Array(d.signature)),userHandle:d.userHandle?Gn(new Uint8Array(d.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Qp(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function dp(){var s,n;return!!(_t()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator?.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function W0(s){try{const n=await navigator.credentials.create(s);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Sl("Browser returned unexpected credential type",n)}:{data:null,error:new Sl("Empty credential response",n)}}catch(n){return{data:null,error:Y0({error:n,options:s})}}}async function F0(s){try{const n=await navigator.credentials.get(s);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Sl("Browser returned unexpected credential type",n)}:{data:null,error:new Sl("Empty credential response",n)}}catch(n){return{data:null,error:K0({error:n,options:s})}}}const ex={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},tx={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function _l(...s){const n=d=>d!==null&&typeof d=="object"&&!Array.isArray(d),i=d=>d instanceof ArrayBuffer||ArrayBuffer.isView(d),l={};for(const d of s)if(d)for(const h in d){const f=d[h];if(f!==void 0)if(Array.isArray(f))l[h]=f;else if(i(f))l[h]=f;else if(n(f)){const y=l[h];n(y)?l[h]=_l(y,f):l[h]=_l(f)}else l[h]=f}return l}function ax(s,n){return _l(ex,s,n||{})}function nx(s,n){return _l(tx,s,n||{})}class sx{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:i,friendlyName:l,signal:d},h){try{const{data:f,error:y}=await this.client.mfa.challenge({factorId:n,webauthn:i});if(!f)return{data:null,error:y};const g=d??I0.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:p}=f.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${l}`),p.displayName||(p.displayName=p.name)}switch(f.webauthn.type){case"create":{const p=ax(f.webauthn.credential_options.publicKey,h?.create),{data:v,error:_}=await W0({publicKey:p,signal:g});return v?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:v}},error:null}:{data:null,error:_}}case"request":{const p=nx(f.webauthn.credential_options.publicKey,h?.request),{data:v,error:_}=await F0(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:p,signal:g}));return v?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:v}},error:null}:{data:null,error:_}}}}catch(f){return ne(f)?{data:null,error:f}:{data:null,error:new Hn("Unexpected error in challenge",f)}}}async _verify({challengeId:n,factorId:i,webauthn:l}){return this.client.mfa.verify({factorId:i,challengeId:n,webauthn:l})}async _authenticate({factorId:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:d}={}},h){if(!i)return{data:null,error:new Kr("rpId is required for WebAuthn authentication")};try{if(!dp())return{data:null,error:new Hn("Browser does not support WebAuthn",null)};const{data:f,error:y}=await this.challenge({factorId:n,webauthn:{rpId:i,rpOrigins:l},signal:d},{request:h});if(!f)return{data:null,error:y};const{webauthn:g}=f;return this._verify({factorId:n,challengeId:f.challengeId,webauthn:{type:g.type,rpId:i,rpOrigins:l,credential_response:g.credential_response}})}catch(f){return ne(f)?{data:null,error:f}:{data:null,error:new Hn("Unexpected error in authenticate",f)}}}async _register({friendlyName:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:d}={}},h){if(!i)return{data:null,error:new Kr("rpId is required for WebAuthn registration")};try{if(!dp())return{data:null,error:new Hn("Browser does not support WebAuthn",null)};const{data:f,error:y}=await this._enroll({friendlyName:n});if(!f)return await this.client.mfa.listFactors().then(v=>{var _;return(_=v.data)===null||_===void 0?void 0:_.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===n&&x.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:y};const{data:g,error:p}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:i,rpOrigins:l},signal:d},{create:h});return g?this._verify({factorId:f.id,challengeId:g.challengeId,webauthn:{rpId:i,rpOrigins:l,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:p}}catch(f){return ne(f)?{data:null,error:f}:{data:null,error:new Hn("Unexpected error in register",f)}}}}H0();const rx={url:e0,storageKey:t0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:a0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function hp(s,n,i){return await i()}const Os={};class Pr{get jwks(){var n,i;return(i=(n=Os[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(n){Os[this.storageKey]=Object.assign(Object.assign({},Os[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,i;return(i=(n=Os[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Os[this.storageKey]=Object.assign(Object.assign({},Os[this.storageKey]),{cachedAt:n})}constructor(n){var i,l,d;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const h=Object.assign(Object.assign({},rx),n);if(this.storageKey=h.storageKey,this.instanceID=(i=Pr.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,Pr.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!h.debug,typeof h.debug=="function"&&(this.logger=h.debug),this.instanceID>0&&_t()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=h.persistSession,this.autoRefreshToken=h.autoRefreshToken,this.admin=new B0({url:h.url,headers:h.headers,fetch:h.fetch}),this.url=h.url,this.headers=h.headers,this.fetch=Pp(h.fetch),this.lock=h.lock||hp,this.detectSessionInUrl=h.detectSessionInUrl,this.flowType=h.flowType,this.hasCustomAuthorizationHeader=h.hasCustomAuthorizationHeader,this.throwOnError=h.throwOnError,h.lock?this.lock=h.lock:this.persistSession&&_t()&&(!((l=globalThis?.navigator)===null||l===void 0)&&l.locks)?this.lock=$0:this.lock=hp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new sx(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(h.storage?this.storage=h.storage:Kp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=up(this.memoryStorage)),h.userStorage&&(this.userStorage=h.userStorage)):(this.memoryStorage={},this.storage=up(this.memoryStorage)),_t()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(d=this.broadcastChannel)===null||d===void 0||d.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${qp}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let i={},l="none";if(_t()&&(i=y0(window.location.href),this._isImplicitGrantCallback(i)?l="implicit":await this._isPKCECallback(i)&&(l="pkce")),_t()&&this.detectSessionInUrl&&l!=="none"){const{data:d,error:h}=await this._getSessionFromURL(i,l);if(h){if(this._debug("#_initialize()","error detecting session from URL",h),o0(h)){const g=(n=h.details)===null||n===void 0?void 0:n.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:h}}return await this._removeSession(),{error:h}}const{session:f,redirectType:y}=d;return this._debug("#_initialize()","detected session in URL",f,"redirect type",y),await this._saveSession(f),setTimeout(async()=>{y==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return ne(i)?this._returnResult({error:i}):this._returnResult({error:new Hn("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var i,l,d;try{const h=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(i=n?.options)===null||i===void 0?void 0:i.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(d=n?.options)===null||d===void 0?void 0:d.captchaToken}},xform:ia}),{data:f,error:y}=h;if(y||!f)return this._returnResult({data:{user:null,session:null},error:y});const g=f.session,p=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(h){if(ne(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signUp(n){var i,l,d;try{let h;if("email"in n){const{email:v,password:_,options:x}=n;let w=null,A=null;this.flowType==="pkce"&&([w,A]=await Rs(this.storage,this.storageKey)),h=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:v,password:_,data:(i=x?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:w,code_challenge_method:A},xform:ia})}else if("phone"in n){const{phone:v,password:_,options:x}=n;h=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:_,data:(l=x?.data)!==null&&l!==void 0?l:{},channel:(d=x?.channel)!==null&&d!==void 0?d:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:ia})}else throw new pl("You must provide either an email or phone number and a password");const{data:f,error:y}=h;if(y||!f)return await St(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:y});const g=f.session,p=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(h){if(await St(this.storage,`${this.storageKey}-code-verifier`),ne(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signInWithPassword(n){try{let i;if("email"in n){const{email:h,password:f,options:y}=n;i=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:h,password:f,gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:op})}else if("phone"in n){const{phone:h,password:f,options:y}=n;i=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:h,password:f,gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:op})}else throw new pl("You must provide either an email or phone number and a password");const{data:l,error:d}=i;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!l||!l.session||!l.user){const h=new ks;return this._returnResult({data:{user:null,session:null},error:h})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:d})}catch(i){if(ne(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(n){var i,l,d,h;return await this._handleProviderSignIn(n.provider,{redirectTo:(i=n.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=n.options)===null||l===void 0?void 0:l.scopes,queryParams:(d=n.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:(h=n.options)===null||h===void 0?void 0:h.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:i}=n;switch(i){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(n){var i,l,d,h,f,y,g,p,v,_,x;let w,A;if("message"in n)w=n.message,A=n.signature;else{const{chain:N,wallet:O,statement:B,options:q}=n;let H;if(_t())if(typeof O=="object")H=O;else{const J=window;if("ethereum"in J&&typeof J.ethereum=="object"&&"request"in J.ethereum&&typeof J.ethereum.request=="function")H=J.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!q?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");H=O}const Q=new URL((i=q?.url)!==null&&i!==void 0?i:window.location.href),le=await H.request({method:"eth_requestAccounts"}).then(J=>J).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!le||le.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const se=Jp(le[0]);let te=(l=q?.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!te){const J=await H.request({method:"eth_chainId"});te=G0(J)}const Z={domain:Q.host,address:se,statement:B,uri:Q.href,version:"1",chainId:te,nonce:(d=q?.signInWithEthereum)===null||d===void 0?void 0:d.nonce,issuedAt:(f=(h=q?.signInWithEthereum)===null||h===void 0?void 0:h.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(y=q?.signInWithEthereum)===null||y===void 0?void 0:y.expirationTime,notBefore:(g=q?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(p=q?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(v=q?.signInWithEthereum)===null||v===void 0?void 0:v.resources};w=V0(Z),A=await H.request({method:"personal_sign",params:[q0(w),se]})}try{const{data:N,error:O}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:A},!((_=n.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(x=n.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:ia});if(O)throw O;if(!N||!N.session||!N.user){const B=new ks;return this._returnResult({data:{user:null,session:null},error:B})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:O})}catch(N){if(ne(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async signInWithSolana(n){var i,l,d,h,f,y,g,p,v,_,x,w;let A,N;if("message"in n)A=n.message,N=n.signature;else{const{chain:O,wallet:B,statement:q,options:H}=n;let Q;if(_t())if(typeof B=="object")Q=B;else{const se=window;if("solana"in se&&typeof se.solana=="object"&&("signIn"in se.solana&&typeof se.solana.signIn=="function"||"signMessage"in se.solana&&typeof se.solana.signMessage=="function"))Q=se.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof B!="object"||!H?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Q=B}const le=new URL((i=H?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in Q&&Q.signIn){const se=await Q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},H?.signInWithSolana),{version:"1",domain:le.host,uri:le.href}),q?{statement:q}:null));let te;if(Array.isArray(se)&&se[0]&&typeof se[0]=="object")te=se[0];else if(se&&typeof se=="object"&&"signedMessage"in se&&"signature"in se)te=se;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in te&&"signature"in te&&(typeof te.signedMessage=="string"||te.signedMessage instanceof Uint8Array)&&te.signature instanceof Uint8Array)A=typeof te.signedMessage=="string"?te.signedMessage:new TextDecoder().decode(te.signedMessage),N=te.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Q)||typeof Q.signMessage!="function"||!("publicKey"in Q)||typeof Q!="object"||!Q.publicKey||!("toBase58"in Q.publicKey)||typeof Q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${le.host} wants you to sign in with your Solana account:`,Q.publicKey.toBase58(),...q?["",q,""]:[""],"Version: 1",`URI: ${le.href}`,`Issued At: ${(d=(l=H?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&d!==void 0?d:new Date().toISOString()}`,...!((h=H?.signInWithSolana)===null||h===void 0)&&h.notBefore?[`Not Before: ${H.signInWithSolana.notBefore}`]:[],...!((f=H?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${H.signInWithSolana.expirationTime}`]:[],...!((y=H?.signInWithSolana)===null||y===void 0)&&y.chainId?[`Chain ID: ${H.signInWithSolana.chainId}`]:[],...!((g=H?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${H.signInWithSolana.nonce}`]:[],...!((p=H?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${H.signInWithSolana.requestId}`]:[],...!((_=(v=H?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||_===void 0)&&_.length?["Resources",...H.signInWithSolana.resources.map(te=>`- ${te}`)]:[]].join(`
`);const se=await Q.signMessage(new TextEncoder().encode(A),"utf8");if(!se||!(se instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=se}}try{const{data:O,error:B}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:Gn(N)},!((x=n.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(w=n.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:ia});if(B)throw B;if(!O||!O.session||!O.user){const q=new ks;return this._returnResult({data:{user:null,session:null},error:q})}return O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),this._returnResult({data:Object.assign({},O),error:B})}catch(O){if(ne(O))return this._returnResult({data:{user:null,session:null},error:O});throw O}}async _exchangeCodeForSession(n){const i=await zn(this.storage,`${this.storageKey}-code-verifier`),[l,d]=(i??"").split("/");try{if(!l&&this.flowType==="pkce")throw new c0;const{data:h,error:f}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:l},xform:ia});if(await St(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!h||!h.session||!h.user){const y=new ks;return this._returnResult({data:{user:null,session:null,redirectType:null},error:y})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:Object.assign(Object.assign({},h),{redirectType:d??null}),error:f})}catch(h){if(await St(this.storage,`${this.storageKey}-code-verifier`),ne(h))return this._returnResult({data:{user:null,session:null,redirectType:null},error:h});throw h}}async signInWithIdToken(n){try{const{options:i,provider:l,token:d,access_token:h,nonce:f}=n,y=await oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:d,access_token:h,nonce:f,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:ia}),{data:g,error:p}=y;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!g||!g.session||!g.user){const v=new ks;return this._returnResult({data:{user:null,session:null},error:v})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:p})}catch(i){if(ne(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(n){var i,l,d,h,f;try{if("email"in n){const{email:y,options:g}=n;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await Rs(this.storage,this.storageKey));const{error:_}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:y,data:(i=g?.data)!==null&&i!==void 0?i:{},create_user:(l=g?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:p,code_challenge_method:v},redirectTo:g?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in n){const{phone:y,options:g}=n,{data:p,error:v}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:y,data:(d=g?.data)!==null&&d!==void 0?d:{},create_user:(h=g?.shouldCreateUser)!==null&&h!==void 0?h:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(f=g?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:v})}throw new pl("You must provide either an email or phone number.")}catch(y){if(await St(this.storage,`${this.storageKey}-code-verifier`),ne(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async verifyOtp(n){var i,l;try{let d,h;"options"in n&&(d=(i=n.options)===null||i===void 0?void 0:i.redirectTo,h=(l=n.options)===null||l===void 0?void 0:l.captchaToken);const{data:f,error:y}=await oe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:h}}),redirectTo:d,xform:ia});if(y)throw y;if(!f)throw new Error("An error occurred on token verification.");const g=f.session,p=f.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(d){if(ne(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithSSO(n){var i,l,d,h,f;try{let y=null,g=null;this.flowType==="pkce"&&([y,g]=await Rs(this.storage,this.storageKey));const p=await oe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(l=(i=n.options)===null||i===void 0?void 0:i.redirectTo)!==null&&l!==void 0?l:void 0}),!((d=n?.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:y,code_challenge_method:g}),headers:this.headers,xform:M0});return!((h=p.data)===null||h===void 0)&&h.url&&_t()&&!(!((f=n.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(y){if(await St(this.storage,`${this.storageKey}-code-verifier`),ne(y))return this._returnResult({data:null,error:y});throw y}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:i},error:l}=n;if(l)throw l;if(!i)throw new Yt;const{error:d}=await oe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:d})})}catch(n){if(ne(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const i=`${this.url}/resend`;if("email"in n){const{email:l,type:d,options:h}=n,{error:f}=await oe(this.fetch,"POST",i,{headers:this.headers,body:{email:l,type:d,gotrue_meta_security:{captcha_token:h?.captchaToken}},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in n){const{phone:l,type:d,options:h}=n,{data:f,error:y}=await oe(this.fetch,"POST",i,{headers:this.headers,body:{phone:l,type:d,gotrue_meta_security:{captcha_token:h?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:y})}throw new pl("You must provide either an email or phone number and a type")}catch(i){if(ne(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(n,i){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),d=(async()=>(await l,await i()))();return this.pendingInLock.push((async()=>{try{await d}catch{}})()),d}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=i();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const d=[...this.pendingInLock];await Promise.all(d),this.pendingInLock.splice(0,d.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await n(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const i=await zn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?n=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const l=n.expires_at?n.expires_at*1e3-Date.now()<au:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",n.expires_at),!l){if(this.userStorage){const f=await zn(this.userStorage,this.storageKey+"-user");f?.user?n.user=f.user:n.user=ru()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};n.user=A0(n.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:d,error:h}=await this._callRefreshToken(n.refresh_token);return h?this._returnResult({data:{session:null},error:h}):this._returnResult({data:{session:d},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const i=await this._acquireLock(-1,async()=>await this._getUser());return i.data.user&&(this.suppressGetSessionWarning=!0),i}async _getUser(n){try{return n?await oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:mn}):await this._useSession(async i=>{var l,d,h;const{data:f,error:y}=i;if(y)throw y;return!(!((l=f.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Yt}:await oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(h=(d=f.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0,xform:mn})})}catch(i){if(ne(i))return l0(i)&&(await this._removeSession(),await St(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(n,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,i))}async _updateUser(n,i={}){try{return await this._useSession(async l=>{const{data:d,error:h}=l;if(h)throw h;if(!d.session)throw new Yt;const f=d.session;let y=null,g=null;this.flowType==="pkce"&&n.email!=null&&([y,g]=await Rs(this.storage,this.storageKey));const{data:p,error:v}=await oe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:y,code_challenge_method:g}),jwt:f.access_token,xform:mn});if(v)throw v;return f.user=p.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(l){if(await St(this.storage,`${this.storageKey}-code-verifier`),ne(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Yt;const i=Date.now()/1e3;let l=i,d=!0,h=null;const{payload:f}=su(n.access_token);if(f.exp&&(l=f.exp,d=l<=i),d){const{data:y,error:g}=await this._callRefreshToken(n.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!y)return{data:{user:null,session:null},error:null};h=y}else{const{data:y,error:g}=await this._getUser(n.access_token);if(g)throw g;h={access_token:n.access_token,refresh_token:n.refresh_token,user:y.user,token_type:"bearer",expires_in:l-i,expires_at:l},await this._saveSession(h),await this._notifyAllSubscribers("SIGNED_IN",h)}return this._returnResult({data:{user:h.user,session:h},error:null})}catch(i){if(ne(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async i=>{var l;if(!n){const{data:f,error:y}=i;if(y)throw y;n=(l=f.session)!==null&&l!==void 0?l:void 0}if(!n?.refresh_token)throw new Yt;const{data:d,error:h}=await this._callRefreshToken(n.refresh_token);return h?this._returnResult({data:{user:null,session:null},error:h}):d?this._returnResult({data:{user:d.user,session:d},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(ne(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(n,i){try{if(!_t())throw new gl("No browser detected.");if(n.error||n.error_description||n.error_code)throw new gl(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new tp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new gl("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new tp("No code detected.");const{data:q,error:H}=await this._exchangeCodeForSession(n.code);if(H)throw H;const Q=new URL(window.location.href);return Q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Q.toString()),{data:{session:q.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:d,access_token:h,refresh_token:f,expires_in:y,expires_at:g,token_type:p}=n;if(!h||!y||!f||!p)throw new gl("No session defined in URL");const v=Math.round(Date.now()/1e3),_=parseInt(y);let x=v+_;g&&(x=parseInt(g));const w=x-v;w*1e3<=Us&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${_}s`);const A=x-_;v-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,x,v):v-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,x,v);const{data:N,error:O}=await this._getUser(h);if(O)throw O;const B={provider_token:l,provider_refresh_token:d,access_token:h,expires_in:_,expires_at:x,refresh_token:f,token_type:p,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:B,redirectType:n.type},error:null})}catch(l){if(ne(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const i=await zn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&i)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async i=>{var l;const{data:d,error:h}=i;if(h)return this._returnResult({error:h});const f=(l=d.session)===null||l===void 0?void 0:l.access_token;if(f){const{error:y}=await this.admin.signOut(f,n);if(y&&!(i0(y)&&(y.status===404||y.status===401||y.status===403)))return this._returnResult({error:y})}return n!=="others"&&(await this._removeSession(),await St(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const i=g0(),l={id:i,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:l}}}async _emitInitialSession(n){return await this._useSession(async i=>{var l,d;try{const{data:{session:h},error:f}=i;if(f)throw f;await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",h)),this._debug("INITIAL_SESSION","callback id",n,"session",h)}catch(h){await((d=this.stateChangeEmitters.get(n))===null||d===void 0?void 0:d.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",h),console.error(h)}})}async resetPasswordForEmail(n,i={}){let l=null,d=null;this.flowType==="pkce"&&([l,d]=await Rs(this.storage,this.storageKey,!0));try{return await oe(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:l,code_challenge_method:d,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(h){if(await St(this.storage,`${this.storageKey}-code-verifier`),ne(h))return this._returnResult({data:null,error:h});throw h}}async getUserIdentities(){var n;try{const{data:i,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(n=i.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(i){if(ne(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var i;try{const{data:l,error:d}=await this._useSession(async h=>{var f,y,g,p,v;const{data:_,error:x}=h;if(x)throw x;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(y=n.options)===null||y===void 0?void 0:y.scopes,queryParams:(g=n.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await oe(this.fetch,"GET",w,{headers:this.headers,jwt:(v=(p=_.session)===null||p===void 0?void 0:p.access_token)!==null&&v!==void 0?v:void 0})});if(d)throw d;return _t()&&!(!((i=n.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(l?.url),this._returnResult({data:{provider:n.provider,url:l?.url},error:null})}catch(l){if(ne(l))return this._returnResult({data:{provider:n.provider,url:null},error:l});throw l}}async linkIdentityIdToken(n){return await this._useSession(async i=>{var l;try{const{error:d,data:{session:h}}=i;if(d)throw d;const{options:f,provider:y,token:g,access_token:p,nonce:v}=n,_=await oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=h?.access_token)!==null&&l!==void 0?l:void 0,body:{provider:y,id_token:g,access_token:p,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:ia}),{data:x,error:w}=_;return w?this._returnResult({data:{user:null,session:null},error:w}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new ks}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:w}))}catch(d){if(await St(this.storage,`${this.storageKey}-code-verifier`),ne(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}})}async unlinkIdentity(n){try{return await this._useSession(async i=>{var l,d;const{data:h,error:f}=i;if(f)throw f;return await oe(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(d=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&d!==void 0?d:void 0})})}catch(i){if(ne(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(n){const i=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{const l=Date.now();return await x0(async d=>(d>0&&await v0(200*Math.pow(2,d-1)),this._debug(i,"refreshing attempt",d),await oe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:ia})),(d,h)=>{const f=200*Math.pow(2,d);return h&&nu(h)&&Date.now()+f-l<Us})}catch(l){if(this._debug(i,"error",l),ne(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(i,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,i){const l=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",i,"url",l),_t()&&!i.skipBrowserRedirect&&window.location.assign(l),{data:{provider:n,url:l},error:null}}async _recoverAndRefresh(){var n,i;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const d=await zn(this.storage,this.storageKey);if(d&&this.userStorage){let f=await zn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:d.user},await Bs(this.userStorage,this.storageKey+"-user",f)),d.user=(n=f?.user)!==null&&n!==void 0?n:ru()}else if(d&&!d.user&&!d.user){const f=await zn(this.storage,this.storageKey+"-user");f&&f?.user?(d.user=f.user,await St(this.storage,this.storageKey+"-user"),await Bs(this.storage,this.storageKey,d)):d.user=ru()}if(this._debug(l,"session from storage",d),!this._isValidSession(d)){this._debug(l,"session is not valid"),d!==null&&await this._removeSession();return}const h=((i=d.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<au;if(this._debug(l,`session has${h?"":" not"} expired with margin of ${au}s`),h){if(this.autoRefreshToken&&d.refresh_token){const{error:f}=await this._callRefreshToken(d.refresh_token);f&&(console.error(f),nu(f)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(d.user&&d.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:y}=await this._getUser(d.access_token);!y&&f?.user?(d.user=f.user,await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(l,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",d)}catch(d){this._debug(l,"error",d),console.error(d);return}finally{this._debug(l,"end")}}async _callRefreshToken(n){var i,l;if(!n)throw new Yt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const d=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(d,"begin");try{this.refreshingDeferred=new El;const{data:h,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!h.session)throw new Yt;await this._saveSession(h.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",h.session);const y={data:h.session,error:null};return this.refreshingDeferred.resolve(y),y}catch(h){if(this._debug(d,"error",h),ne(h)){const f={data:null,error:h};return nu(h)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(f),f}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(h),h}finally{this.refreshingDeferred=null,this._debug(d,"end")}}async _notifyAllSubscribers(n,i,l=!0){const d=`#_notifyAllSubscribers(${n})`;this._debug(d,"begin",i,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:n,session:i});const h=[],f=Array.from(this.stateChangeEmitters.values()).map(async y=>{try{await y.callback(n,i)}catch(g){h.push(g)}});if(await Promise.all(f),h.length>0){for(let y=0;y<h.length;y+=1)console.error(h[y]);throw h[0]}}finally{this._debug(d,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await St(this.storage,`${this.storageKey}-code-verifier`);const i=Object.assign({},n),l=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&i.user&&await Bs(this.userStorage,this.storageKey+"-user",{user:i.user});const d=Object.assign({},i);delete d.user;const h=ip(d);await Bs(this.storage,this.storageKey,h)}else{const d=ip(i);await Bs(this.storage,this.storageKey,d)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await St(this.storage,this.storageKey),await St(this.storage,this.storageKey+"-code-verifier"),await St(this.storage,this.storageKey+"-user"),this.userStorage&&await St(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&_t()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Us);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async i=>{const{data:{session:l}}=i;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const d=Math.floor((l.expires_at*1e3-n)/Us);this._debug("#_autoRefreshTokenTick()",`access token expires in ${d} ticks, a tick lasts ${Us}ms, refresh threshold is ${bu} ticks`),d<=bu&&await this._callRefreshToken(l.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Ip)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!_t()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const i=`#_onVisibilityChanged(${n})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,i,l){const d=[`provider=${encodeURIComponent(i)}`];if(l?.redirectTo&&d.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&d.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[h,f]=await Rs(this.storage,this.storageKey),y=new URLSearchParams({code_challenge:`${encodeURIComponent(h)}`,code_challenge_method:`${encodeURIComponent(f)}`});d.push(y.toString())}if(l?.queryParams){const h=new URLSearchParams(l.queryParams);d.push(h.toString())}return l?.skipBrowserRedirect&&d.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${n}?${d.join("&")}`}async _unenroll(n){try{return await this._useSession(async i=>{var l;const{data:d,error:h}=i;return h?this._returnResult({data:null,error:h}):await oe(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(l=d?.session)===null||l===void 0?void 0:l.access_token})})}catch(i){if(ne(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(n){try{return await this._useSession(async i=>{var l,d;const{data:h,error:f}=i;if(f)return this._returnResult({data:null,error:f});const y=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:g,error:p}=await oe(this.fetch,"POST",`${this.url}/factors`,{body:y,headers:this.headers,jwt:(l=h?.session)===null||l===void 0?void 0:l.access_token});return p?this._returnResult({data:null,error:p}):(n.factorType==="totp"&&g.type==="totp"&&(!((d=g?.totp)===null||d===void 0)&&d.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(i){if(ne(i))return this._returnResult({data:null,error:i});throw i}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var l;const{data:d,error:h}=i;if(h)return this._returnResult({data:null,error:h});const f=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?X0(n.webauthn.credential_response):Z0(n.webauthn.credential_response)})}:{code:n.code}),{data:y,error:g}=await oe(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:f,headers:this.headers,jwt:(l=d?.session)===null||l===void 0?void 0:l.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+y.expires_in},y)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",y),this._returnResult({data:y,error:g}))})}catch(i){if(ne(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var l;const{data:d,error:h}=i;if(h)return this._returnResult({data:null,error:h});const f=await oe(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(l=d?.session)===null||l===void 0?void 0:l.access_token});if(f.error)return f;const{data:y}=f;if(y.type!=="webauthn")return{data:y,error:null};switch(y.webauthn.type){case"create":return{data:Object.assign(Object.assign({},y),{webauthn:Object.assign(Object.assign({},y.webauthn),{credential_options:Object.assign(Object.assign({},y.webauthn.credential_options),{publicKey:J0(y.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},y),{webauthn:Object.assign(Object.assign({},y.webauthn),{credential_options:Object.assign(Object.assign({},y.webauthn.credential_options),{publicKey:Q0(y.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(ne(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(n){const{data:i,error:l}=await this._challenge({factorId:n.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:n.factorId,challengeId:i.id,code:n.code})}async _listFactors(){var n;const{data:{user:i},error:l}=await this.getUser();if(l)return{data:null,error:l};const d={all:[],phone:[],totp:[],webauthn:[]};for(const h of(n=i?.factors)!==null&&n!==void 0?n:[])d.all.push(h),h.status==="verified"&&d[h.factor_type].push(h);return{data:d,error:null}}async _getAuthenticatorAssuranceLevel(){var n,i;const{data:{session:l},error:d}=await this.getSession();if(d)return this._returnResult({data:null,error:d});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=su(l.access_token);let f=null;h.aal&&(f=h.aal);let y=f;((i=(n=l.user.factors)===null||n===void 0?void 0:n.filter(v=>v.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(y="aal2");const p=h.amr||[];return{data:{currentLevel:f,nextLevel:y,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async i=>{const{data:{session:l},error:d}=i;return d?this._returnResult({data:null,error:d}):l?await oe(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:l.access_token,xform:h=>({data:h,error:null})}):this._returnResult({data:null,error:new Yt})})}catch(i){if(ne(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(n,i){try{return await this._useSession(async l=>{const{data:{session:d},error:h}=l;if(h)return this._returnResult({data:null,error:h});if(!d)return this._returnResult({data:null,error:new Yt});const f=await oe(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:d.access_token,body:{action:"approve"},xform:y=>({data:y,error:null})});return f.data&&f.data.redirect_url&&_t()&&!i?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(l){if(ne(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(n,i){try{return await this._useSession(async l=>{const{data:{session:d},error:h}=l;if(h)return this._returnResult({data:null,error:h});if(!d)return this._returnResult({data:null,error:new Yt});const f=await oe(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:d.access_token,body:{action:"deny"},xform:y=>({data:y,error:null})});return f.data&&f.data.redirect_url&&_t()&&!i?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(l){if(ne(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:i},error:l}=n;return l?this._returnResult({data:null,error:l}):i?await oe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new Yt})})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async i=>{const{data:{session:l},error:d}=i;return d?this._returnResult({data:null,error:d}):l?(await oe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Yt})})}catch(i){if(ne(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(n,i={keys:[]}){let l=i.keys.find(y=>y.kid===n);if(l)return l;const d=Date.now();if(l=this.jwks.keys.find(y=>y.kid===n),l&&this.jwks_cached_at+s0>d)return l;const{data:h,error:f}=await oe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!h.keys||h.keys.length===0||(this.jwks=h,this.jwks_cached_at=d,l=h.keys.find(y=>y.kid===n),!l)?null:l}async getClaims(n,i={}){try{let l=n;if(!l){const{data:w,error:A}=await this.getSession();if(A||!w.session)return this._returnResult({data:null,error:A});l=w.session.access_token}const{header:d,payload:h,signature:f,raw:{header:y,payload:g}}=su(l);i?.allowExpired||E0(h.exp);const p=!d.alg||d.alg.startsWith("HS")||!d.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(d.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!p){const{error:w}=await this.getUser(l);if(w)throw w;return{data:{claims:h,header:d,signature:f},error:null}}const v=k0(d.alg),_=await crypto.subtle.importKey("jwk",p,v,!0,["verify"]);if(!await crypto.subtle.verify(v,_,f,m0(`${y}.${g}`)))throw new wu("Invalid JWT signature");return{data:{claims:h,header:d,signature:f},error:null}}catch(l){if(ne(l))return this._returnResult({data:null,error:l});throw l}}}Pr.nextInstanceID={};const ix=Pr,lx="2.89.0";let $r="";typeof Deno<"u"?$r="deno":typeof document<"u"?$r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?$r="react-native":$r="node";const ox={"X-Client-Info":`supabase-js-${$r}/${lx}`},cx={headers:ox},ux={schema:"public"},dx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},hx={};function Ir(s){"@babel/helpers - typeof";return Ir=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ir(s)}function fx(s,n){if(Ir(s)!="object"||!s)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var l=i.call(s,n);if(Ir(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(s)}function mx(s){var n=fx(s,"string");return Ir(n)=="symbol"?n:n+""}function px(s,n,i){return(n=mx(n))in s?Object.defineProperty(s,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[n]=i,s}function fp(s,n){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);n&&(l=l.filter(function(d){return Object.getOwnPropertyDescriptor(s,d).enumerable})),i.push.apply(i,l)}return i}function Xe(s){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?fp(Object(i),!0).forEach(function(l){px(s,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):fp(Object(i)).forEach(function(l){Object.defineProperty(s,l,Object.getOwnPropertyDescriptor(i,l))})}return s}const gx=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),yx=()=>Headers,bx=(s,n,i)=>{const l=gx(i),d=yx();return async(h,f)=>{var y;const g=(y=await n())!==null&&y!==void 0?y:s;let p=new d(f?.headers);return p.has("apikey")||p.set("apikey",s),p.has("Authorization")||p.set("Authorization",`Bearer ${g}`),l(h,Xe(Xe({},f),{},{headers:p}))}};function vx(s){return s.endsWith("/")?s:s+"/"}function xx(s,n){var i,l;const{db:d,auth:h,realtime:f,global:y}=s,{db:g,auth:p,realtime:v,global:_}=n,x={db:Xe(Xe({},g),d),auth:Xe(Xe({},p),h),realtime:Xe(Xe({},v),f),storage:{},global:Xe(Xe(Xe({},_),y),{},{headers:Xe(Xe({},(i=_?.headers)!==null&&i!==void 0?i:{}),(l=y?.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return s.accessToken?x.accessToken=s.accessToken:delete x.accessToken,x}function wx(s){const n=s?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(vx(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Sx=class extends ix{constructor(s){super(s)}},_x=class{constructor(s,n,i){var l,d;this.supabaseUrl=s,this.supabaseKey=n;const h=wx(s);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const f=`sb-${h.hostname.split(".")[0]}-auth-token`,y={db:ux,realtime:hx,auth:Xe(Xe({},dx),{},{storageKey:f}),global:cx},g=xx(i??{},y);if(this.storageKey=(l=g.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(d=g.global.headers)!==null&&d!==void 0?d:{},g.accessToken)this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(v,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=g.auth)!==null&&p!==void 0?p:{},this.headers,g.global.fetch)}this.fetch=bx(n,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Xe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&this.accessToken().then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new av(new URL("rest/v1",h).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new Fv(this.storageUrl.href,this.headers,this.fetch,i?.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new Zb(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,n={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(s,n,i)}channel(s,n={config:{}}){return this.realtime.channel(s,n)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var s=this,n,i;if(s.accessToken)return await s.accessToken();const{data:l}=await s.auth.getSession();return(n=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&n!==void 0?n:s.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:n,detectSessionInUrl:i,storage:l,userStorage:d,storageKey:h,flowType:f,lock:y,debug:g,throwOnError:p},v,_){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Sx({url:this.authUrl.href,headers:Xe(Xe({},x),v),storageKey:h,autoRefreshToken:s,persistSession:n,detectSessionInUrl:i,storage:l,userStorage:d,flowType:f,lock:y,debug:g,throwOnError:p,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(s){return new vv(this.realtimeUrl.href,Xe(Xe({},s),{},{params:Xe(Xe({},{apikey:this.supabaseKey}),s?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,n)=>{this._handleTokenChanged(s,"CLIENT",n?.access_token)})}_handleTokenChanged(s,n,i){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):s==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const jx=(s,n,i)=>new _x(s,n,i);function Tx(){if(typeof window<"u"||typeof process>"u")return!1;const s=process.version;if(s==null)return!1;const n=s.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}Tx()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Nx="https://dceicfrztvmmuuyjzaeb.supabase.co",Ex="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRjZWljZnJ6dHZtbXV1eWp6YWViIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY4ODYxMDEsImV4cCI6MjA4MjQ2MjEwMX0.mjIPrvFKNDht83bnsfVwiRiiqvkwuHLL1nNXdXDpGoE",$s=jx(Nx,Ex),Xp=P.createContext();function ht(){const s=P.useContext(Xp);if(!s)throw new Error("useGame must be used within a GameProvider");return s}const mp={threatDie:1,missions:[],dangerClocks:[],journal:"",log:[]};function kx({children:s,roomCode:n}){const[i,l]=P.useState(mp),[d,h]=P.useState(!0),[f,y]=P.useState(null),g=P.useRef(null),p=P.useRef(null);P.useEffect(()=>{if(!n){h(!1);return}async function w(){try{const{data:A,error:N}=await $s.from("sessions").select("game_state").eq("room_code",n).single();if(N)if(N.code==="PGRST116")l(mp);else throw N;else A?.game_state&&l(A.game_state)}catch(A){console.error("Error loading game state:",A),y(A.message)}finally{h(!1)}}w()},[n]),P.useEffect(()=>{if(!n)return;const w=$s.channel(`room:${n}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"sessions",filter:`room_code=eq.${n}`},A=>{A.new?.game_state&&l(A.new.game_state)}).subscribe();return()=>{$s.removeChannel(w)}},[n]),P.useEffect(()=>()=>{g.current&&clearTimeout(g.current)},[]);const v=P.useCallback(w=>{if(!n)return;let A;l(N=>(A=typeof w=="function"?w(N):{...N,...w},p.current=A,A)),g.current&&clearTimeout(g.current),g.current=setTimeout(async()=>{try{const N=p.current,{error:O}=await $s.from("sessions").upsert({room_code:n,game_state:N});if(O)throw O}catch(N){console.error("Error syncing game state:",N),y(N.message)}},300)},[n]),_=P.useCallback((w,A="info")=>{v(N=>({...N,log:[{id:Date.now().toString(),timestamp:new Date().toISOString(),message:w,type:A},...N.log].slice(0,100)}))},[v]),x={gameState:i,updateGameState:v,addLog:_,loading:d,error:f};return c.jsx(Xp.Provider,{value:x,children:s})}function Zp(s){var n,i,l="";if(typeof s=="string"||typeof s=="number")l+=s;else if(typeof s=="object")if(Array.isArray(s)){var d=s.length;for(n=0;n<d;n++)s[n]&&(i=Zp(s[n]))&&(l&&(l+=" "),l+=i)}else for(i in s)s[i]&&(l&&(l+=" "),l+=i);return l}function Rx(){for(var s,n,i=0,l="",d=arguments.length;i<d;i++)(s=arguments[i])&&(n=Zp(s))&&(l&&(l+=" "),l+=n);return l}const Ax=(s,n)=>{const i=new Array(s.length+n.length);for(let l=0;l<s.length;l++)i[l]=s[l];for(let l=0;l<n.length;l++)i[s.length+l]=n[l];return i},Cx=(s,n)=>({classGroupId:s,validator:n}),Wp=(s=new Map,n=null,i)=>({nextPart:s,validators:n,classGroupId:i}),jl="-",pp=[],Ox="arbitrary..",Dx=s=>{const n=zx(s),{conflictingClassGroups:i,conflictingClassGroupModifiers:l}=s;return{getClassGroupId:f=>{if(f.startsWith("[")&&f.endsWith("]"))return Mx(f);const y=f.split(jl),g=y[0]===""&&y.length>1?1:0;return Fp(y,g,n)},getConflictingClassGroupIds:(f,y)=>{if(y){const g=l[f],p=i[f];return g?p?Ax(p,g):g:p||pp}return i[f]||pp}}},Fp=(s,n,i)=>{if(s.length-n===0)return i.classGroupId;const d=s[n],h=i.nextPart.get(d);if(h){const p=Fp(s,n+1,h);if(p)return p}const f=i.validators;if(f===null)return;const y=n===0?s.join(jl):s.slice(n).join(jl),g=f.length;for(let p=0;p<g;p++){const v=f[p];if(v.validator(y))return v.classGroupId}},Mx=s=>s.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const n=s.slice(1,-1),i=n.indexOf(":"),l=n.slice(0,i);return l?Ox+l:void 0})(),zx=s=>{const{theme:n,classGroups:i}=s;return Ux(i,n)},Ux=(s,n)=>{const i=Wp();for(const l in s){const d=s[l];Au(d,i,l,n)}return i},Au=(s,n,i,l)=>{const d=s.length;for(let h=0;h<d;h++){const f=s[h];Bx(f,n,i,l)}},Bx=(s,n,i,l)=>{if(typeof s=="string"){Lx(s,n,i);return}if(typeof s=="function"){$x(s,n,i,l);return}Hx(s,n,i,l)},Lx=(s,n,i)=>{const l=s===""?n:eg(n,s);l.classGroupId=i},$x=(s,n,i,l)=>{if(Gx(s)){Au(s(l),n,i,l);return}n.validators===null&&(n.validators=[]),n.validators.push(Cx(i,s))},Hx=(s,n,i,l)=>{const d=Object.entries(s),h=d.length;for(let f=0;f<h;f++){const[y,g]=d[f];Au(g,eg(n,y),i,l)}},eg=(s,n)=>{let i=s;const l=n.split(jl),d=l.length;for(let h=0;h<d;h++){const f=l[h];let y=i.nextPart.get(f);y||(y=Wp(),i.nextPart.set(f,y)),i=y}return i},Gx=s=>"isThemeGetter"in s&&s.isThemeGetter===!0,qx=s=>{if(s<1)return{get:()=>{},set:()=>{}};let n=0,i=Object.create(null),l=Object.create(null);const d=(h,f)=>{i[h]=f,n++,n>s&&(n=0,l=i,i=Object.create(null))};return{get(h){let f=i[h];if(f!==void 0)return f;if((f=l[h])!==void 0)return d(h,f),f},set(h,f){h in i?i[h]=f:d(h,f)}}},Su="!",gp=":",Vx=[],yp=(s,n,i,l,d)=>({modifiers:s,hasImportantModifier:n,baseClassName:i,maybePostfixModifierPosition:l,isExternal:d}),Yx=s=>{const{prefix:n,experimentalParseClassName:i}=s;let l=d=>{const h=[];let f=0,y=0,g=0,p;const v=d.length;for(let N=0;N<v;N++){const O=d[N];if(f===0&&y===0){if(O===gp){h.push(d.slice(g,N)),g=N+1;continue}if(O==="/"){p=N;continue}}O==="["?f++:O==="]"?f--:O==="("?y++:O===")"&&y--}const _=h.length===0?d:d.slice(g);let x=_,w=!1;_.endsWith(Su)?(x=_.slice(0,-1),w=!0):_.startsWith(Su)&&(x=_.slice(1),w=!0);const A=p&&p>g?p-g:void 0;return yp(h,w,x,A)};if(n){const d=n+gp,h=l;l=f=>f.startsWith(d)?h(f.slice(d.length)):yp(Vx,!1,f,void 0,!0)}if(i){const d=l;l=h=>i({className:h,parseClassName:d})}return l},Kx=s=>{const n=new Map;return s.orderSensitiveModifiers.forEach((i,l)=>{n.set(i,1e6+l)}),i=>{const l=[];let d=[];for(let h=0;h<i.length;h++){const f=i[h],y=f[0]==="[",g=n.has(f);y||g?(d.length>0&&(d.sort(),l.push(...d),d=[]),l.push(f)):d.push(f)}return d.length>0&&(d.sort(),l.push(...d)),l}},Px=s=>({cache:qx(s.cacheSize),parseClassName:Yx(s),sortModifiers:Kx(s),...Dx(s)}),Ix=/\s+/,Jx=(s,n)=>{const{parseClassName:i,getClassGroupId:l,getConflictingClassGroupIds:d,sortModifiers:h}=n,f=[],y=s.trim().split(Ix);let g="";for(let p=y.length-1;p>=0;p-=1){const v=y[p],{isExternal:_,modifiers:x,hasImportantModifier:w,baseClassName:A,maybePostfixModifierPosition:N}=i(v);if(_){g=v+(g.length>0?" "+g:g);continue}let O=!!N,B=l(O?A.substring(0,N):A);if(!B){if(!O){g=v+(g.length>0?" "+g:g);continue}if(B=l(A),!B){g=v+(g.length>0?" "+g:g);continue}O=!1}const q=x.length===0?"":x.length===1?x[0]:h(x).join(":"),H=w?q+Su:q,Q=H+B;if(f.indexOf(Q)>-1)continue;f.push(Q);const le=d(B,O);for(let se=0;se<le.length;++se){const te=le[se];f.push(H+te)}g=v+(g.length>0?" "+g:g)}return g},Qx=(...s)=>{let n=0,i,l,d="";for(;n<s.length;)(i=s[n++])&&(l=tg(i))&&(d&&(d+=" "),d+=l);return d},tg=s=>{if(typeof s=="string")return s;let n,i="";for(let l=0;l<s.length;l++)s[l]&&(n=tg(s[l]))&&(i&&(i+=" "),i+=n);return i},Xx=(s,...n)=>{let i,l,d,h;const f=g=>{const p=n.reduce((v,_)=>_(v),s());return i=Px(p),l=i.cache.get,d=i.cache.set,h=y,y(g)},y=g=>{const p=l(g);if(p)return p;const v=Jx(g,i);return d(g,v),v};return h=f,(...g)=>h(Qx(...g))},Zx=[],ct=s=>{const n=i=>i[s]||Zx;return n.isThemeGetter=!0,n},ag=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,ng=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Wx=/^\d+\/\d+$/,Fx=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ew=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,tw=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,aw=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,nw=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ds=s=>Wx.test(s),be=s=>!!s&&!Number.isNaN(Number(s)),un=s=>!!s&&Number.isInteger(Number(s)),lu=s=>s.endsWith("%")&&be(s.slice(0,-1)),Da=s=>Fx.test(s),sw=()=>!0,rw=s=>ew.test(s)&&!tw.test(s),sg=()=>!1,iw=s=>aw.test(s),lw=s=>nw.test(s),ow=s=>!F(s)&&!ee(s),cw=s=>Gs(s,lg,sg),F=s=>ag.test(s),Un=s=>Gs(s,og,rw),ou=s=>Gs(s,mw,be),bp=s=>Gs(s,rg,sg),uw=s=>Gs(s,ig,lw),yl=s=>Gs(s,cg,iw),ee=s=>ng.test(s),Br=s=>qs(s,og),dw=s=>qs(s,pw),vp=s=>qs(s,rg),hw=s=>qs(s,lg),fw=s=>qs(s,ig),bl=s=>qs(s,cg,!0),Gs=(s,n,i)=>{const l=ag.exec(s);return l?l[1]?n(l[1]):i(l[2]):!1},qs=(s,n,i=!1)=>{const l=ng.exec(s);return l?l[1]?n(l[1]):i:!1},rg=s=>s==="position"||s==="percentage",ig=s=>s==="image"||s==="url",lg=s=>s==="length"||s==="size"||s==="bg-size",og=s=>s==="length",mw=s=>s==="number",pw=s=>s==="family-name",cg=s=>s==="shadow",gw=()=>{const s=ct("color"),n=ct("font"),i=ct("text"),l=ct("font-weight"),d=ct("tracking"),h=ct("leading"),f=ct("breakpoint"),y=ct("container"),g=ct("spacing"),p=ct("radius"),v=ct("shadow"),_=ct("inset-shadow"),x=ct("text-shadow"),w=ct("drop-shadow"),A=ct("blur"),N=ct("perspective"),O=ct("aspect"),B=ct("ease"),q=ct("animate"),H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],le=()=>[...Q(),ee,F],se=()=>["auto","hidden","clip","visible","scroll"],te=()=>["auto","contain","none"],Z=()=>[ee,F,g],J=()=>[Ds,"full","auto",...Z()],Re=()=>[un,"none","subgrid",ee,F],Ke=()=>["auto",{span:["full",un,ee,F]},un,ee,F],Ce=()=>[un,"auto",ee,F],lt=()=>["auto","min","max","fr",ee,F],Ie=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Le=()=>["start","end","center","stretch","center-safe","end-safe"],M=()=>["auto",...Z()],K=()=>[Ds,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...Z()],G=()=>[s,ee,F],Ee=()=>[...Q(),vp,bp,{position:[ee,F]}],Ae=()=>["no-repeat",{repeat:["","x","y","space","round"]}],T=()=>["auto","cover","contain",hw,cw,{size:[ee,F]}],L=()=>[lu,Br,Un],V=()=>["","none","full",p,ee,F],I=()=>["",be,Br,Un],de=()=>["solid","dashed","dotted","double"],ye=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ue=()=>[be,lu,vp,bp],ft=()=>["","none",A,ee,F],He=()=>["none",be,ee,F],ca=()=>["none",be,ee,F],Ua=()=>[be,ee,F],Ba=()=>[Ds,"full",...Z()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Da],breakpoint:[Da],color:[sw],container:[Da],"drop-shadow":[Da],ease:["in","out","in-out"],font:[ow],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Da],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Da],shadow:[Da],spacing:["px",be],text:[Da],"text-shadow":[Da],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ds,F,ee,O]}],container:["container"],columns:[{columns:[be,F,ee,y]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:le()}],overflow:[{overflow:se()}],"overflow-x":[{"overflow-x":se()}],"overflow-y":[{"overflow-y":se()}],overscroll:[{overscroll:te()}],"overscroll-x":[{"overscroll-x":te()}],"overscroll-y":[{"overscroll-y":te()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:J()}],"inset-x":[{"inset-x":J()}],"inset-y":[{"inset-y":J()}],start:[{start:J()}],end:[{end:J()}],top:[{top:J()}],right:[{right:J()}],bottom:[{bottom:J()}],left:[{left:J()}],visibility:["visible","invisible","collapse"],z:[{z:[un,"auto",ee,F]}],basis:[{basis:[Ds,"full","auto",y,...Z()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[be,Ds,"auto","initial","none",F]}],grow:[{grow:["",be,ee,F]}],shrink:[{shrink:["",be,ee,F]}],order:[{order:[un,"first","last","none",ee,F]}],"grid-cols":[{"grid-cols":Re()}],"col-start-end":[{col:Ke()}],"col-start":[{"col-start":Ce()}],"col-end":[{"col-end":Ce()}],"grid-rows":[{"grid-rows":Re()}],"row-start-end":[{row:Ke()}],"row-start":[{"row-start":Ce()}],"row-end":[{"row-end":Ce()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":lt()}],"auto-rows":[{"auto-rows":lt()}],gap:[{gap:Z()}],"gap-x":[{"gap-x":Z()}],"gap-y":[{"gap-y":Z()}],"justify-content":[{justify:[...Ie(),"normal"]}],"justify-items":[{"justify-items":[...Le(),"normal"]}],"justify-self":[{"justify-self":["auto",...Le()]}],"align-content":[{content:["normal",...Ie()]}],"align-items":[{items:[...Le(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Le(),{baseline:["","last"]}]}],"place-content":[{"place-content":Ie()}],"place-items":[{"place-items":[...Le(),"baseline"]}],"place-self":[{"place-self":["auto",...Le()]}],p:[{p:Z()}],px:[{px:Z()}],py:[{py:Z()}],ps:[{ps:Z()}],pe:[{pe:Z()}],pt:[{pt:Z()}],pr:[{pr:Z()}],pb:[{pb:Z()}],pl:[{pl:Z()}],m:[{m:M()}],mx:[{mx:M()}],my:[{my:M()}],ms:[{ms:M()}],me:[{me:M()}],mt:[{mt:M()}],mr:[{mr:M()}],mb:[{mb:M()}],ml:[{ml:M()}],"space-x":[{"space-x":Z()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":Z()}],"space-y-reverse":["space-y-reverse"],size:[{size:K()}],w:[{w:[y,"screen",...K()]}],"min-w":[{"min-w":[y,"screen","none",...K()]}],"max-w":[{"max-w":[y,"screen","none","prose",{screen:[f]},...K()]}],h:[{h:["screen","lh",...K()]}],"min-h":[{"min-h":["screen","lh","none",...K()]}],"max-h":[{"max-h":["screen","lh",...K()]}],"font-size":[{text:["base",i,Br,Un]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[l,ee,ou]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",lu,F]}],"font-family":[{font:[dw,F,n]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[d,ee,F]}],"line-clamp":[{"line-clamp":[be,"none",ee,ou]}],leading:[{leading:[h,...Z()]}],"list-image":[{"list-image":["none",ee,F]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ee,F]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:G()}],"text-color":[{text:G()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...de(),"wavy"]}],"text-decoration-thickness":[{decoration:[be,"from-font","auto",ee,Un]}],"text-decoration-color":[{decoration:G()}],"underline-offset":[{"underline-offset":[be,"auto",ee,F]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ee,F]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ee,F]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Ee()}],"bg-repeat":[{bg:Ae()}],"bg-size":[{bg:T()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},un,ee,F],radial:["",ee,F],conic:[un,ee,F]},fw,uw]}],"bg-color":[{bg:G()}],"gradient-from-pos":[{from:L()}],"gradient-via-pos":[{via:L()}],"gradient-to-pos":[{to:L()}],"gradient-from":[{from:G()}],"gradient-via":[{via:G()}],"gradient-to":[{to:G()}],rounded:[{rounded:V()}],"rounded-s":[{"rounded-s":V()}],"rounded-e":[{"rounded-e":V()}],"rounded-t":[{"rounded-t":V()}],"rounded-r":[{"rounded-r":V()}],"rounded-b":[{"rounded-b":V()}],"rounded-l":[{"rounded-l":V()}],"rounded-ss":[{"rounded-ss":V()}],"rounded-se":[{"rounded-se":V()}],"rounded-ee":[{"rounded-ee":V()}],"rounded-es":[{"rounded-es":V()}],"rounded-tl":[{"rounded-tl":V()}],"rounded-tr":[{"rounded-tr":V()}],"rounded-br":[{"rounded-br":V()}],"rounded-bl":[{"rounded-bl":V()}],"border-w":[{border:I()}],"border-w-x":[{"border-x":I()}],"border-w-y":[{"border-y":I()}],"border-w-s":[{"border-s":I()}],"border-w-e":[{"border-e":I()}],"border-w-t":[{"border-t":I()}],"border-w-r":[{"border-r":I()}],"border-w-b":[{"border-b":I()}],"border-w-l":[{"border-l":I()}],"divide-x":[{"divide-x":I()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":I()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...de(),"hidden","none"]}],"divide-style":[{divide:[...de(),"hidden","none"]}],"border-color":[{border:G()}],"border-color-x":[{"border-x":G()}],"border-color-y":[{"border-y":G()}],"border-color-s":[{"border-s":G()}],"border-color-e":[{"border-e":G()}],"border-color-t":[{"border-t":G()}],"border-color-r":[{"border-r":G()}],"border-color-b":[{"border-b":G()}],"border-color-l":[{"border-l":G()}],"divide-color":[{divide:G()}],"outline-style":[{outline:[...de(),"none","hidden"]}],"outline-offset":[{"outline-offset":[be,ee,F]}],"outline-w":[{outline:["",be,Br,Un]}],"outline-color":[{outline:G()}],shadow:[{shadow:["","none",v,bl,yl]}],"shadow-color":[{shadow:G()}],"inset-shadow":[{"inset-shadow":["none",_,bl,yl]}],"inset-shadow-color":[{"inset-shadow":G()}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:G()}],"ring-offset-w":[{"ring-offset":[be,Un]}],"ring-offset-color":[{"ring-offset":G()}],"inset-ring-w":[{"inset-ring":I()}],"inset-ring-color":[{"inset-ring":G()}],"text-shadow":[{"text-shadow":["none",x,bl,yl]}],"text-shadow-color":[{"text-shadow":G()}],opacity:[{opacity:[be,ee,F]}],"mix-blend":[{"mix-blend":[...ye(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ye()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[be]}],"mask-image-linear-from-pos":[{"mask-linear-from":ue()}],"mask-image-linear-to-pos":[{"mask-linear-to":ue()}],"mask-image-linear-from-color":[{"mask-linear-from":G()}],"mask-image-linear-to-color":[{"mask-linear-to":G()}],"mask-image-t-from-pos":[{"mask-t-from":ue()}],"mask-image-t-to-pos":[{"mask-t-to":ue()}],"mask-image-t-from-color":[{"mask-t-from":G()}],"mask-image-t-to-color":[{"mask-t-to":G()}],"mask-image-r-from-pos":[{"mask-r-from":ue()}],"mask-image-r-to-pos":[{"mask-r-to":ue()}],"mask-image-r-from-color":[{"mask-r-from":G()}],"mask-image-r-to-color":[{"mask-r-to":G()}],"mask-image-b-from-pos":[{"mask-b-from":ue()}],"mask-image-b-to-pos":[{"mask-b-to":ue()}],"mask-image-b-from-color":[{"mask-b-from":G()}],"mask-image-b-to-color":[{"mask-b-to":G()}],"mask-image-l-from-pos":[{"mask-l-from":ue()}],"mask-image-l-to-pos":[{"mask-l-to":ue()}],"mask-image-l-from-color":[{"mask-l-from":G()}],"mask-image-l-to-color":[{"mask-l-to":G()}],"mask-image-x-from-pos":[{"mask-x-from":ue()}],"mask-image-x-to-pos":[{"mask-x-to":ue()}],"mask-image-x-from-color":[{"mask-x-from":G()}],"mask-image-x-to-color":[{"mask-x-to":G()}],"mask-image-y-from-pos":[{"mask-y-from":ue()}],"mask-image-y-to-pos":[{"mask-y-to":ue()}],"mask-image-y-from-color":[{"mask-y-from":G()}],"mask-image-y-to-color":[{"mask-y-to":G()}],"mask-image-radial":[{"mask-radial":[ee,F]}],"mask-image-radial-from-pos":[{"mask-radial-from":ue()}],"mask-image-radial-to-pos":[{"mask-radial-to":ue()}],"mask-image-radial-from-color":[{"mask-radial-from":G()}],"mask-image-radial-to-color":[{"mask-radial-to":G()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":Q()}],"mask-image-conic-pos":[{"mask-conic":[be]}],"mask-image-conic-from-pos":[{"mask-conic-from":ue()}],"mask-image-conic-to-pos":[{"mask-conic-to":ue()}],"mask-image-conic-from-color":[{"mask-conic-from":G()}],"mask-image-conic-to-color":[{"mask-conic-to":G()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Ee()}],"mask-repeat":[{mask:Ae()}],"mask-size":[{mask:T()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ee,F]}],filter:[{filter:["","none",ee,F]}],blur:[{blur:ft()}],brightness:[{brightness:[be,ee,F]}],contrast:[{contrast:[be,ee,F]}],"drop-shadow":[{"drop-shadow":["","none",w,bl,yl]}],"drop-shadow-color":[{"drop-shadow":G()}],grayscale:[{grayscale:["",be,ee,F]}],"hue-rotate":[{"hue-rotate":[be,ee,F]}],invert:[{invert:["",be,ee,F]}],saturate:[{saturate:[be,ee,F]}],sepia:[{sepia:["",be,ee,F]}],"backdrop-filter":[{"backdrop-filter":["","none",ee,F]}],"backdrop-blur":[{"backdrop-blur":ft()}],"backdrop-brightness":[{"backdrop-brightness":[be,ee,F]}],"backdrop-contrast":[{"backdrop-contrast":[be,ee,F]}],"backdrop-grayscale":[{"backdrop-grayscale":["",be,ee,F]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[be,ee,F]}],"backdrop-invert":[{"backdrop-invert":["",be,ee,F]}],"backdrop-opacity":[{"backdrop-opacity":[be,ee,F]}],"backdrop-saturate":[{"backdrop-saturate":[be,ee,F]}],"backdrop-sepia":[{"backdrop-sepia":["",be,ee,F]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":Z()}],"border-spacing-x":[{"border-spacing-x":Z()}],"border-spacing-y":[{"border-spacing-y":Z()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ee,F]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[be,"initial",ee,F]}],ease:[{ease:["linear","initial",B,ee,F]}],delay:[{delay:[be,ee,F]}],animate:[{animate:["none",q,ee,F]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[N,ee,F]}],"perspective-origin":[{"perspective-origin":le()}],rotate:[{rotate:He()}],"rotate-x":[{"rotate-x":He()}],"rotate-y":[{"rotate-y":He()}],"rotate-z":[{"rotate-z":He()}],scale:[{scale:ca()}],"scale-x":[{"scale-x":ca()}],"scale-y":[{"scale-y":ca()}],"scale-z":[{"scale-z":ca()}],"scale-3d":["scale-3d"],skew:[{skew:Ua()}],"skew-x":[{"skew-x":Ua()}],"skew-y":[{"skew-y":Ua()}],transform:[{transform:[ee,F,"","none","gpu","cpu"]}],"transform-origin":[{origin:le()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ba()}],"translate-x":[{"translate-x":Ba()}],"translate-y":[{"translate-y":Ba()}],"translate-z":[{"translate-z":Ba()}],"translate-none":["translate-none"],accent:[{accent:G()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:G()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ee,F]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Z()}],"scroll-mx":[{"scroll-mx":Z()}],"scroll-my":[{"scroll-my":Z()}],"scroll-ms":[{"scroll-ms":Z()}],"scroll-me":[{"scroll-me":Z()}],"scroll-mt":[{"scroll-mt":Z()}],"scroll-mr":[{"scroll-mr":Z()}],"scroll-mb":[{"scroll-mb":Z()}],"scroll-ml":[{"scroll-ml":Z()}],"scroll-p":[{"scroll-p":Z()}],"scroll-px":[{"scroll-px":Z()}],"scroll-py":[{"scroll-py":Z()}],"scroll-ps":[{"scroll-ps":Z()}],"scroll-pe":[{"scroll-pe":Z()}],"scroll-pt":[{"scroll-pt":Z()}],"scroll-pr":[{"scroll-pr":Z()}],"scroll-pb":[{"scroll-pb":Z()}],"scroll-pl":[{"scroll-pl":Z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ee,F]}],fill:[{fill:["none",...G()]}],"stroke-w":[{stroke:[be,Br,Un,ou]}],stroke:[{stroke:["none",...G()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},yw=Xx(gw);function X(...s){return yw(Rx(s))}function ug(){const s="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let n="";for(let i=0;i<4;i++)n+=s.charAt(Math.floor(Math.random()*s.length));return n}function bw(){return new URLSearchParams(window.location.search).get("room")}function vw(s){const n=new URL(window.location);n.searchParams.set("room",s),window.history.pushState({},"",n)}const xw=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ww=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,i,l)=>l?l.toUpperCase():i.toLowerCase()),xp=s=>{const n=ww(s);return n.charAt(0).toUpperCase()+n.slice(1)},dg=(...s)=>s.filter((n,i,l)=>!!n&&n.trim()!==""&&l.indexOf(n)===i).join(" ").trim(),Sw=s=>{for(const n in s)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};var _w={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const jw=P.forwardRef(({color:s="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:d="",children:h,iconNode:f,...y},g)=>P.createElement("svg",{ref:g,..._w,width:n,height:n,stroke:s,strokeWidth:l?Number(i)*24/Number(n):i,className:dg("lucide",d),...!h&&!Sw(y)&&{"aria-hidden":"true"},...y},[...f.map(([p,v])=>P.createElement(p,v)),...Array.isArray(h)?h:[h]]));const Me=(s,n)=>{const i=P.forwardRef(({className:l,...d},h)=>P.createElement(jw,{ref:h,iconNode:n,className:dg(`lucide-${xw(xp(s))}`,`lucide-${s}`,l),...d}));return i.displayName=xp(s),i};const Tw=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Nw=Me("arrow-right",Tw);const Ew=[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],wp=Me("book-marked",Ew);const kw=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Sp=Me("book-open",kw);const Rw=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Aw=Me("check",Rw);const Cw=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ow=Me("chevron-down",Cw);const Dw=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Mw=Me("chevron-right",Dw);const zw=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],hg=Me("circle-check-big",zw);const Uw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Bw=Me("circle-plus",Uw);const Lw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],$w=Me("circle-question-mark",Lw);const Hw=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Gw=Me("clock",Hw);const qw=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Vw=Me("copy",qw);const Yw=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 12h.01",key:"czm47f"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Kw=Me("dice-6",Yw);const Pw=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Iw=Me("grip-vertical",Pw);const Jw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Qw=Me("info",Jw);const Xw=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],_p=Me("map-pin",Xw);const Zw=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Ww=Me("map",Zw);const Fw=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],eS=Me("maximize-2",Fw);const tS=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],aS=Me("minimize-2",tS);const nS=[["path",{d:"M5 12h14",key:"1ays0h"}]],sS=Me("minus",nS);const rS=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],fg=Me("play",rS);const iS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Cu=Me("plus",iS);const lS=[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],oS=Me("scroll",lS);const cS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],jp=Me("search",cS);const uS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],_u=Me("target",uS);const dS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],mg=Me("trash-2",dS);const hS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Jr=Me("triangle-alert",hS);const fS=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],mS=Me("trophy",fS);const pS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ou=Me("x",pS);const gS=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Tp=Me("zap",gS);function je({children:s,variant:n="primary",className:i,onClick:l,disabled:d,...h}){const f="px-3 sm:px-4 py-2 font-orbitron font-bold uppercase text-xs sm:text-sm border-3 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed active:scale-[0.98] active:shadow-inner leading-tight",y={primary:"bg-accent-cyan text-bg-primary border-accent-cyan hover:bg-transparent hover:text-accent-cyan hover:shadow-[0_0_15px_rgba(0,240,255,0.6)]",secondary:"bg-accent-yellow text-bg-primary border-accent-yellow hover:bg-transparent hover:text-accent-yellow hover:shadow-[0_0_15px_rgba(255,252,0,0.6)]",danger:"bg-accent-red text-bg-primary border-accent-red hover:bg-transparent hover:text-accent-red hover:shadow-[0_0_15px_rgba(255,0,60,0.6)]",ghost:"bg-transparent text-accent-cyan border-accent-cyan hover:bg-accent-cyan hover:text-bg-primary hover:shadow-[0_0_15px_rgba(0,240,255,0.6)]"};return c.jsx("button",{className:X(f,y[n],i),onClick:l,disabled:d,...h,children:s})}var pg=Op();function yS({isOpen:s,onClose:n}){const[i,l]=P.useState(null);P.useEffect(()=>{const f=y=>{s&&y.key==="Escape"&&n()};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[s,n]);const d=[{id:1,title:"Create Character(s)",subtitle:"Campaign Start Only",icon:fg,color:"cyan",description:"Use the rules in the Star Borg Rebel Handbook to create your character.",actions:[{label:"Character Creation",tab:"creation"},{label:"Roll Species",specific:"species"},{label:"Roll Motivation",specific:"motivation"}]},{id:2,title:"Roll Campaign Goal",subtitle:"Campaign Start Only",icon:_u,color:"yellow",description:"Roll on the Epic and Damn Fool Idealistic Crusade Tables to determine your Rebel's main goal to save the galaxy.",actions:[{label:"Generate Epic Title",specific:"epicTitle"},{label:"Generate Villain",specific:"villain"}]},{id:3,title:"Current Mission",subtitle:"Session Play",icon:oS,color:"cyan",description:"Roll on the Episode and Mission Tables to determine your Rebel's current mission.",actions:[{label:"Generate Episode Title",specific:"episodeTitle"},{label:"Generate Mission",specific:"mission"}]},{id:4,title:"Set Threat & Tracks",subtitle:"Session Play",icon:Gw,color:"red",description:"Set the Threat Die to 1 and take note of any Mission Tracks and Danger Clocks.",actions:[{label:"Reset Threat Die",specific:"threatDie"},{label:"Add Mission Track",specific:"missionTrack"},{label:"Add Danger Clock",specific:"dangerClock"}]},{id:5,title:"Opening Scene",subtitle:"Session Play",icon:Tp,color:"yellow",description:"Roll on the Opening Scene table to determine how the action begins.",actions:[{label:"Roll Opening Scene",specific:"openingScene"},{label:"Generate Scene",specific:"scene"}]},{id:6,title:"Use Solo Tools",subtitle:"Session Play",icon:Kw,color:"cyan",description:"Use the Solo Tools, tables, oracles, and your imagination to generate locations, obstacles, characters, and see where your adventure leads.",actions:[{label:"Ask Oracle",specific:"askOracle"},{label:"Generate NPC",specific:"npc"},{label:"Generate Planet",specific:"planet"}]},{id:7,title:"Resolve Actions",subtitle:"Session Play",icon:_u,color:"red",description:"Use the Star Borg Core and Solo rules to resolve your Rebel's actions, adjusting the Threat Die accordingly and take note of the consequences.",actions:[{label:"Roll Dice",specific:"dice"},{label:"Crit/Blunder Table",specific:"critBlunder"}]},{id:8,title:"Continue Scene",subtitle:"Session Play",icon:Tp,color:"yellow",description:"Roll a Scene Shakeup, Event, or reference the Boost Oracle to continue the scene.",actions:[{label:"Scene Shakeup",specific:"shakeup"},{label:"Event Oracle",specific:"event"},{label:"Boost Oracle",specific:"boost"}]},{id:9,title:"Record & Check Progress",subtitle:"Session Play",icon:hg,color:"cyan",description:"When a scene's action is completely resolved, record the pertinent details and check for progress on the Mission Tracks and Danger Clocks.",actions:[{label:"Update Journal",specific:"journal"},{label:"Check Tracks",specific:"tracks"}]},{id:10,title:"Prepare Next Scene",subtitle:"Session Play",icon:Ww,color:"yellow",description:"Prepare the next scene by rolling on the Scene or Event Oracle Tables.",actions:[{label:"Generate Scene",specific:"scene"},{label:"Event Oracle",specific:"event"}]}],h=f=>{l(i===f?null:f)};return pg.createPortal(c.jsxs(c.Fragment,{children:[c.jsx("div",{className:X("fixed inset-0 bg-black transition-opacity duration-300",s?"opacity-70 pointer-events-auto z-[9998]":"opacity-0 pointer-events-none z-[-1]"),onClick:n,style:{position:"fixed",top:0,left:0,right:0,bottom:0}}),c.jsxs("div",{className:X("fixed w-full md:w-[480px] bg-bg-primary border-r-3 border-accent-cyan transform transition-transform duration-300 ease-in-out scanlines overflow-hidden flex flex-col",s?"translate-x-0 z-[9999]":"-translate-x-full z-[-1]"),style:{position:"fixed",top:0,left:0,height:"100vh",maxHeight:"100vh"},children:[c.jsxs("div",{className:"border-b-3 border-accent-cyan bg-bg-secondary p-4 flex items-center justify-between shrink-0",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-accent-cyan font-orbitron font-bold text-xl uppercase text-glow-cyan",children:"Game Flow Guide"}),c.jsx("p",{className:"text-gray-400 text-xs font-orbitron mt-1",children:"Solo Play Procedure"})]}),c.jsx("button",{onClick:n,className:"text-accent-red hover:text-accent-red hover:bg-accent-red hover:bg-opacity-20 p-2 transition-colors border-2 border-accent-red",children:c.jsx(Ou,{className:"w-6 h-6"})})]}),c.jsxs("div",{className:"overflow-y-auto flex-1 p-4",children:[c.jsxs("div",{className:"mb-6",children:[c.jsxs("div",{className:"text-accent-yellow font-orbitron text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:[c.jsx("div",{className:"h-px flex-1 bg-accent-yellow opacity-30"}),c.jsx("span",{children:"Campaign Start"}),c.jsx("div",{className:"h-px flex-1 bg-accent-yellow opacity-30"})]}),d.slice(0,2).map(f=>c.jsx(Np,{step:f,isExpanded:i===f.id,onToggle:()=>h(f.id)},f.id))]}),c.jsxs("div",{children:[c.jsxs("div",{className:"text-accent-cyan font-orbitron text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:[c.jsx("div",{className:"h-px flex-1 bg-accent-cyan opacity-30"}),c.jsx("span",{children:"Session Play (Steps 3-10)"}),c.jsx("div",{className:"h-px flex-1 bg-accent-cyan opacity-30"})]}),d.slice(2).map(f=>c.jsx(Np,{step:f,isExpanded:i===f.id,onToggle:()=>h(f.id)},f.id))]}),c.jsxs("div",{className:"mt-6 p-4 border-2 border-accent-yellow bg-bg-secondary",children:[c.jsx("div",{className:"text-accent-yellow font-orbitron text-xs uppercase mb-2",children:"Pro Tip"}),c.jsx("p",{className:"text-gray-300 text-sm",children:"Use the Quick Action buttons at the top of the Oracle Compendium for fast access to the most common rolls during play."})]})]})]})]}),document.body)}function Np({step:s,isExpanded:n,onToggle:i}){s.icon;const d={cyan:{border:"border-accent-cyan",text:"text-accent-cyan",bg:"bg-accent-cyan",glow:"glow-cyan"},yellow:{border:"border-accent-yellow",text:"text-accent-yellow",bg:"bg-accent-yellow",glow:"glow-yellow"},red:{border:"border-accent-red",text:"text-accent-red",bg:"bg-accent-red",glow:"glow-red"}}[s.color];return c.jsxs("div",{className:X("border-2 mb-3 bg-bg-secondary transition-all",d.border,n&&d.glow),children:[c.jsxs("button",{onClick:i,className:X("w-full p-3 flex items-center justify-between hover:bg-opacity-10 transition-all duration-200 active:scale-[0.99]",`hover:${d.bg}`),children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:X("w-8 h-8 rounded-full flex items-center justify-center border-2",d.border,d.bg,"bg-opacity-20"),children:c.jsx("span",{className:X("font-orbitron font-bold text-sm",d.text),children:s.id})}),c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:X("font-orbitron font-bold text-sm uppercase",d.text),children:s.title}),c.jsx("div",{className:"text-gray-400 text-xs font-orbitron",children:s.subtitle})]})]}),c.jsx(Mw,{className:X("w-5 h-5 transition-all duration-300",d.text,n&&"rotate-90")})]}),n&&c.jsxs("div",{className:X("border-t-2 p-4 space-y-3 accordion-reveal overflow-hidden",d.border),children:[c.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:s.description}),s.actions&&s.actions.length>0&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-xs font-orbitron uppercase text-gray-400 mb-2",children:"Quick Actions:"}),c.jsx("div",{className:"grid grid-cols-1 gap-2",children:s.actions.map((h,f)=>c.jsx("button",{onClick:()=>{console.log("Quick action:",h.specific||h.tab)},className:X("px-3 py-2 text-xs font-orbitron uppercase border-2 transition-all text-left",d.border,d.text,"hover:bg-opacity-20",`hover:${d.bg}`),children:h.label},f))}),c.jsx("p",{className:"text-gray-500 text-xs mt-2 italic",children:"Note: Actions log to console. Full navigation integration coming soon."})]})]})]})}function bS({isOpen:s,onClose:n}){return P.useEffect(()=>{const i=l=>{s&&l.key==="Escape"&&n()};return window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)},[s,n]),pg.createPortal(c.jsxs(c.Fragment,{children:[c.jsx("div",{className:X("fixed inset-0 bg-black transition-opacity duration-300",s?"opacity-70 pointer-events-auto z-[9998]":"opacity-0 pointer-events-none z-[-1]"),onClick:n,style:{position:"fixed",top:0,left:0,right:0,bottom:0}}),c.jsxs("div",{className:X("fixed w-full md:w-[480px] bg-bg-primary border-r-3 border-accent-yellow transform transition-transform duration-300 ease-in-out scanlines overflow-hidden flex flex-col",s?"translate-x-0 z-[9999]":"-translate-x-full z-[-1]"),style:{position:"fixed",top:0,left:0,height:"100vh",maxHeight:"100vh"},children:[c.jsxs("div",{className:"border-b-3 border-accent-yellow bg-bg-secondary p-4 flex items-center justify-between shrink-0",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-accent-yellow font-orbitron font-bold text-xl uppercase text-glow-yellow",children:"Quick Reference"}),c.jsx("p",{className:"text-gray-400 text-xs font-orbitron mt-1",children:"Essential Rules & Mechanics"})]}),c.jsx("button",{onClick:n,className:"text-accent-red hover:text-accent-red hover:bg-accent-red hover:bg-opacity-20 p-2 transition-colors border-2 border-accent-red",children:c.jsx(Ou,{className:"w-6 h-6"})})]}),c.jsxs("div",{className:"overflow-y-auto flex-1 p-4 space-y-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-orbitron font-bold text-accent-cyan uppercase mb-2 text-xs",children:"Difficulty Ratings"}),c.jsxs("div",{className:"grid grid-cols-2 gap-1 text-xs",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-400",children:"Routine:"}),c.jsx("span",{className:"text-text-primary font-mono",children:"DR 8"})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-400",children:"Easy:"}),c.jsx("span",{className:"text-text-primary font-mono",children:"DR 10"})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-400",children:"Normal:"}),c.jsx("span",{className:"text-text-primary font-mono font-bold",children:"DR 12"})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-400",children:"Difficult:"}),c.jsx("span",{className:"text-text-primary font-mono",children:"DR 14"})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-400",children:"Complicated:"}),c.jsx("span",{className:"text-text-primary font-mono",children:"DR 16"})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-400",children:"Impossible:"}),c.jsx("span",{className:"text-text-primary font-mono",children:"DR 18"})]})]})]}),c.jsxs("div",{className:"border-t border-accent-yellow/30 pt-3",children:[c.jsx("h3",{className:"font-orbitron font-bold text-accent-cyan uppercase mb-2 text-xs",children:"Solo Test Results (D20 + Ability)"}),c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-accent-cyan font-mono font-bold",children:"12+"}),c.jsxs("div",{children:[c.jsx("span",{className:"font-bold text-accent-cyan",children:"STRONG HIT:"}),c.jsx("span",{className:"text-gray-300 ml-1",children:"Things go exactly as planned."})]})]}),c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-accent-yellow font-mono font-bold",children:"9-11"}),c.jsxs("div",{children:[c.jsx("span",{className:"font-bold text-accent-yellow",children:"WEAK HIT:"}),c.jsx("span",{className:"text-gray-300 ml-1",children:"Good, but not completely as planned."})]})]}),c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-accent-red font-mono font-bold",children:"8<"}),c.jsxs("div",{children:[c.jsx("span",{className:"font-bold text-accent-red",children:"FAIL:"}),c.jsx("span",{className:"text-gray-300 ml-1",children:"Things are not going your way."})]})]})]})]}),c.jsxs("div",{className:"border-t border-accent-yellow/30 pt-3",children:[c.jsx("h3",{className:"font-orbitron font-bold text-accent-cyan uppercase mb-2 text-xs",children:"Combat Tests (DR12 Default)"}),c.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-xs",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-400",children:"Melee:"}),c.jsx("span",{className:"text-text-primary font-mono",children:"STR"})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-400",children:"Ranged:"}),c.jsx("span",{className:"text-text-primary font-mono",children:"PRS"})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-400",children:"Throw:"}),c.jsx("span",{className:"text-text-primary font-mono",children:"AGI"})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-400",children:"Defense:"}),c.jsx("span",{className:"text-text-primary font-mono",children:"AGI"})]})]})]}),c.jsxs("div",{className:"border-t border-accent-yellow/30 pt-3",children:[c.jsx("h3",{className:"font-orbitron font-bold text-accent-cyan uppercase mb-2 text-xs",children:"Armor Tiers"}),c.jsxs("div",{className:"space-y-1 text-xs",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-400",children:"Tier 1 (Light):"}),c.jsx("span",{className:"text-text-primary font-mono",children:"-D2 damage"})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-400",children:"Tier 2 (Medium):"}),c.jsx("span",{className:"text-text-primary font-mono",children:"-D4 damage"})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-400",children:"Tier 3 (Heavy):"}),c.jsx("span",{className:"text-text-primary font-mono",children:"-D6 damage"})]}),c.jsx("div",{className:"text-gray-500 text-xs mt-1",children:"* Reduced one tier on Defense blunder"})]})]}),c.jsxs("div",{className:"border-t border-accent-yellow/30 pt-3",children:[c.jsx("h3",{className:"font-orbitron font-bold text-accent-cyan uppercase mb-2 text-xs",children:"Resting & Recovery"}),c.jsxs("div",{className:"space-y-1 text-xs",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-400",children:"Catch Breath:"}),c.jsx("span",{className:"text-text-primary font-mono",children:"Restore D4 HP"})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-400",children:"Night's Sleep:"}),c.jsx("span",{className:"text-text-primary font-mono",children:"Restore D6 HP"})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-400",children:"Healing Tank (1 week):"}),c.jsx("span",{className:"text-text-primary font-mono",children:"Full HP"})]})]})]}),c.jsxs("div",{className:"border-t border-accent-yellow/30 pt-3",children:[c.jsx("h3",{className:"font-orbitron font-bold text-accent-cyan uppercase mb-2 text-xs",children:"Natural 20 / Natural 1"}),c.jsxs("div",{className:"space-y-2 text-xs",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-bold text-accent-cyan",children:"CRIT (20):"}),c.jsxs("div",{className:"text-gray-300 ml-4",children:[" Attack: Double damage, reduce armor 1 tier",c.jsx("br",{})," Defense: Gain free attack",c.jsx("br",{})," Other: Outrageous success"]})]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-bold text-accent-red",children:"BLUNDER (1):"}),c.jsx("div",{className:"text-gray-300 ml-4",children:" Roll on Blunder table (d4)"})]})]})]}),c.jsxs("div",{className:"border-t border-accent-yellow/30 pt-3",children:[c.jsx("h3",{className:"font-orbitron font-bold text-accent-cyan uppercase mb-2 text-xs",children:"Enemy Morale"}),c.jsxs("div",{className:"text-xs space-y-1",children:[c.jsx("p",{className:"text-gray-300",children:"Roll 2D6 when:"}),c.jsxs("div",{className:"text-gray-400 ml-4",children:[" Leader killed",c.jsx("br",{})," Half group eliminated",c.jsx("br",{})," Single enemy at 1/3 HP"]}),c.jsxs("p",{className:"text-gray-300 mt-2",children:["If roll > enemy MRL: Roll D6",c.jsx("br",{}),c.jsx("span",{className:"ml-4",children:"1-4 = Flees, 5-6 = Surrenders"})]})]})]}),c.jsxs("div",{className:"border-t border-accent-yellow/30 pt-3",children:[c.jsx("h3",{className:"font-orbitron font-bold text-accent-cyan uppercase mb-2 text-xs",children:"Threat Die Triggers"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-accent-red font-bold",children:"INCREASE:"}),c.jsxs("div",{className:"text-gray-400 ml-2 mt-1",children:[" New Danger Clock",c.jsx("br",{})," Roll Blunder",c.jsx("br",{})," Begin Escape"]})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-accent-cyan font-bold",children:"DECREASE:"}),c.jsxs("div",{className:"text-gray-400 ml-2 mt-1",children:[" Complete Mission",c.jsx("br",{})," Resolve Clock",c.jsx("br",{})," Roll Critical",c.jsx("br",{})," Catch Breath"]})]})]}),c.jsx("p",{className:"text-gray-400 text-xs mt-2",children:"When TD = 6: Advance ALL Clocks +1, OR fill ONE Clock"})]})]})]})]}),document.body)}function vS({roomCode:s}){const[n,i]=P.useState(!1),[l,d]=P.useState(!1),[h,f]=P.useState(!1),y=()=>{const p=`${window.location.origin}${window.location.pathname}?room=${s}`;navigator.clipboard.writeText(p),i(!0),setTimeout(()=>i(!1),2e3)},g=()=>{const p=ug(),v=`${window.location.origin}${window.location.pathname}?room=${p}`;window.location.href=v};return c.jsxs(c.Fragment,{children:[c.jsx("header",{className:"border-b-3 border-accent-yellow bg-bg-secondary p-3 md:p-4 border-flicker",children:c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"font-orbitron font-black text-2xl md:text-4xl text-accent-yellow text-glow-yellow tracking-wider",children:"STAR DASHBORG"}),c.jsx("p",{className:"text-accent-cyan text-xs md:text-sm font-orbitron",children:"REBEL MISSION DASHBOARD"})]}),c.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[c.jsxs(je,{variant:"primary",onClick:()=>d(!0),className:"flex items-center gap-2",children:[c.jsx(Sp,{className:"w-4 h-4"}),"Game Flow"]}),c.jsxs(je,{variant:"secondary",onClick:()=>f(!0),className:"flex items-center gap-2",children:[c.jsx(wp,{className:"w-4 h-4"}),"Quick Ref"]})]})]}),c.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-xs text-gray-400 font-orbitron uppercase",children:"Room Code"}),c.jsx("p",{className:"text-lg md:text-2xl font-orbitron font-bold text-accent-cyan text-glow-cyan",children:s})]}),c.jsxs("div",{className:"flex gap-1 md:gap-2",children:[c.jsxs(je,{variant:"secondary",onClick:g,className:"flex items-center gap-1 md:gap-2 px-2 md:px-4",children:[c.jsx(Cu,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden sm:inline",children:"New Room"})]}),c.jsx(je,{variant:"ghost",onClick:y,className:"flex items-center gap-1 md:gap-2 px-2 md:px-4",children:n?c.jsxs(c.Fragment,{children:[c.jsx(Aw,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden sm:inline",children:"Copied!"})]}):c.jsxs(c.Fragment,{children:[c.jsx(Vw,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden sm:inline",children:"Copy Invite"})]})})]})]}),c.jsxs("div",{className:"md:hidden w-full grid grid-cols-2 gap-2",children:[c.jsxs(je,{variant:"primary",onClick:()=>d(!0),className:"flex items-center justify-center gap-2",children:[c.jsx(Sp,{className:"w-4 h-4"}),"Game Flow"]}),c.jsxs(je,{variant:"secondary",onClick:()=>f(!0),className:"flex items-center justify-center gap-2",children:[c.jsx(wp,{className:"w-4 h-4"}),"Quick Ref"]})]})]})}),c.jsx(yS,{isOpen:l,onClose:()=>d(!1)}),c.jsx(bS,{isOpen:h,onClose:()=>f(!1)})]})}function xS({title:s,children:n,className:i,variant:l="cyan",defaultCollapsed:d=!1,maxHeightExpanded:h,minHeightExpanded:f,onHelpClick:y}){const[g,p]=P.useState(d),v={cyan:"border-accent-cyan",yellow:"border-accent-yellow",red:"border-accent-red"},_={cyan:"text-accent-cyan",yellow:"text-accent-yellow",red:"text-accent-red"};return c.jsxs("div",{className:X("border-3 flex flex-col relative transition-all duration-300",v[l],g?"bg-transparent":"bg-bg-secondary",g?"overflow-visible":"overflow-hidden flex-1",i),children:[s&&c.jsxs("div",{className:X("px-4 py-2 font-orbitron font-bold uppercase text-lg shrink-0 flex items-center justify-between h-[52px]",_[l],"bg-bg-primary","overflow-hidden",!g&&`border-b-3 ${v[l]}`),children:[c.jsx("span",{className:"break-words flex-1",children:s}),c.jsxs("div",{className:"flex items-center gap-1",children:[y&&c.jsx("button",{onClick:x=>{x.stopPropagation(),y()},className:X("p-1 hover:bg-current/10 transition-all duration-200 rounded",_[l]),"aria-label":"Show help",children:c.jsx($w,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>p(!g),className:X("p-1 hover:bg-current/10 transition-all duration-200 rounded",_[l]),"aria-label":g?"Expand panel":"Collapse panel",children:g?c.jsx(eS,{className:"w-4 h-4"}):c.jsx(aS,{className:"w-4 h-4"})})]})]}),!g&&c.jsx("div",{className:X("p-4 flex-1 overflow-auto accordion-reveal relative",h,f),children:n})]})}function wS(){const{gameState:s,updateGameState:n,addLog:i}=ht(),[l,d]=P.useState(!1),h=()=>{if(l)return;d(!0);const y=s.threatDie===6?1:s.threatDie+1;n({threatDie:y}),i(`Threat Die set to ${y}`,"threat"),setTimeout(()=>d(!1),400)},f=s.threatDie===6;return c.jsxs("div",{className:"flex flex-col items-center gap-4",children:[c.jsx("button",{onClick:h,className:`w-32 h-32 bg-accent-red text-bg-primary font-orbitron font-black text-6xl border-3 border-accent-red hover:bg-transparent hover:text-accent-red transition-all glow-red hover:shadow-[0_0_20px_rgba(255,0,60,0.8)] active:scale-95 ${l?"threat-cycle glow-pulse-red":""} ${f?"glow-pulse-red":""}`,children:c.jsx("span",{className:l?"number-flip inline-block":"inline-block",children:s.threatDie})}),c.jsx("p",{className:"text-accent-red text-sm font-orbitron uppercase",children:"Click to Cycle"}),f&&c.jsxs("div",{className:"w-full border-3 border-accent-red bg-accent-red/10 p-4 inline-alert-pulse",children:[c.jsxs("div",{className:"flex items-start gap-3 mb-2",children:[c.jsx(Jr,{className:"w-5 h-5 text-accent-red flex-shrink-0 mt-0.5"}),c.jsx("h4",{className:"font-orbitron font-bold text-accent-red uppercase text-sm",children:"Maximum Threat"})]}),c.jsx("p",{className:"text-text-primary text-sm mb-2 pl-8",children:"Choose one:"}),c.jsxs("ul",{className:"space-y-1 pl-8",children:[c.jsxs("li",{className:"text-text-primary text-sm flex items-start gap-2",children:[c.jsx("span",{className:"text-accent-red",children:""}),c.jsx("span",{children:"Advance ALL Danger Clocks by 1"})]}),c.jsxs("li",{className:"text-text-primary text-sm flex items-start gap-2",children:[c.jsx("span",{className:"text-accent-red",children:""}),c.jsx("span",{children:"Completely fill ONE Danger Clock"})]})]})]})]})}const Ze={affirmation:{1:{result:"Extreme No",detail:"As bad as it can be",size:"Miniscule / One",weather:"Electric Storm",npcReaction:"Immediately Attack"},"2-3":{result:"No",detail:"It's Gnarly",size:"Small / Pair",weather:"Ice Storm",npcReaction:"Hostile"},"4-5":{result:"No",detail:"Oof, What Now",size:"Handful (d4+1)",weather:"Blowing Dust",npcReaction:"Threatening"},"6-7":{result:"No",detail:"Could Use a Hand",size:"Several (d6+1)",weather:"Heavy Rain",npcReaction:"Wary"},"8-9":{result:"No, but",detail:"Average",size:"Several (d6+1)",weather:"Drizzling",npcReaction:"Curious"},"10-11":{result:"Random Event",detail:"Average",size:"Several (d6+2)",weather:"Foggy",npcReaction:"Indifferent"},"12-13":{result:"Yes, but",detail:"Average",size:"Several (d6+2)",weather:"Overcast",npcReaction:"Indifferent"},"14-15":{result:"Yes",detail:"I've Seen Better",size:"Several (d6+3)",weather:"A Bit Warm",npcReaction:"Helpful"},"16-17":{result:"Yes",detail:"I've Got This",size:"Patrol (d10+5)",weather:"Sunny",npcReaction:"Helpful"},"18-19":{result:"Yes",detail:"The Good Stuff",size:"Unit (d20+10)",weather:"Comfortable",npcReaction:"Generous"},20:{result:"Extreme Yes",detail:"Top Shelf",size:"Gigantic / Too Many",weather:"Chilly",npcReaction:"Willing to Betray"}},openingScene:["You've been poisoned with a timer-release toxin (d6 days).","A new character pleads for help hiding from a Bounty Hunter.","An important piece of your tech was just broken.","You are in a scrape at a cantina.","You are being chased by a Bounty Hunter.","An electrical storm has knocked out communications.","A bomb has gone off in the nearby spaceport.","Rebels have assaulted an official and are cornered in a plaza.","You've been stopped at a Galactic Legion checkpoint.","A scrap trader offers to sell you a rusty old bot and box of parts.","A patrol is knocking on doors demanding information on rebels.","A ship was just shot down nearby.","Word that a connection to the PC has been captured.","Word that the Galactic Legion has destroyed PC's homeworld.","A major storm has halted all travel.","An NPC has betrayed you, the Galactic Legion is on the way.","A festival and hov-zoom racing event.","Broke down vehicle hails you for an emergency lift.","Galactic Legion forces have just arrived in the area.","You're being held by a group of gangsters."],sceneShakeup:["Rival appears.","Ambush.","Something in the environment changes.","Someone gets hurt.","You discover a beneficial opportunity.","New NPC appears.","Resource you had is lost.","You discover a beneficial object.","New Event takes place.","All Danger Clocks advance."],critBlunder:{crit:["You gain useful information.","You gain a minor item or resource.","You gain a tactical advantage.","You double the intended effect."],blunder:["Something thought true now appears false.","You break or lose gear or a resource.","More enemies or obstacles appear.","The intended effect harms you or an ally."]},eventOracle:[{roll:1,verb:"Abandon",subject:"Battle",description:"Foul",activity:"Fighting",omen:"Shadow"},{roll:2,verb:"Acquire",subject:"Enemy",description:"Dark",activity:"Seeking",omen:"Sound"},{roll:3,verb:"Seek",subject:"Path",description:"Modified",activity:"Hunting",omen:"Odor"},{roll:4,verb:"Betray",subject:"Balance",description:"Corrupt",activity:"Learning",omen:"Tracks"},{roll:5,verb:"Return",subject:"Peace",description:"Blocked",activity:"Stealing",omen:"Blood"},{roll:6,verb:"Destroy",subject:"Law",description:"Hidden",activity:"Repairing",omen:"Scorching"},{roll:7,verb:"Plot",subject:"Leader",description:"Refined",activity:"Dying",omen:"Debris"},{roll:8,verb:"Move",subject:"Device",description:"Mystical",activity:"Killing",omen:"Wreckage"},{roll:9,verb:"Begin",subject:"Secret",description:"Strange",activity:"Negotiating",omen:"Disconnected"},{roll:10,verb:"Pursue",subject:"Knowledge",description:"Protected",activity:"Planning",omen:"Voices"},{roll:11,verb:"Control",subject:"Fellowship",description:"Feeble",activity:"Lying",omen:"Message"},{roll:12,verb:"Breach",subject:"Structure",description:"Harsh",activity:"Guiding",omen:"Sparks"},{roll:13,verb:"Guard",subject:"Corruption",description:"Worn",activity:"Demanding",omen:"Footsteps"},{roll:14,verb:"Deliver",subject:"Faction",description:"New",activity:"Examining",omen:"Scratches"},{roll:15,verb:"Oppress",subject:"Weapon",description:"Complex",activity:"Gambling",omen:"Body"},{roll:16,verb:"Hunt",subject:"Ally",description:"Rare",activity:"Hiding",omen:"Damage"},{roll:17,verb:"Secure",subject:"Debt",description:"Broken",activity:"Performing",omen:"Slime"},{roll:18,verb:"Inspect",subject:"Community",description:"Ancient",activity:"Conspiring",omen:"Temperature"},{roll:19,verb:"Protect",subject:"Supply",description:"Grimy",activity:"Escorting",omen:"Blocked"},{roll:20,verb:"Explore",subject:"Vow",description:"Graceful",activity:"Disabling",omen:"Illness"}],eventSpecific:["PC Positive","PC Negative","Far Away Event","Relating to current Mission","NPC Positive","NPC Negative"]},We={villain:["Crime Lord","Space Monstrosity","Galactic Legion","Legionary Grand Admiral","Dragoon","Lord Commander Vortex"],villainGoal:["Destroy","Enrich","Control","Chaos","Justice","Return"],villainPlan:["Recruit","Poison","Overrun","Silence","Subterfuge","Catastrophe"],villainMeans:["Mercenaries","Beasts","Troops","Technology","Super Weapon","Ancient Magi Arts"],missionType:["Deliver","Rescue","Steal","Destroy","Locate","Negotiate"],missionGoods:["Weapons","Leader","Plans","Base","Magi","Bits"],missionSpot:["Crime Lord","Space Ship","Space Pirates","Remote Planet","Bounty Hunter","Base"],missionReward:["Ally","Bits","Key","Weapon","Item","Tactical Advantage"],quickMission:["Locate","Steal","Rescue","Protect","Sabotage","Destroy"],quickTarget:["Valuable contraband / Bounty Hunter target","Prototype Tech / Captured prince","Blackmail / Small but formidable creature","Powerful relic / Crime Lord confidant","Forbidden knowledge / Legionary high-up","Legionary Super Weapon / Bot with secret plans"],scenarios:[{title:"The Planet Gun",desc:"Legion using super hyperdrive to smash planets together. Drop antiparticle bomb in core to destroy."},{title:"Bot-Mind Overlord",desc:"Colossal bot mind reprogramming billions. Install data tape countermind to wipe memory banks."},{title:"The Antispace Circuit",desc:"Pirate warstation disabling hyperdrives. Activate thrusters to misalign circuit and destroy field."},{title:"The Doomsday Engine",desc:"Floating mega-factory disassembling planets. Kill Lord Commander Vortex on throne to tear machine apart."},{title:"The Magi Harvester",desc:"Extracting Magi powers for Immortals. Demolish ancient necropolis foundation to collapse facility."},{title:"The Pangalactic Teleporter",desc:"Instant troop travel via pulsar station. Sabotage super-solar collectors to malfunction permanently."}]},ge={sceneLocation:["Wilderness","Wilderness","Settlement","Settlement","Space Ship","Base"],sceneTone:["Too quiet","Lively","On alert","Secretive","Dangerous","Cryptic"],sceneObstacle:["Wildlife / Alien Beast","Guards / Security","Terrain / Weather","Lock / Barrier / Trap","NPC","Villain"],urgentObstacles:["Fire spreading towards fuel/people (D2+1 rounds).","Tremors/Unstable footing, chasm opening (D2+1 rounds).","Flooding with toxic gas/insects/sewage (D2+1 rounds).","Turret calibrating / Monster waking / Machine approaching (D2+1 rounds).","Evidence of battle discovered soon, area on high alert in 20 mins.","Public execution / Prison barge departing / Weapon firing (4 rounds)."],generalMishaps:[{roll:1,title:"LURKING MONSTER",desc:"The trash chute leads to a swampy dump with an enormous alien beast that eats trash AND people."},{roll:2,title:"AMBUSH",desc:"There's a Bounty Hunter with a Net Launcher waiting by the back exit."},{roll:3,title:"INCLEMENT WEATHER",desc:"Escaping outside leads into dangerous lightning storms (landslides, low atmosphere, acid floods). Maybe it was better to stay inside?"},{roll:4,title:"STINK BOMB",desc:"The explosion used for a distraction erupts in a cloud of choking poison. It spreads quickly, leaving anyone who breathes it in agonising pain (sick, paralyzed, hypnotic visions)."},{roll:5,title:"TRACKING DEVICE",desc:"When the Rebels finally get to rest, they realize they've been tagged with a tracking beacon. A deadly Murder Bot is on its way."},{roll:6,title:"A MYSTERY UNFOLDS",desc:"Rumors have led the Rebels this far, but the only way to discover the truth is to go deeper inside, where even greater dangers lurk."}],spaceObstacles:["Debris field of destroyed ships/warheads.","Asteroid field infested with Space Worms.","Stellar nursery with explosive gas.","Comet Tail with freezing fog.","Space Lane Traffic Jam.","Freak Ion Pulse disabled ships."],hyperspaceMishaps:["Timespace Rift (Your future ship needs help).","Uncharted Hypermagnetic Storm.","Magi Temple Ship (Near black hole).","Hyperspace Femtosharks.","Protocol Bot Corsairs (Polite robbery).","Rebel Distress Signal (Trap)."],planetTerrain:["Mountainous/Wasteland","Swampy/Canyonlands","Fungal/Desert","Forested/Oceanic","Barren/Hilly","Volcanic/Crystalline"],planetWeather:["Frozen","Rain","Arid","Windy","Static Storms","Pleasant"],planetColor:["Blue","Green","Yellow","Brown","Red","White"],planetPopulation:["Hundreds","Hundreds","Thousands","Thousands","Millions","Outpost/Abandoned"],planetControl:["Local Gov","Rebels","Pirates","Crime Lord","Galactic Legion","Galactic Legion"],settlementAppearance:["Colorful tents","Mobile huts","Circular buildings on stilts","Container towers","Underground bunkers","Dusty low buildings","Floating villas","Stone ziggurat","Stacked modular highrises","Legion-constructed prefabs"],settlementKnownFor:["Rebels","Trade","Information","Carousing","Transports","Mining","Prison","Trade","Racing","Legion"],settlementCurrentState:["Noisy / Chaotic","Dangerous / Curfew","Quiet / Industrious","Political Upheaval","Preparing for threat","Suspicious locals","Fertile / Productive","Wild / Overgrown","Sleepy / Docile","Seized by Legion"],settlementComplication:["Electrical storms","Flood / Quake","Creatures","Crime","Science","Illness","Dark omen","Raiders","Factional warfare","Revolt"],settlementLeader:["Crime Lord","Galactic Legion","Elected Leader","Two separate Gangsters","Exiled Smuggler","Space Pirates"],settlementLandmark:["Neon obelisk","Crashed ship","Dark grey prison building","Large fountain plaza","Tall communications tower","Hill with glass roof"],settlementRumors:["Map","Gear","Secret information","Combat","Hacking","Uprising"],settlementHookups:["Transfer of Bits","Stolen information","Disguised Magi","Weapons cache","Transport","Huge refining factory"],planetFeatures:["Desert of dead sea salt, bleached coral, boneyards.","Pits of gurgling mud and geysers.","Bottomless misty canyons with petrified trees.","Lakes of bioluminescent scum beneath sunless sky.","Choking black dust storms, electro lanterns needed.","Industrial sludge waves, red lightning clouds.","Creeping vines/tropical trees reclaiming megacity.","Craters of scorched glass, fulgurite pillars.","Partially constructed ring station on asteroids.","Revelers lounging in hallucinogenic fungal colonies."],backwaters:["High atmosphere gas mining operations.","Spice-dust farmstead with malfunctioning bots.","Space ice quarry carving comet blocks.","Pre-terraforming fertilizer crew.","Bot graveyard (Grand Galactic Backup).","Slime rigs on moon-sized protoplasm."],backalleys:["Flickering hologram signs in factory smog.","Snow/sleet from refrigeration unit.","Iridescent oil pools under solar dome.","Scaly hides drying in sweltering air.","Tethered dynamo towers sapping aurora energy.","Razorleaf vines taking over hovels."],hiddenFeatures:["Downtrodden locals ready to rise up!","Secret network of local Rebels.","Old friend working on the inside.","Vault full of bits.","Concealed weak point.","Secret back entrance.","Readily available stimpacks.","The Rebels' map doesn't match location.","Rigged to explode.","IT'S A TRAP!"],locationDangers:["Swarming with Legionary Foot Soldiers.","Team of Bounty Hunters.","Security cameras everywhere.","Space Pirates using Rebels as distraction.","Hungry wildlife.","Impenetrable force fields.","Guarded by laser turrets.","Patrolling security bots.","Caged Space Monstrosity.","Bottomless pit."]},vl={features:[{roll:1,ship:"Plain",base:"Dormitory",obstacle:"Bot",search:"Junk"},{roll:2,ship:"Barracks",base:"Holding",obstacle:"Alarm",search:"Scrap (Tradeable to right client)"},{roll:3,ship:"Pod Bay",base:"Storage",obstacle:"Enemy",search:"Bot Parts"},{roll:4,ship:"Workshop",base:"Fighting Pit",obstacle:"Enemy",search:"Goods (Worth Bits on Black Market)"},{roll:5,ship:"Comms",base:"Parts",obstacle:"Enemy",search:"Eye / Headwear"},{roll:6,ship:"Medical",base:"Trash",obstacle:"Missile",search:"Clothing"},{roll:7,ship:"Hangar",base:"Mess",obstacle:"Debris",search:"Datapad"},{roll:8,ship:"Trash",base:"Torture",obstacle:"Trap",search:"Stimpack"},{roll:9,ship:"Scrap",base:"Cage",obstacle:"Lost",search:"Repair Toolkit"},{roll:10,ship:"Mess",base:"Armory",obstacle:"Monster",search:"Bits"},{roll:11,ship:"Life Support",base:"Laboratory",obstacle:"Barrier",search:"Power Pack / Battery"},{roll:12,ship:"Interrogation",base:"Cantina",obstacle:"Shaft",search:"Melee Weapon"},{roll:13,ship:"Prison Cells",base:"Lounge",obstacle:"Environment",search:"Ranged Weapon"},{roll:14,ship:"Mission Deck",base:"Gambling",obstacle:"Device",search:"Thrown Weapon"},{roll:15,ship:"Officer Quarters",base:"Storage",obstacle:"Ambush",search:"Random Gear"},{roll:16,ship:"Armory",base:"Vault",obstacle:"Crushing",search:"Armor"},{roll:17,ship:"Science",base:"Quarters",obstacle:"Distraction",search:"Legionary Equipment"},{roll:18,ship:"Cargo",base:"Hover-Port",obstacle:"Surveillance",search:"Special Item"},{roll:19,ship:"Bridge",base:"Generator",obstacle:"Resources",search:"Keycard"},{roll:20,ship:"Power",base:"Comms",obstacle:"Gas",search:"Ally"}]},dt={travelTheme:["Hostility","Trade","Tracking","Smuggling","Battle","Assistance","Wreck","Science","Religion","Weather"],travelActor:["Legionary Troopers","Caravan","Bounty Hunter","Gangsters","Crime Lord","Survivors","Space Pirates","Refugees","Alien Beast","Monstrosity"],npcRoles:["Soldier","Bounty Hunter","Smuggler","Commoner","Youth","Magi","Guard","Criminal","Pilot","Bot","Gangster","Mercenary","Clone","Trader","Mechanic","Politician","Hacker","Gambler","Leader","Healer"],npcSpecies:["Baseline Human","Woolly Anthrosquatch","Fish-eyed Ichthyoid","Scaley Lacertian","Flatheaded Tricladid","Runtish Zinto","Sucker-lipped Anuran","Flightless Macrobat","Lithe Pseudopoid","Little Ursanid","Ocular Picaroo","Flammari Siren","Ratling Ambau","Avian Caldecta","Horned Thernee","Cerebral Roothan","Bantam Clookoo","Waifish Nilata","Green Mardonalians","Pale Vril-ya"],npcMotivations:["Revenge","Truth","Belonging","Adventure","Favor","Mentor","Discipline","Chaos","Reputation","Connection","Wealth","Rebellion","Power","Discovery","Redemption","Peace","War","Death","Love","Justice"],npcSecrets:["Killed someone powerful","Owns valuable data pad","Noble birth","Wealthy","Has mystical pull","Desires power","Will betray","Has bunker of stolen goods","Never been in battle","Holding valuable info","Wants to be someone else","Wanted fugitive","Stolen identity","Lost family in conflict","Deserter","Wants war","Collects scandalous info","Massive debt","Is a Clone","More powerful than lets on"],npcTraits:["Tattoo on face","Ragged clothes","Visible scar","Drunkard","Well-dressed","Missing eye","Tall","Missing hand","Big hair","Charming voice","Bristly beard","Gaunt","Covered hand","Rotten teeth","Mechanical leg","Facial birthmark","Pierced chin","Sideburns","Glasses","Beaded beard"],npcDemeanor:["Stoic","Harsh","Jovial","Menacing","Thoughtful","Warm","Hostile","Chatty","Greedy","Humorous","Merciful","Terse","Needy","Mopey","Ambitious","Aggressive","Polite","Lazy","Anxious","Kind"],rebelContacts:["Gwarark (Grumpy Anthrosquatch)","TN-60 (Talkative Bot)","Boomer (Sly Roothan)","Selene (Guilty Avian)","Tuz Rix (Experienced Ichthyoid)","Bamro (Radical Ursanid)"],weirdoAliens:["Ylat Dara (Conniving Anuran)","Erden Rainsinger (Enthusiastic Mardonalian)","Kodo Shif (Suave Thernee)","Corde Nenu (Bored Flammari)","Tillie Winai (Curious Pseudopoid)","Gorts (Grunting Lacertian)","Shoom (Aloof Macrobat)","Cataru (Keen Zinto)","HD-3N (Dull Bot)","Valin Pax (Reclusive Magi)"],reactions:["Hostile","Betray","Angered","Cautious","Indifferent","Curious","Friendly","Helpful"]},gt={baselineFirst:["Mason","Wren","Alex","Luca","Harper","Teagan","Ellis","Vick","Dylan","Jace"],botNames:["XT-64","RY-90","KT-37","Q-88","VV-42","ZZT-5E","L5R-02","NTH-16","ALT-F4","TM-006"],familyNames:["Parsec","Lighthour","Cotorn","Bastion","Outlander","Quasar","Voyager","Hadron","Fraction","Lysander"],shipNames:["Z / Wing","Midnight / Bolt","Crimson / Ray","Violet / Baroness","Boreal / Storm","Nova / Dragon","Shadow / Huntress","Light / Banshee","Fallen / Chimera","Centurion / Hawk"],planetNames:["Corinath","Mardestine","Poxor","Faergonh","Bal'poex","Hurs-V","Laerdwu","Muwh_13","Cirgo","Cordinnia","Gornath","Jagost","Xirnoth","Qul","Otr System","Rusgith Major","Sartun","Dornsu","Vilnix","Lormae 6"],settlementNames:["Ger / -atoom","Nabeck / -rikaant","Dablar / -ordest","Grim / -cite","Saar / -tex","Hyro / -avor","Popwa / -dorp","Urvok / Outpost","Vandirg / City","Tar / Station"],settlementNamePrefixes:["Ger","Nabeck","Dablar","Grim","Saar","Hyro","Popwa","Urvok","Vandirg","Tar"],settlementNameSuffixes:["-atoom","-rikaant","-ordest","-cite","-tex","-avor","-dorp","Outpost","City","Station"],legionaryNames:["Aelia / Albus","Caelia / Calvus","Decima / Domitius","Fabricia / Faustus","Galla / Gaius","Juliana / Jovian","Marcella / Maximus","Sabina / Scorpio","Tatiana / Tiberius","Vita / Virgil"],bountyHunterNames:["Harkin 'The Red'","Graven","Boris Deadlock","Ragna Nebula","Cassandra Syko","Sskob","Scotch Torga","H3-0"],crimeLordNames:["Andras 'the Duke'","Witch of Baa","Blood Prince Odaros","'Crusher' Vuul","Shax 'Kingpin of Krysar'","Dr. Raum","Brainy Zelez","Voynix 'the Bookie'","'Numbers'","Yurdra 'the Jeweler'"],pirateCrewNames:["Bloody Bots","Gnar Dogs","Rogue Gang","Lost Squad","Shiver Hellions","Dread Posse","Wicked Raiders","Skull Scoundrels","Deep Legends","Wild Pirates"]},hn={bobsWeapons:["Utility Knife (D4 damage)","Upcycled Staff (D4 damage)","Modified Shock Baton (D6, shoddy)","Pocket Blaster (D6, reload)","Old Service Blaster (D6 damage)","Busted Blaster Rifle (D8, bulky, shoddy)"],bobsGear:["Deck of Hologram Playing Cards","Binocular with Laser Microphone","Legionary Bot Head (answers one question, then explodes D8)","Space Helmet with 5 minutes of air","Counterfeit Bits","Collapsible Gravbike (shoddy)"],bobsArmor:["Tattered Robes over a Tunic","Scuffed Boots and Smudged Goggles","Patched-up Flight Suit","Bandoleer and Vest","Scarf and Leather Jacket (tier 1, -D2)","Scavenged Bot Plate Armor (tier 2, -D4)"],galacticSpecies:["Baseline Human","Woolly Anthrosquatch","Fish-eyed Ichthyoid","Scaley Lacertian","Flatheaded Tricladid","Runtish Zinto","Sucker-lipped Anuran","Flightless Macrobat","Lithe Pseudopoid","Little Ursanid"],rebelMotivations:["Destroy criminal record database.","Free long lost twin from prison.","Find cure for pet space lizard.","Solve cold case of what happened years ago.","Convince childhood friend to defect.","Revenge on elusive adversary.","Repay favor to Rebel General.","Prove you aren't a low-life.","Protect best pal on the mission.","Atonement: You caused this crisis."],nicks:["Hilt of Magi Blazer Sword (2D6 damage)","Polished breastplate with family crest (Tier 2, -D4)","Pair of blaster pistols and badge (2D4 damage)","Disintegrator rifle (D8, reload)","Coded research notes on Legion Superweapon","Signet ring of noble house"],knacks:["Burdogs Body (Roll highest stat when following orders)","Busker (Techno-harp distraction)","Bootshiner (Blend in)","Cutpurse (Sticky fingers)","Tinkerer (Understand bots)","Mucker (Search garbage)"],broken:[{roll:1,result:"Unconscious D4 rounds, awaken with D4 HP."},{roll:2,result:"Roll D6: 13 Broken Limb, 45 Severed Limb, 6 Lost Eye. Unconscious D4 rounds."},{roll:3,result:"Severe Injury! Death in 1 hour unless treated. All tests DR16/DR18."},{roll:4,result:"Dead! Roll a new Rebel."}]},dn={botFunctions:["Protocol (Translate/Bureaucracy)","Porter (Lifting/Hauling)","Supervisor (Tiny repair bot)","Computer Interface (Talk to systems)","Power (Walking battery)","Surveillance (Fly/Scan)"],botMalfunctions:["Exterminate (Attack randoms)","Warning Critical Error (Freeze)","Bugged Audio (Repeat words)","Archived Memories (Wrong function)","Trick Leg (Dislocate)","Screw Loose (No stealth)"],botMods:["Retractable Bone Saw","Smuggling Compartment","Comm Scrambler","Legion Cypher","Trash Compactor Torso","Self Destruct"],bountyHunterSkills:["Rough Rider (Ride anything)","Escape Artist (Slip bonds)","Deserter (Know Legion tactics)","Tracker (Find prey)","Bouncer (Unarmed combat)","Armorer (Start with Tier 3 Armor)"],bountyHunterSoftSpots:["Helpless little creatures.","Youthful whippersnappers.","Simple folk making ends meet.","Mistreated bots.","Elderly curmudgeons.","Wounded veterans."],magiArts:["Mind Muddle","Magi Hand","Blaster Deflect","Healing Touch"],smugglerTricks:["Ceramic Knife","Eyeball Blaster","Psychogun","Monofilament Garrote","Sonic Grenade","Vapor Tooth"],technicianScratchBuilds:["Hyperspace Transporter Pack","Zero Blaster","Gravity Disruptor","Cloaking Device","Machine Mind Dominator","Devastator Fist"]},SS={spaceJunk:["Scrapped Bot parts","Dim Fusion Lantern","Glitched Data Pad","Discarded Key Card","Flimsy Trip Mine","Shoddy Blaster D6","Broken Blazer Sword","Bits"]},Bn={beastAdaptations:["Stalker: Always attacks first.","Ferocious: Attacks twice per round (DR10 to hit).","Stinger: D6 damage + D2 next round.","Carapace: Armor tier 3 -D6.","Bile: Regurgitates acid puddles (D10).","Wings: DR14 to hit with melee attacks."],monstrosityAdaptations:["Calcified Shell: Can only target Weak Spot with Melee.","Gigantic: Double damage attacks, Rebels defend with Advantage.","Horrid: Rebels test PRS DR12 or skip first turn.","Bioelectric: Melee attackers take D6 damage.","Venomous: Target suffers D2 damage every turn until treated.","Jaws: Bite holds target (D6/turn), STR DR14 to escape."],weakSpots:["Glowing Eye","Pulsating Core","Soft Underbelly","Old Wound","Open Mouth","Missing Exoskeleton Plate"],monsterNames:{prefix:["Rukkadon","Wroat","Irragorr","Phyto","Vorpal","Xith","Kanth","Jadoon","Balo","Zodan"],suffix:["Beast","Kraken","Raptor","Worm","Dragon","Hound","Brute","Beak","Hog","Crawler"]}},cu={meleeWeapons:["Knife (D4)","Chain Whip (D4)","Slash Staff (D4)","Quakehammer (D6)","Taser Baton (D6)","Rivet Gun (D8, bulky)","Sonic Mining Drill (D8, bulky)","Battle Axe (D8, bulky)","Blazer Sword (2D6)"],rangedWeapons:["Hold-Out Blaster (D4)","Blaster Pistol (D6)","Blaster Rifle (D8, bulky)","Scatter Blaster (2D4, blast)","Bolt Caster (D10, bulky)","Rocket Launcher (D12, blast)"],gear:["Magnetic Boots","Grapple Hook","Repair Toolkit","Battery Lamp","Lockpicking Kit","Grav-Lock Manacles","Stimpack","Shortwave Communicator"]},Ep={personnel:[{name:"Minion",hp:"6-12",morale:"7",armor:"None",weapon:"Blaster D6",notes:"Rebels roll DR12 AGI to dodge."},{name:"Leader",hp:"12-24",morale:"10",armor:"Tier 2 (-D4)",weapon:"D8 or D10",notes:"Rebels roll DR14 AGI to dodge."},{name:"Legionary Foot Soldier",hp:"6 (Fodder)",morale:"6 (Squad 8)",armor:"Tier 1 (-D2)",weapon:"Blaster D6",notes:"Dies in 1 hit."},{name:"Legionary Officer",hp:"6",morale:"9",armor:"None",weapon:"Sidearm D6",notes:"Calls D4 backup."},{name:"War Bot",hp:"12",morale:"-",armor:"Tier 2 (-D4)",weapon:"Blaster D6",notes:"Ceaseless."},{name:"Dragoon (Elite)",hp:"40",morale:"10",armor:"Tier 2 (-D4)",weapon:"Blazer Sword 2D6",notes:"Magi Arts. DR14 to defend."},{name:"Space Pirate",hp:"8",morale:"7",armor:"None",weapon:"Blaster D6",notes:"Slippery."},{name:"Bounty Hunter (Elite)",hp:"14",morale:"10",armor:"Tier 2 (-D4)",weapon:"Pulse Rifle D6+1",notes:"Greedy."}],monsters:[{name:"Alien Beast",hp:"12",morale:"9",armor:"Tier 1 (-D2)",weapon:"Bite/Claw D8",notes:"Wilds."},{name:"Space Monstrosity",hp:"45",morale:"10",armor:"Carapace -D8",weapon:"Tusk/Talon D10",notes:"Weak Spot DR16."}]},Tt={theEpic:{col1:["The","The","The","A","A","Attack"],col2:["New","Rise","Fall","Last","Void","Prophecy"],col3:["Hope","Empire","Cosmic","Ascending","Shadow","Sword"],col4:["Prophet","War","Gambit","Star","Gods","Exile"]},theEpisode:{col1:["The","The","The","A","A","NPC Name"],col2:["Cage","Trap","Flight","Final","Doppelganger","Errand"],col3:["Dagger","Plot","Operation","Metamorphosis","Journey","Hidden"],col4:["Doom","Arena","Garden","Separation","Home","Sacrifice"]}},_S={boost:["Star / Compass / Direction","Skull / Death / Danger","Blaster / Attack / Conflict","Droid / Tech / AI","Atom / Science / Energy","Cloak / Hidden / Secret","Monster / Beast / Wild","Arrow / Up / Rise","Remote / Control / Signal","Mask / Deception / Persona","Planet / World / Environment","TIE Fighter / Enemy / Empire","Hand / Stop / Help","Spiral / Confusion / Hypnosis","Card / Chance / Gamble","Boot / Kick / Travel","Mushrooms / Nature / Growth","Trash / Container / Loot","Radar / Search / Scan","Saber / Weapon / Power"]},Ms={dastardlyWeapons:["Homing Missile (D6, DR14 to dodge)","Laser Eye Beams (D6, fire at any time)","Bits Blaster (D8, fires currency)","Repeating Bolt Caster (D10, bulky, no reload)"],lordlyVisages:["Bloated slug with stimulant gas tanks.","Enormous pulsating brain in a jar.","Bickering two-headed bot.","Colossal hologram (real body hidden).","Battle-scarred Legionary dragoon.","Slobbering chitinous queen in royal jelly."],criminalBases:["Souped-up spaceship orbiting a blackhole.","Floating palace in gas giant tempest.","Grand penthouse on throne world.","Decommissioned military fortress.","Submersible arena on swamp world.","Sewage nexus station beneath starport."]};function Y(s){return Math.floor(Math.random()*s)+1}function ma(s){return!s||s.length===0?"Table not found or empty":s[Math.floor(Math.random()*s.length)]}function uu(){const s=Y(20);if(s===1)return{roll:s,...Ze.affirmation[1]};if(s>=2&&s<=3)return{roll:s,...Ze.affirmation["2-3"]};if(s>=4&&s<=5)return{roll:s,...Ze.affirmation["4-5"]};if(s>=6&&s<=7)return{roll:s,...Ze.affirmation["6-7"]};if(s>=8&&s<=9)return{roll:s,...Ze.affirmation["8-9"]};if(s>=10&&s<=11)return{roll:s,...Ze.affirmation["10-11"]};if(s>=12&&s<=13)return{roll:s,...Ze.affirmation["12-13"]};if(s>=14&&s<=15)return{roll:s,...Ze.affirmation["14-15"]};if(s>=16&&s<=17)return{roll:s,...Ze.affirmation["16-17"]};if(s>=18&&s<=19)return{roll:s,...Ze.affirmation["18-19"]};if(s===20)return{roll:s,...Ze.affirmation[20]}}function jS(){const s=Y(20),n=Y(20),i=Y(20),l=Y(20),d=Y(20),h=Y(6);return{roll:s,verbRoll:s,subjectRoll:n,descRoll:i,activityRoll:l,omenRoll:d,specificRoll:h,verb:Ze.eventOracle[s-1].verb,subject:Ze.eventOracle[n-1].subject,description:Ze.eventOracle[i-1].description,activity:Ze.eventOracle[l-1].activity,omen:Ze.eventOracle[d-1].omen,specific:Ze.eventSpecific[h-1]}}function TS(s=1){const n=Y(20),i=n+s,l=i>=15;let d=null;if(l){const h=Y(20),f=h+s,y=Math.min(f-1,Ze.sceneShakeup.length-1);d={d20:h,roll:f,result:Ze.sceneShakeup[y]}}return{checkRoll:n,threatDie:s,total:i,success:l,shakeup:d}}function NS(){const s=Y(We.missionType.length),n=Y(We.missionGoods.length),i=Y(We.missionSpot.length),l=Y(We.missionReward.length);return{typeRoll:s,goodsRoll:n,spotRoll:i,rewardRoll:l,type:We.missionType[s-1],goods:We.missionGoods[n-1],spot:We.missionSpot[i-1],reward:We.missionReward[l-1]}}function ES(){const s=Y(We.quickMission.length),n=Y(We.quickTarget.length);return{actionRoll:s,targetRoll:n,action:We.quickMission[s-1],target:We.quickTarget[n-1]}}function kS(){const s=Y(We.villain.length),n=Y(We.villainGoal.length),i=Y(We.villainPlan.length),l=Y(We.villainMeans.length);return{villainRoll:s,goalRoll:n,planRoll:i,meansRoll:l,villain:We.villain[s-1],goal:We.villainGoal[n-1],plan:We.villainPlan[i-1],means:We.villainMeans[l-1]}}function RS(){const s=Y(dt.npcRoles.length),n=Y(dt.npcSpecies.length),i=Y(dt.npcMotivations.length),l=Y(dt.npcSecrets.length),d=Y(dt.npcTraits.length),h=Y(dt.npcDemeanor.length);return{roleRoll:s,speciesRoll:n,motivationRoll:i,secretRoll:l,traitRoll:d,demeanorRoll:h,role:dt.npcRoles[s-1],species:dt.npcSpecies[n-1],motivation:dt.npcMotivations[i-1],secret:dt.npcSecrets[l-1],trait:dt.npcTraits[d-1],demeanor:dt.npcDemeanor[h-1]}}function AS(){const s=Y(ge.planetTerrain.length),n=Y(ge.planetWeather.length),i=Y(ge.planetColor.length),l=Y(ge.planetPopulation.length),d=Y(ge.planetControl.length),h=Y(gt.planetNames.length);return{terrainRoll:s,weatherRoll:n,colorRoll:i,populationRoll:l,controlRoll:d,nameRoll:h,terrain:ge.planetTerrain[s-1],weather:ge.planetWeather[n-1],color:ge.planetColor[i-1],population:ge.planetPopulation[l-1],control:ge.planetControl[d-1],name:gt.planetNames[h-1]}}function CS(){const s=Y(ge.settlementAppearance.length),n=Y(ge.settlementKnownFor.length),i=Y(ge.settlementCurrentState.length),l=Y(ge.settlementComplication.length),d=Y(ge.settlementLeader.length),h=Y(ge.settlementLandmark.length),f=Y(ge.settlementRumors.length),y=Y(ge.settlementHookups.length),g=Y(gt.settlementNamePrefixes.length),p=Y(gt.settlementNameSuffixes.length),v=gt.settlementNamePrefixes[g-1],_=gt.settlementNameSuffixes[p-1],x=`${v}${_}`;return{appearanceRoll:s,knownForRoll:n,currentStateRoll:i,complicationRoll:l,leaderRoll:d,landmarkRoll:h,rumorsRoll:f,hookupsRoll:y,namePrefixRoll:g,nameSuffixRoll:p,appearance:ge.settlementAppearance[s-1],knownFor:ge.settlementKnownFor[n-1],currentState:ge.settlementCurrentState[i-1],complication:ge.settlementComplication[l-1],leader:ge.settlementLeader[d-1],landmark:ge.settlementLandmark[h-1],rumors:ge.settlementRumors[f-1],hookups:ge.settlementHookups[y-1],name:x}}function OS(){const s=Y(ge.sceneLocation.length),n=Y(ge.sceneTone.length),i=Y(ge.sceneObstacle.length);return{locationRoll:s,toneRoll:n,obstacleRoll:i,location:ge.sceneLocation[s-1],tone:ge.sceneTone[n-1],obstacle:ge.sceneObstacle[i-1]}}function DS(s=1){const n=Y(20),i=n+s,l=i>=12;let d=null;if(l){const h=Y(dt.travelTheme.length),f=Y(dt.travelActor.length);d={themeRoll:h,actorRoll:f,theme:dt.travelTheme[h-1],actor:dt.travelActor[f-1]}}return{checkRoll:n,threatDie:s,total:i,success:l,encounter:d}}function xl(s=1){const n=Y(20),i=Y(20),l=Y(20),d=Y(20),h=Y(20),f=h+s,y=f>=12;return{shipRoll:n,baseRoll:i,obstacleRoll:l,searchRoll:d,threatRoll:h,threatTotal:f,threatDie:s,obstacleTriggered:y,ship:vl.features[n-1].ship,base:vl.features[i-1].base,obstacle:vl.features[l-1].obstacle,search:vl.features[d-1].search}}function MS(){const s=Y(6),n=Y(6),i=Y(6),l=Y(Bn.monsterNames.prefix.length),d=Y(Bn.monsterNames.suffix.length);return{beastRoll:s,monstrosityRoll:n,weakSpotRoll:i,namePrefixRoll:l,nameSuffixRoll:d,beast:Bn.beastAdaptations[s-1],monstrosity:Bn.monstrosityAdaptations[n-1],weakSpot:Bn.weakSpots[i-1],name:`${Bn.monsterNames.prefix[l-1]} ${Bn.monsterNames.suffix[d-1]}`}}function zS(){const s=Y(Tt.theEpic.col1.length),n=Y(Tt.theEpic.col2.length),i=Y(Tt.theEpic.col3.length),l=Y(Tt.theEpic.col4.length);return{col1Roll:s,col2Roll:n,col3Roll:i,col4Roll:l,col1:Tt.theEpic.col1[s-1],col2:Tt.theEpic.col2[n-1],col3:Tt.theEpic.col3[i-1],col4:Tt.theEpic.col4[l-1]}}function US(){const s=Y(Tt.theEpisode.col1.length),n=Y(Tt.theEpisode.col2.length),i=Y(Tt.theEpisode.col3.length),l=Y(Tt.theEpisode.col4.length);return{col1Roll:s,col2Roll:n,col3Roll:i,col4Roll:l,col1:Tt.theEpisode.col1[s-1],col2:Tt.theEpisode.col2[n-1],col3:Tt.theEpisode.col3[i-1],col4:Tt.theEpisode.col4[l-1]}}function BS(){const s=Y(gt.crimeLordNames.length),n=Y(Ms.lordlyVisages.length),i=Y(Ms.dastardlyWeapons.length),l=Y(Ms.criminalBases.length);return{nameRoll:s,visageRoll:n,weaponRoll:i,baseRoll:l,name:gt.crimeLordNames[s-1],visage:Ms.lordlyVisages[n-1],weapon:Ms.dastardlyWeapons[i-1],base:Ms.criminalBases[l-1]}}function LS(){const{gameState:s,updateGameState:n,addLog:i}=ht(),[l,d]=P.useState(""),[h,f]=P.useState(6),[y,g]=P.useState(!1),p=()=>{if(!l.trim()){g(!0),setTimeout(()=>g(!1),400);return}const w={id:Date.now().toString(),title:l,length:h,progress:0};n({missions:[...s.missions,w]}),i(`New mission added: ${l}`,"mission"),d("")},v=(w,A)=>{const N=s.missions.find(B=>B.id===w),O=s.missions.map(B=>B.id===w?{...B,progress:A}:B);n({missions:O}),A===N.length&&i(`Mission completed: ${N.title}`,"success")},_=w=>{const A=s.missions.find(N=>N.id===w);n({missions:s.missions.filter(N=>N.id!==w)}),i(`Mission removed: ${A.title}`,"info")},x=w=>{const A=s.missions.find(Q=>Q.id===w);if(!A)return;const O={4:10,6:12,8:14,10:16}[A.length]||12,B=Y(20),q=B+A.progress;if(q>=O)i(`Mission completion [${B}] + [${A.progress}] = ${q} vs DR${O}  SUCCESS! "${A.title}" completed!`,"success"),n({missions:s.missions.filter(Q=>Q.id!==w)});else{i(`Mission completion [${B}] + [${A.progress}] = ${q} vs DR${O}  FAIL. Remove 1 progress, increase Threat Die.`,"danger");const Q=s.missions.map(le=>le.id===w?{...le,progress:Math.max(0,le.progress-1)}:le);n({missions:Q})}};return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("input",{type:"text",placeholder:"Enter mission objective...",value:l,onChange:w=>d(w.target.value),onKeyPress:w=>w.key==="Enter"&&p(),className:`w-full px-3 py-2 bg-bg-primary border-2 border-accent-cyan text-text-primary focus:outline-none focus:border-accent-yellow focus:shadow-[0_0_15px_rgba(255,252,0,0.4)] transition-all duration-300 font-orbitron ${y?"input-shake border-accent-red":""}`}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("select",{value:h,onChange:w=>f(Number(w.target.value)),className:"flex-1 px-3 py-2 bg-bg-primary border-2 border-accent-cyan text-text-primary focus:outline-none focus:border-accent-yellow focus:shadow-[0_0_15px_rgba(255,252,0,0.4)] transition-all duration-300 font-orbitron [&>option]:bg-bg-secondary [&>option]:text-text-primary",children:[c.jsx("option",{value:4,className:"bg-bg-secondary text-text-primary",children:"Short / Easy (DR10)"}),c.jsx("option",{value:6,className:"bg-bg-secondary text-text-primary",children:"Average / Normal (DR12)"}),c.jsx("option",{value:8,className:"bg-bg-secondary text-text-primary",children:"Long / Difficult (DR14)"}),c.jsx("option",{value:10,className:"bg-bg-secondary text-text-primary",children:"Galaxy Saving (DR16)"})]}),c.jsxs(je,{onClick:p,variant:"primary",className:"flex items-center gap-2",children:[c.jsx(Cu,{className:"w-4 h-4"}),"Add"]})]})]}),c.jsx("div",{className:"space-y-3",children:s.missions.length===0?c.jsxs("div",{className:"text-center py-8 space-y-2",children:[c.jsx("div",{className:"text-accent-cyan/30 text-4xl mb-2",children:""}),c.jsx("p",{className:"text-gray-500 font-orbitron text-sm",children:"NO ACTIVE MISSIONS"}),c.jsx("p",{className:"text-gray-600 text-xs",children:"Add a mission to track your progress"})]}):s.missions.map(w=>c.jsxs("div",{className:"bg-bg-primary p-3 border-2 border-accent-cyan",children:[c.jsxs("div",{className:"flex items-start justify-between mb-2",children:[c.jsx("h4",{className:"font-orbitron font-bold text-accent-cyan",children:w.title}),c.jsx("button",{onClick:()=>_(w.id),className:"text-accent-red hover:text-red-400",children:c.jsx(mg,{className:"w-4 h-4"})})]}),c.jsx("div",{className:"flex gap-1",children:Array.from({length:w.length}).map((A,N)=>c.jsx("button",{onClick:()=>v(w.id,N+1),className:`flex-1 h-6 border-2 transition-all duration-200 ${N<w.progress?"bg-accent-cyan border-accent-cyan segment-fill":"bg-transparent border-accent-cyan hover:bg-accent-cyan hover:bg-opacity-30 hover:scale-105"} ${N===w.progress-1?"ripple":""} ${w.progress===w.length&&N===w.length-1?"completion-bounce":""}`},N))}),c.jsxs("div",{className:"mt-2 flex items-center justify-between text-xs",children:[c.jsxs("span",{className:"text-gray-400 font-orbitron",children:["Progress: ",w.progress," | DR",w.length===4?"10":w.length===6?"12":w.length===8?"14":"16"]}),c.jsxs("button",{onClick:()=>x(w.id),className:"px-2 py-1 bg-transparent border-2 border-accent-yellow text-accent-yellow hover:bg-accent-yellow hover:text-bg-primary transition-all font-orbitron font-bold uppercase text-xs flex items-center gap-1",children:[c.jsx(_u,{className:"w-3 h-3"}),"Attempt"]})]})]},w.id))})]})}function $S(){const{gameState:s,updateGameState:n,addLog:i}=ht(),[l,d]=P.useState(""),[h,f]=P.useState(6),[y,g]=P.useState(!1),p=()=>{if(!l.trim()){g(!0),setTimeout(()=>g(!1),400);return}const x={id:Date.now().toString(),title:l,segments:h,filled:0};n({dangerClocks:[...s.dangerClocks,x]}),i(`New danger clock added: ${l}`,"danger"),d("")},v=(x,w)=>{const A=s.dangerClocks.map(O=>O.id===x?{...O,filled:w}:O);n({dangerClocks:A});const N=s.dangerClocks.find(O=>O.id===x);w===N.segments&&i(`DANGER! Clock filled: ${N.title}`,"danger")},_=x=>{const w=s.dangerClocks.find(A=>A.id===x);n({dangerClocks:s.dangerClocks.filter(A=>A.id!==x)}),i(`Danger clock removed: ${w.title}`,"info")};return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("input",{type:"text",placeholder:"Enter looming threat...",value:l,onChange:x=>d(x.target.value),onKeyPress:x=>x.key==="Enter"&&p(),className:`w-full px-3 py-2 bg-bg-primary border-2 border-accent-red text-text-primary focus:outline-none focus:border-accent-yellow focus:shadow-[0_0_15px_rgba(255,252,0,0.4)] transition-all duration-300 font-orbitron ${y?"input-shake border-accent-red":""}`}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("select",{value:h,onChange:x=>f(Number(x.target.value)),className:"flex-1 px-3 py-2 bg-bg-primary border-2 border-accent-red text-text-primary focus:outline-none focus:border-accent-yellow focus:shadow-[0_0_15px_rgba(255,252,0,0.4)] transition-all duration-300 font-orbitron [&>option]:bg-bg-secondary [&>option]:text-text-primary",children:[c.jsx("option",{value:4,className:"bg-bg-secondary text-text-primary",children:"4 Segments - Imminent"}),c.jsx("option",{value:6,className:"bg-bg-secondary text-text-primary",children:"6 Segments - Building"}),c.jsx("option",{value:8,className:"bg-bg-secondary text-text-primary",children:"8 Segments - Slow Burn"}),c.jsx("option",{value:10,className:"bg-bg-secondary text-text-primary",children:"10 Segments - Long Game"})]}),c.jsxs(je,{onClick:p,variant:"danger",className:"flex items-center gap-2",children:[c.jsx(Cu,{className:"w-4 h-4"}),"Add"]})]})]}),c.jsx("div",{className:"space-y-3",children:s.dangerClocks.length===0?c.jsxs("div",{className:"text-center py-8 space-y-2",children:[c.jsx("div",{className:"text-accent-red/30 text-4xl mb-2",children:""}),c.jsx("p",{className:"text-gray-500 font-orbitron text-sm",children:"NO DANGER CLOCKS"}),c.jsx("p",{className:"text-gray-600 text-xs",children:"Track looming threats and countdowns"})]}):s.dangerClocks.map(x=>{const w=x.filled===x.segments;return c.jsxs("div",{className:`bg-bg-primary p-3 border-2 border-accent-red ${w?"glow-pulse-red":""}`,children:[c.jsxs("div",{className:"flex items-start justify-between mb-2",children:[c.jsx("h4",{className:"font-orbitron font-bold text-accent-red",children:x.title}),c.jsx("button",{onClick:()=>_(x.id),className:"text-accent-red hover:text-red-400",children:c.jsx(mg,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"relative w-24 h-24 mx-auto my-3",children:[c.jsxs("svg",{viewBox:"0 0 100 100",className:"transform -rotate-90",children:[c.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"#1a1a1a",strokeWidth:"10"}),Array.from({length:x.segments}).map((A,N)=>{const O=360/x.segments,B=N*O,q=N<x.filled;return c.jsx("path",{d:HS(50,50,45,B,B+O-2),fill:"none",stroke:q?"#ff003c":"#333",strokeWidth:"10",className:"cursor-pointer hover:opacity-80 transition-all duration-200 hover:stroke-[#ff003c]",style:{transition:"stroke 0.3s ease-out"},onClick:()=>v(x.id,N+1)},N)})]}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsxs("span",{className:`font-orbitron font-bold text-accent-red text-xl transition-all ${x.filled===x.segments?"completion-bounce text-glow-red":""}`,children:[x.filled,"/",x.segments]})})]}),c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsxs("button",{onClick:()=>x.filled>0&&v(x.id,x.filled-1),disabled:x.filled===0,className:"px-3 py-1 bg-bg-primary border-2 border-accent-red text-accent-red hover:bg-accent-red hover:text-bg-primary disabled:opacity-30 disabled:cursor-not-allowed transition-all font-orbitron text-sm flex items-center gap-1",children:[c.jsx(sS,{className:"w-3 h-3"}),"-1"]}),c.jsxs("button",{onClick:()=>x.filled<x.segments&&v(x.id,x.filled+1),disabled:x.filled===x.segments,className:"px-3 py-1 bg-bg-primary border-2 border-accent-red text-accent-red hover:bg-accent-red hover:text-bg-primary disabled:opacity-30 disabled:cursor-not-allowed transition-all font-orbitron text-sm flex items-center gap-1",children:[c.jsx(Bw,{className:"w-3 h-3"}),"+1"]})]}),w&&c.jsx("div",{className:"mt-3 border-3 border-accent-red bg-accent-red/10 p-3 inline-alert-pulse",children:c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx(Jr,{className:"w-4 h-4 text-accent-red flex-shrink-0 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h5",{className:"font-orbitron font-bold text-accent-red uppercase text-xs",children:"Danger Triggered!"}),c.jsx("p",{className:"text-text-primary text-xs mt-1",children:"The consequence occurs"})]})]})})]},x.id)})})]})}function HS(s,n,i,l,d){const h=kp(s,n,i,d),f=kp(s,n,i,l),y=d-l<=180?"0":"1";return["M",h.x,h.y,"A",i,i,0,y,0,f.x,f.y].join(" ")}function kp(s,n,i,l){const d=(l-90)*Math.PI/180;return{x:s+i*Math.cos(d),y:n+i*Math.sin(d)}}const Rp={D4:c.jsx("svg",{viewBox:"0 0 24 24",className:"w-4 h-4 inline-block",fill:"currentColor",children:c.jsx("polygon",{points:"12,4 20,20 4,20",stroke:"currentColor",strokeWidth:"1.5",fill:"none"})}),D6:c.jsx("svg",{viewBox:"0 0 24 24",className:"w-4 h-4 inline-block",fill:"currentColor",children:c.jsx("rect",{x:"6",y:"6",width:"12",height:"12",stroke:"currentColor",strokeWidth:"1.5",fill:"none",rx:"1"})}),D8:c.jsx("svg",{viewBox:"0 0 24 24",className:"w-4 h-4 inline-block",fill:"currentColor",children:c.jsx("polygon",{points:"12,4 18,9 18,15 12,20 6,15 6,9",stroke:"currentColor",strokeWidth:"1.5",fill:"none"})}),D10:c.jsx("svg",{viewBox:"0 0 24 24",className:"w-4 h-4 inline-block",fill:"currentColor",children:c.jsx("polygon",{points:"8,12 12,4 16,12 12,20",stroke:"currentColor",strokeWidth:"1.5",fill:"none"})}),D12:c.jsx("svg",{viewBox:"0 0 24 24",className:"w-4 h-4 inline-block",fill:"currentColor",children:c.jsx("polygon",{points:"12,3 16,6 19,10 19,14 16,18 12,21 8,18 5,14 5,10 8,6",stroke:"currentColor",strokeWidth:"1.5",fill:"none"})}),D20:c.jsx("svg",{viewBox:"0 0 24 24",className:"w-4 h-4 inline-block",fill:"currentColor",children:c.jsx("circle",{cx:"12",cy:"12",r:"9",stroke:"currentColor",strokeWidth:"1.5",fill:"none"})}),D100:c.jsx("svg",{viewBox:"0 0 24 24",className:"w-4 h-4 inline-block",fill:"currentColor",children:c.jsx("rect",{x:"5",y:"8",width:"14",height:"8",stroke:"currentColor",strokeWidth:"1.5",fill:"none",rx:"1"})}),"2D6":c.jsxs("svg",{viewBox:"0 0 24 24",className:"w-4 h-4 inline-block",fill:"currentColor",children:[c.jsx("rect",{x:"4",y:"4",width:"8",height:"8",stroke:"currentColor",strokeWidth:"1.5",fill:"none",rx:"1"}),c.jsx("rect",{x:"12",y:"12",width:"8",height:"8",stroke:"currentColor",strokeWidth:"1.5",fill:"none",rx:"1"})]})};function GS(){const{gameState:s}=ht(),n=P.useRef(null),[i,l]=P.useState(null);P.useEffect(()=>{if(n.current&&(n.current.scrollTop=n.current.scrollHeight),s.log.length>0){const p=s.log[s.log.length-1];p.id!==i&&l(p.id)}},[s.log,i]);const d=p=>{switch(p){case"threat":return"text-accent-red";case"danger":return"text-accent-red font-bold";case"success":return"text-accent-cyan";case"mission":return"text-accent-yellow";case"roll":return"text-accent-cyan";case"oracle":return"text-accent-yellow";default:return"text-gray-400"}},h=(p,v)=>{if(p==="roll"&&v.includes("Rolled")){const _=v.match(/Rolled (D\d+|2D6)/);if(_&&Rp[_[1]])return Rp[_[1]]}switch(p){case"threat":return"";case"danger":return"";case"success":return"";case"mission":return"";case"oracle":return"";default:return""}},f=p=>p.includes("(ADV)")||p.includes("(DIS)")?p.replace(/\((ADV|DIS)\)/,'<span class="text-accent-yellow">($1)</span>').replace(/= (\d+)$/,'= <strong class="text-glow-cyan">$1</strong>'):p.replace(/: (\d+)$/,': <strong class="text-glow-cyan">$1</strong>'),y=p=>p.includes(" | ")?p.split(" | ").map((x,w)=>w===0?x:`<span class="text-accent-cyan">${x}</span>`).join(' <span class="text-accent-yellow/40">|</span> '):p.replace(/: ([^:]+)$/,': <span class="text-accent-cyan">$1</span>'),g=p=>new Date(p).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1});return c.jsx("div",{ref:n,className:"h-full overflow-y-auto space-y-2 font-mono text-sm",children:s.log.length===0?c.jsx("div",{className:"h-full flex items-center justify-center",children:c.jsxs("div",{className:"text-center space-y-2",children:[c.jsxs("div",{className:"text-accent-cyan/20 text-3xl font-mono",children:["[ ]",c.jsx("br",{}),">","_"]}),c.jsx("p",{className:"text-gray-500 font-orbitron text-sm",children:"SHIP LOG EMPTY"}),c.jsx("p",{className:"text-gray-600 text-xs",children:"Activity will appear here"})]})}):s.log.slice().reverse().map((p,v)=>{const _=p.id===i&&v===0,x=v<s.log.length-1?s.log.slice().reverse()[v+1]:null,w=x&&x.type===p.type;return c.jsx("div",{className:`border-l-2 pl-3 py-1 hover:border-accent-cyan hover:bg-bg-secondary/30 transition-all duration-200 ${_?"log-entry-slide new-entry-pulse":"slide-up"} ${w?"border-accent-cyan/30":"border-accent-cyan/50 mt-1"}`,children:c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx("span",{className:`${d(p.type)} mt-0.5 flex-shrink-0`,children:h(p.type,p.message)}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("span",{className:`text-xs mr-2 ${p.type==="threat"||p.type==="danger"?"text-accent-red/60":p.type==="success"?"text-accent-cyan/60":p.type==="mission"||p.type==="oracle"?"text-accent-yellow/60":"text-accent-cyan/60"}`,children:g(p.timestamp)}),c.jsx("span",{className:d(p.type),dangerouslySetInnerHTML:{__html:p.type==="roll"?f(p.message):p.type==="oracle"?y(p.message):p.message}})]})]})},p.id)})})}function qS(s,n=500){const[i,l]=P.useState(s);return P.useEffect(()=>{const d=setTimeout(()=>{l(s)},n);return()=>{clearTimeout(d)}},[s,n]),i}function VS(){const{gameState:s,updateGameState:n}=ht(),[i,l]=P.useState(s.journal||""),d=qS(i,2e3);return P.useEffect(()=>{s.journal!==i&&s.journal!==d&&l(s.journal)},[s.journal]),P.useEffect(()=>{d!==s.journal&&n({journal:d})},[d]),c.jsxs("div",{className:"absolute inset-0 flex flex-col gap-2",children:[c.jsx("textarea",{value:i,onChange:h=>l(h.target.value),placeholder:">> MISSION LOG: Document your journey, decisions, and discoveries...",className:"flex-1 w-full px-3 py-2 bg-bg-primary border-2 border-accent-yellow text-text-primary focus:outline-none focus:border-accent-cyan focus:shadow-[0_0_15px_rgba(0,240,255,0.4)] transition-all duration-300 font-mono text-sm resize-none min-h-0"}),c.jsx("div",{className:"text-xs text-gray-500 font-orbitron shrink-0",children:i!==s.journal?c.jsx("span",{className:"text-accent-yellow animate-pulse",children:" Saving..."}):c.jsx("span",{className:"text-accent-cyan",children:" Synced"})})]})}const YS={4:c.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[c.jsx("polygon",{points:"50,15 85,85 15,85",fill:"#0a0a0a",fillOpacity:"0.9",stroke:"currentColor",strokeWidth:"2"}),c.jsx("text",{x:"50",y:"70",textAnchor:"middle",fill:"#ffffff",style:{fontSize:"28px",fontWeight:900},children:"4"})]}),6:c.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[c.jsx("rect",{x:"20",y:"20",width:"60",height:"60",fill:"#0a0a0a",fillOpacity:"0.9",stroke:"currentColor",strokeWidth:"2",rx:"4"}),c.jsx("text",{x:"50",y:"58",textAnchor:"middle",fill:"#ffffff",style:{fontSize:"28px",fontWeight:900},children:"6"})]}),8:c.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[c.jsx("polygon",{points:"25,50 50,15 75,50 50,85",fill:"#0a0a0a",fillOpacity:"0.9",stroke:"currentColor",strokeWidth:"2"}),c.jsx("text",{x:"50",y:"58",textAnchor:"middle",fill:"#ffffff",style:{fontSize:"28px",fontWeight:900},children:"8"})]}),10:c.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[c.jsx("polygon",{points:"50,10 80,35 80,65 50,90 20,65 20,35",fill:"#0a0a0a",fillOpacity:"0.9",stroke:"currentColor",strokeWidth:"2"}),c.jsx("text",{x:"50",y:"58",textAnchor:"middle",fill:"#ffffff",style:{fontSize:"24px",fontWeight:900},children:"10"})]}),12:c.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[c.jsx("polygon",{points:"50,10 70,20 82,35 82,65 70,80 50,90 30,80 18,65 18,35 30,20",fill:"#0a0a0a",fillOpacity:"0.9",stroke:"currentColor",strokeWidth:"2"}),c.jsx("text",{x:"50",y:"58",textAnchor:"middle",fill:"#ffffff",style:{fontSize:"24px",fontWeight:900},children:"12"})]}),20:c.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[c.jsx("polygon",{points:"50,8 82,25 82,70 50,87 18,70 18,25",fill:"#0a0a0a",fillOpacity:"0.9",stroke:"currentColor",strokeWidth:"2"}),c.jsx("polygon",{points:"50,8 18,25 82,25",fill:"none",stroke:"currentColor",strokeWidth:"2"}),c.jsx("polygon",{points:"50,32 25,65 75,65",fill:"#0a0a0a",fillOpacity:"0.95",stroke:"currentColor",strokeWidth:"2"}),c.jsx("polygon",{points:"18,25 18,70 25,65",fill:"none",stroke:"currentColor",strokeWidth:"2"}),c.jsx("polygon",{points:"82,25 75,65 82,70",fill:"none",stroke:"currentColor",strokeWidth:"2"}),c.jsx("line",{x1:"50",y1:"32",x2:"50",y2:"8",stroke:"currentColor",strokeWidth:"2"}),c.jsx("line",{x1:"25",y1:"65",x2:"18",y2:"25",stroke:"currentColor",strokeWidth:"2"}),c.jsx("line",{x1:"75",y1:"65",x2:"82",y2:"25",stroke:"currentColor",strokeWidth:"2"}),c.jsx("line",{x1:"25",y1:"65",x2:"50",y2:"87",stroke:"currentColor",strokeWidth:"2"}),c.jsx("line",{x1:"75",y1:"65",x2:"50",y2:"87",stroke:"currentColor",strokeWidth:"2"}),c.jsx("line",{x1:"18",y1:"70",x2:"25",y2:"65",stroke:"currentColor",strokeWidth:"2"}),c.jsx("line",{x1:"82",y1:"70",x2:"75",y2:"65",stroke:"currentColor",strokeWidth:"2"}),c.jsx("text",{x:"50",y:"56",textAnchor:"middle",fill:"#ffffff",style:{fontSize:"24px",fontWeight:900},children:"20"})]}),100:c.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[c.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"#0a0a0a",fillOpacity:"0.9",stroke:"currentColor",strokeWidth:"2"}),c.jsx("text",{x:"50",y:"58",textAnchor:"middle",fill:"#ffffff",style:{fontSize:"22px",fontWeight:900},children:"100"})]}),"2d6":c.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[c.jsx("rect",{x:"15",y:"25",width:"32",height:"32",fill:"#0a0a0a",fillOpacity:"0.9",stroke:"currentColor",strokeWidth:"2",rx:"3"}),c.jsx("rect",{x:"53",y:"43",width:"32",height:"32",fill:"#0a0a0a",fillOpacity:"0.9",stroke:"currentColor",strokeWidth:"2",rx:"3"}),c.jsx("text",{x:"31",y:"48",textAnchor:"middle",fill:"#ffffff",style:{fontSize:"18px",fontWeight:900},children:"6"}),c.jsx("text",{x:"69",y:"66",textAnchor:"middle",fill:"#ffffff",style:{fontSize:"18px",fontWeight:900},children:"6"})]})};function Ap({sides:s,label:n,variant:i="cyan",isRolling:l=!1,onClick:d,className:h}){const f={cyan:"text-accent-cyan",yellow:"text-accent-yellow",red:"text-accent-red"};return c.jsx("button",{onClick:d,disabled:l,className:X("relative aspect-square bg-transparent","transition-all duration-300 ease-out","hover:scale-110 active:scale-95","disabled:opacity-50 disabled:cursor-not-allowed","group",f[i],l&&"dice-rolling",!l&&"dice-idle",h),children:c.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-2",children:YS[s]})})}function KS({result:s,diceType:n,sides:i,rolls:l,rollMode:d,onComplete:h}){const[f,y]=P.useState(!0),[g,p]=P.useState(!1),[v,_]=P.useState(!1),x=i===20&&s===20,w=i===20&&s===1,A=s>i*.75,N=s<=i*.25,O=d==="advantage"||d==="disadvantage",B=i===100;P.useEffect(()=>{const le=setTimeout(()=>{y(!1),(x||w)&&(p(!0),_(!0),setTimeout(()=>_(!1),400))},B?400:300),se=setTimeout(()=>{h&&h()},2500);return()=>{clearTimeout(le),clearTimeout(se)}},[s,x,w,B,h]);const q=()=>x?"text-accent-yellow":w?"text-accent-red":A?"text-accent-cyan":N?"text-gray-400":"text-accent-cyan",H=()=>x?"text-glow-yellow":w?"text-glow-red":"text-glow-cyan",Q=B?s.toString().padStart(3,"0").split(""):[s.toString()];return c.jsxs("div",{className:"relative w-full py-3 px-3 bg-bg-secondary/30 backdrop-blur-sm border-2 border-accent-cyan/50 overflow-hidden",children:[v&&c.jsx("div",{className:X("fixed inset-0 pointer-events-none z-50",x?"bg-accent-yellow screen-flash-yellow":"bg-accent-red screen-flash-red")}),c.jsx("div",{className:X("absolute inset-0 opacity-30 transition-opacity duration-500",x&&"bg-gradient-radial from-accent-yellow/40 to-transparent animate-pulse",w&&"bg-gradient-radial from-accent-red/40 to-transparent",!x&&!w&&"bg-gradient-radial from-accent-cyan/20 to-transparent")}),g&&x&&c.jsx("div",{className:"absolute inset-0 crit-burst pointer-events-none"}),c.jsxs("div",{className:X("relative z-10",g&&w&&"fumble-shake"),children:[c.jsx("div",{className:"text-center mb-0.5",children:c.jsxs("span",{className:X("text-xs font-orbitron uppercase tracking-wider opacity-70",q()),children:[n,O&&c.jsxs("span",{className:X("ml-1",d==="advantage"?"text-accent-yellow":"text-accent-red"),children:["(",d==="advantage"?"ADV":"DIS",")"]})]})}),c.jsxs("div",{className:"text-center",children:[B&&!f?c.jsx("span",{className:X("font-orbitron font-black text-5xl",q(),H()),children:Q.map((le,se)=>c.jsx("span",{className:`inline-block digit-reveal-${se+1}`,children:le},se))}):c.jsx("span",{className:X("font-orbitron font-black transition-all duration-300","inline-block",f?"text-4xl scale-0 opacity-0":"text-5xl scale-100 opacity-100 result-reveal",q(),H()),children:s}),!f&&O&&l&&c.jsxs("span",{className:X("ml-2 text-2xl font-orbitron font-bold opacity-50",q()),children:["[",l.find(le=>le!==s),"]"]})]}),!f&&(x||w)&&c.jsx("div",{className:X("text-center mt-0.5 slide-up","text-xs font-orbitron uppercase tracking-widest",x?"text-accent-yellow":"text-accent-red"),children:x?" CRITICAL ":" FUMBLE "})]}),c.jsx("div",{className:"absolute inset-0 pointer-events-none scan-effect opacity-30"})]})}function PS(){const{addLog:s}=ht(),[n,i]=P.useState(null),[l,d]=P.useState(null),[h,f]=P.useState([]),[y,g]=P.useState("normal"),p=[{sides:4,label:"D4"},{sides:6,label:"D6"},{sides:8,label:"D8"},{sides:10,label:"D10"},{sides:12,label:"D12"},{sides:20,label:"D20"},{sides:100,label:"D100"}],v=(x,w)=>{n||(i(w),setTimeout(()=>{let A,N,O;if(y==="advantage"||y==="disadvantage"){const B=Y(x),q=Y(x);N=[B,q],A=y==="advantage"?Math.max(B,q):Math.min(B,q),O=`Rolled ${w} (${y==="advantage"?"ADV":"DIS"}): [${N.join(", ")}] = ${A}`}else A=Y(x),O=`Rolled ${w}: ${A}`;d({result:A,diceType:w,sides:x,rolls:N,rollMode:y}),s(O,"roll"),f(B=>[{label:w,result:A},...B.slice(0,4)]),i(null)},600))},_=()=>{n||(i("2D6"),setTimeout(()=>{const x=[Y(6),Y(6)],w=x.reduce((A,N)=>A+N,0);d({result:w,diceType:"2D6",sides:12,isMultiple:!0}),s(`Rolled 2D6: [${x.join(", ")}] = ${w}`,"roll"),f(A=>[{label:"2D6",result:w},...A.slice(0,4)]),i(null)},600))};return c.jsxs("div",{className:"space-y-2",children:[l&&c.jsx(KS,{result:l.result,diceType:l.diceType,sides:l.sides,rolls:l.rolls,rollMode:l.rollMode,onComplete:()=>{}}),c.jsxs("div",{className:"flex gap-1 justify-center",children:[c.jsx("button",{onClick:()=>g("normal"),className:`px-3 py-1 font-orbitron font-bold uppercase text-xs border-2 transition-all ${y==="normal"?"bg-accent-cyan text-bg-primary border-accent-cyan":"bg-transparent text-accent-cyan border-accent-cyan hover:bg-accent-cyan/20"}`,children:"Normal"}),c.jsx("button",{onClick:()=>g("advantage"),className:`px-3 py-1 font-orbitron font-bold uppercase text-xs border-2 transition-all ${y==="advantage"?"bg-accent-yellow text-bg-primary border-accent-yellow":"bg-transparent text-accent-yellow border-accent-yellow hover:bg-accent-yellow/20"}`,children:"Advantage"}),c.jsx("button",{onClick:()=>g("disadvantage"),className:`px-3 py-1 font-orbitron font-bold uppercase text-xs border-2 transition-all ${y==="disadvantage"?"bg-accent-red text-bg-primary border-accent-red":"bg-transparent text-accent-red border-accent-red hover:bg-accent-red/20"}`,children:"Disadvantage"})]}),c.jsxs("div",{className:"grid grid-cols-4 gap-2 max-w-lg mx-auto",children:[p.map(({sides:x,label:w})=>c.jsx(Ap,{sides:x,label:w,variant:"cyan",isRolling:n===w,onClick:()=>v(x,w)},x)),c.jsx(Ap,{sides:"2d6",label:"2D6",variant:"cyan",isRolling:n==="2D6",onClick:_})]}),h.length>0&&c.jsx("div",{className:"pt-2 border-t border-accent-cyan/30",children:c.jsxs("div",{className:"flex items-center justify-between text-xs",children:[c.jsx("span",{className:"text-accent-cyan/70 font-orbitron uppercase text-xs",children:"Recent:"}),c.jsx("div",{className:"flex gap-1",children:h.map((x,w)=>c.jsxs("span",{className:"text-accent-cyan font-mono font-bold text-xs slide-in-recent",children:[x.label.replace("D",""),":",x.result,w<h.length-1&&c.jsx("span",{className:"text-accent-cyan/40 mx-1",children:""})]},`${x.label}-${x.result}-${w}`))})]})})]})}function IS({setOracleResult:s}){const{addLog:n,gameState:i}=ht(),[l,d]=P.useState("normal"),h=()=>{let g,p;if(l==="advantage"||l==="disadvantage"){const v=uu(),_=uu(),x=l==="advantage"?v.roll>_.roll?v:_:v.roll<_.roll?v:_;g={...x,rolls:[v.roll,_.roll],rollMode:l},p=`Oracle (${l==="advantage"?"ADV":"DIS"}) [${v.roll}, ${_.roll}] = ${x.roll}: ${x.result} - ${x.detail}`}else g=uu(),p=`Oracle (${g.roll}): ${g.result} - ${g.detail}`;s&&s(g),n(p,"roll")},f=()=>{const g=i.threatDie||1,p=TS(g);if(p.success){const v={roll:p.total,result:"Scene Shakeup",detail:p.shakeup.result,checkRoll:p.checkRoll,threatDie:g,shakeupD20:p.shakeup.d20,shakeupRoll:p.shakeup.roll};s&&s(v),n(`Scene Shakeup Check [${p.checkRoll}] + [${g}] = ${p.total}   Shakeup [${p.shakeup.d20}] + [${g}] = ${p.shakeup.roll}: ${p.shakeup.result}`,"roll")}else{const v={roll:p.total,result:"No Scene Shakeup",detail:`Rolled [${p.checkRoll}] + [${g}] = ${p.total}, need 15+`,checkRoll:p.checkRoll,threatDie:g,success:!1};s&&s(v),n(`Scene Shakeup Check [${p.checkRoll}] + [${g}] = ${p.total}  No shakeup`,"roll")}},y=()=>{const g=jS();s&&s(g),n(`Event (${g.roll}): ${g.verb} ${g.subject} - ${g.specific}`,"roll")};return c.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("button",{onClick:h,className:"w-full px-3 py-2 bg-accent-cyan text-bg-primary border-2 border-accent-cyan hover:bg-transparent hover:text-accent-cyan transition-all font-orbitron font-bold uppercase text-xs",children:"Ask Oracle"}),c.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[c.jsx("button",{onClick:()=>d("normal"),className:`px-1 py-1 font-orbitron font-bold uppercase text-xs border-2 transition-all ${l==="normal"?"bg-accent-cyan text-bg-primary border-accent-cyan":"bg-transparent text-accent-cyan border-accent-cyan hover:bg-accent-cyan/20"}`,children:"Norm"}),c.jsx("button",{onClick:()=>d("advantage"),className:`px-1 py-1 font-orbitron font-bold uppercase text-xs border-2 transition-all ${l==="advantage"?"bg-accent-yellow text-bg-primary border-accent-yellow":"bg-transparent text-accent-yellow border-accent-yellow hover:bg-accent-yellow/20"}`,children:"Adv"}),c.jsx("button",{onClick:()=>d("disadvantage"),className:`px-1 py-1 font-orbitron font-bold uppercase text-xs border-2 transition-all ${l==="disadvantage"?"bg-accent-red text-bg-primary border-accent-red":"bg-transparent text-accent-red border-accent-red hover:bg-accent-red/20"}`,children:"Dis"})]})]}),c.jsx("button",{onClick:f,className:"px-3 py-2 bg-accent-yellow text-bg-primary border-2 border-accent-yellow hover:bg-transparent hover:text-accent-yellow transition-all font-orbitron font-bold uppercase text-xs",children:"Shakeup"}),c.jsx("button",{onClick:y,className:"px-3 py-2 bg-accent-red text-bg-primary border-2 border-accent-red hover:bg-transparent hover:text-accent-red transition-all font-orbitron font-bold uppercase text-xs",children:"Event"})]})}function qn({result:s,variant:n="cyan",className:i}){const[l,d]=P.useState(!1);if(P.useEffect(()=>{s&&(d(!1),setTimeout(()=>d(!0),50))},[s]),!s)return null;const h={cyan:"border-accent-cyan",yellow:"border-accent-yellow",red:"border-accent-red"},f={cyan:"text-accent-cyan",yellow:"text-accent-yellow",red:"text-accent-red"},y={cyan:"glow-pulse-cyan",yellow:"glow-pulse-yellow",red:"glow-pulse-red"},g={cyan:"text-glow-cyan",yellow:"text-glow-yellow",red:"text-glow-red"};return c.jsx("div",{className:X("border-3 bg-bg-secondary p-4 scan-effect",h[n],y[n],l?"fade-in":"opacity-0",i),children:c.jsxs("div",{className:"space-y-3",children:[c.jsx("div",{className:X("text-xs font-orbitron uppercase tracking-wider flicker",f[n]),children:" TRANSMISSION RECEIVED "}),s.roll!==void 0&&c.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[c.jsx("span",{className:"text-gray-400 text-sm font-orbitron",children:"ROLL:"}),s.rolls&&s.rollMode?c.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[c.jsx("span",{className:X("text-sm font-orbitron",s.rollMode==="advantage"?"text-accent-yellow":"text-accent-red"),children:s.rollMode==="advantage"?"ADV":"DIS"}),c.jsxs("span",{className:"text-base sm:text-lg font-orbitron text-gray-500",children:["[",s.rolls.join(", "),"]"]}),c.jsx("span",{className:"text-gray-500",children:"="}),c.jsxs("span",{className:X("text-xl sm:text-2xl font-orbitron font-bold",f[n],g[n]),children:["[",s.roll,"]"]})]}):c.jsxs("span",{className:X("text-xl sm:text-2xl font-orbitron font-bold",f[n],g[n]),children:["[",s.roll,"]"]})]}),c.jsx("div",{className:X("h-px",h[n]),style:{opacity:.3}}),s.result&&c.jsxs("div",{className:"space-y-1",children:[c.jsx("div",{className:X("text-sm font-orbitron uppercase text-gray-400"),children:"RESULT:"}),c.jsx("div",{className:X("text-base sm:text-xl font-orbitron font-bold typewriter break-words",f[n],g[n]),children:s.result})]}),s.detail&&s.size&&s.weather&&s.npcReaction&&c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 gap-y-3",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("div",{className:"text-sm font-orbitron uppercase text-gray-400",children:"DETAIL:"}),c.jsx("div",{className:"text-base text-text-primary terminal-text break-words",children:s.detail})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("div",{className:"text-sm font-orbitron uppercase text-gray-400",children:"SIZE:"}),c.jsx("div",{className:"text-base text-text-primary terminal-text break-words",children:s.size})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("div",{className:"text-sm font-orbitron uppercase text-gray-400",children:"WEATHER:"}),c.jsx("div",{className:"text-base text-text-primary terminal-text break-words",children:s.weather})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("div",{className:"text-sm font-orbitron uppercase text-gray-400",children:"NPC REACTION:"}),c.jsx("div",{className:"text-base text-text-primary terminal-text break-words",children:s.npcReaction})]})]}),s.detail&&!s.weather&&c.jsxs("div",{className:"space-y-1",children:[c.jsx("div",{className:"text-sm font-orbitron uppercase text-gray-400",children:"DETAIL:"}),c.jsx("div",{className:"text-base sm:text-lg text-text-primary terminal-text break-words",children:s.detail})]}),s.size&&!s.weather&&c.jsxs("div",{className:"space-y-1",children:[c.jsx("div",{className:"text-sm font-orbitron uppercase text-gray-400",children:"SIZE:"}),c.jsx("div",{className:"text-base sm:text-lg text-text-primary terminal-text break-words",children:s.size})]}),s.action&&s.target&&c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex gap-2 flex-wrap",children:[c.jsxs("span",{className:"text-sm font-orbitron uppercase text-gray-400 min-w-[70px] sm:min-w-[100px]",children:["ACTION",s.actionRoll?` [${s.actionRoll}]`:"",":"]}),c.jsx("span",{className:X("text-base font-bold terminal-text break-words",f[n]),children:s.action})]}),c.jsxs("div",{className:"flex gap-2 flex-wrap",children:[c.jsxs("span",{className:"text-sm font-orbitron uppercase text-gray-400 min-w-[70px] sm:min-w-[100px]",children:["TARGET",s.targetRoll?` [${s.targetRoll}]`:"",":"]}),c.jsx("span",{className:X("text-base font-bold terminal-text break-words",f[n]),children:s.target})]})]}),s.location&&s.tone&&s.obstacle&&c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex gap-2 flex-wrap",children:[c.jsxs("span",{className:"text-sm font-orbitron uppercase text-gray-400 min-w-[70px] sm:min-w-[100px]",children:["LOCATION",s.locationRoll?` [${s.locationRoll}]`:"",":"]}),c.jsx("span",{className:X("text-base font-bold terminal-text break-words",f[n]),children:s.location})]}),c.jsxs("div",{className:"flex gap-2 flex-wrap",children:[c.jsxs("span",{className:"text-sm font-orbitron uppercase text-gray-400 min-w-[70px] sm:min-w-[100px]",children:["TONE",s.toneRoll?` [${s.toneRoll}]`:"",":"]}),c.jsx("span",{className:X("text-base terminal-text break-words",f[n]),children:s.tone})]}),c.jsxs("div",{className:"flex gap-2 flex-wrap",children:[c.jsxs("span",{className:"text-sm font-orbitron uppercase text-gray-400 min-w-[70px] sm:min-w-[100px]",children:["OBSTACLE",s.obstacleRoll?` [${s.obstacleRoll}]`:"",":"]}),c.jsx("span",{className:X("text-base text-accent-red terminal-text break-words"),children:s.obstacle})]})]}),s.theme&&s.actor&&!s.role&&c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex gap-2 flex-wrap",children:[c.jsxs("span",{className:"text-sm font-orbitron uppercase text-gray-400 min-w-[70px] sm:min-w-[100px]",children:["THEME",s.themeRoll?` [${s.themeRoll}]`:"",":"]}),c.jsx("span",{className:X("text-base font-bold terminal-text break-words",f[n]),children:s.theme})]}),c.jsxs("div",{className:"flex gap-2 flex-wrap",children:[c.jsxs("span",{className:"text-sm font-orbitron uppercase text-gray-400 min-w-[70px] sm:min-w-[100px]",children:["ACTOR",s.actorRoll?` [${s.actorRoll}]`:"",":"]}),c.jsx("span",{className:X("text-base terminal-text break-words",f[n]),children:s.actor})]})]}),s.ship&&s.base&&s.obstacle&&s.search&&s.shipRoll&&c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex gap-2 flex-wrap",children:[c.jsxs("span",{className:"text-sm font-orbitron uppercase text-gray-400 min-w-[80px] sm:min-w-[120px]",children:["SHIP [",s.shipRoll,"]:"]}),c.jsx("span",{className:X("text-base font-bold terminal-text break-words",f[n]),children:s.ship})]}),c.jsxs("div",{className:"flex gap-2 flex-wrap",children:[c.jsxs("span",{className:"text-sm font-orbitron uppercase text-gray-400 min-w-[80px] sm:min-w-[120px]",children:["BASE [",s.baseRoll,"]:"]}),c.jsx("span",{className:X("text-base font-bold terminal-text break-words",f[n]),children:s.base})]}),s.threatRoll!==void 0&&c.jsxs("div",{className:"flex gap-2 items-center flex-wrap",children:[c.jsxs("span",{className:"text-sm font-orbitron uppercase text-gray-400 min-w-[80px] sm:min-w-[120px]",children:["THREAT [",s.threatRoll,"] + [",s.threatDie,"] = ",s.threatTotal,":"]}),c.jsx("span",{className:X("text-base font-bold break-words",s.obstacleTriggered?"text-accent-red":"text-gray-500"),children:s.obstacleTriggered?" OBSTACLE TRIGGERED":"Safe"})]}),c.jsxs("div",{className:"flex gap-2 flex-wrap",children:[c.jsxs("span",{className:"text-sm font-orbitron uppercase text-gray-400 min-w-[80px] sm:min-w-[120px]",children:["OBSTACLE [",s.obstacleRoll,"]:"]}),c.jsx("span",{className:X("text-base font-bold terminal-text break-words",s.obstacleTriggered?"text-accent-red text-glow-red":"text-gray-500"),children:s.obstacle})]}),c.jsxs("div",{className:"flex gap-2 flex-wrap",children:[c.jsxs("span",{className:"text-sm font-orbitron uppercase text-gray-400 min-w-[80px] sm:min-w-[120px]",children:["SEARCH [",s.searchRoll,"]:"]}),c.jsx("span",{className:X("text-base text-accent-yellow terminal-text break-words"),children:s.search})]})]}),s.type&&s.typeRoll&&c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex gap-2 flex-wrap",children:[c.jsxs("span",{className:"text-sm font-orbitron uppercase text-gray-400 min-w-[70px] sm:min-w-[100px]",children:["TYPE [",s.typeRoll,"]:"]}),c.jsx("span",{className:X("text-base terminal-text font-bold break-words",f[n]),children:s.type})]}),c.jsxs("div",{className:"flex gap-2 flex-wrap",children:[c.jsxs("span",{className:"text-sm font-orbitron uppercase text-gray-400 min-w-[70px] sm:min-w-[100px]",children:["GOODS [",s.goodsRoll,"]:"]}),c.jsx("span",{className:X("text-base terminal-text break-words",f[n]),children:s.goods})]}),c.jsxs("div",{className:"flex gap-2 flex-wrap",children:[c.jsxs("span",{className:"text-sm font-orbitron uppercase text-gray-400 min-w-[70px] sm:min-w-[100px]",children:["SPOT [",s.spotRoll,"]:"]}),c.jsx("span",{className:X("text-base terminal-text break-words",f[n]),children:s.spot})]}),c.jsxs("div",{className:"flex gap-2 flex-wrap",children:[c.jsxs("span",{className:"text-sm font-orbitron uppercase text-gray-400 min-w-[70px] sm:min-w-[100px]",children:["REWARD [",s.rewardRoll,"]:"]}),c.jsx("span",{className:X("text-base terminal-text text-accent-yellow break-words"),children:s.reward})]})]}),s.type&&!s.typeRoll&&c.jsx("div",{className:"space-y-2",children:Object.entries(s).map(([p,v])=>p==="roll"?null:c.jsxs("div",{className:"flex gap-2 flex-wrap",children:[c.jsxs("span",{className:"text-sm font-orbitron uppercase text-gray-400 min-w-[70px] sm:min-w-[100px]",children:[p,":"]}),c.jsx("span",{className:X("text-base terminal-text break-words",f[n]),children:v})]},p))}),s.verb&&s.verbRoll&&c.jsx("div",{className:"space-y-2",children:c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[c.jsxs("div",{children:[c.jsxs("span",{className:"text-xs font-orbitron uppercase text-gray-400",children:["VERB [",s.verbRoll,"]:"]}),c.jsx("div",{className:X("text-base font-bold break-words",f[n]),children:s.verb})]}),c.jsxs("div",{children:[c.jsxs("span",{className:"text-xs font-orbitron uppercase text-gray-400",children:["SUBJECT [",s.subjectRoll,"]:"]}),c.jsx("div",{className:X("text-base font-bold break-words",f[n]),children:s.subject})]}),c.jsxs("div",{children:[c.jsxs("span",{className:"text-xs font-orbitron uppercase text-gray-400",children:["DESC [",s.descRoll,"]:"]}),c.jsx("div",{className:"text-base text-text-primary break-words",children:s.description})]}),c.jsxs("div",{children:[c.jsxs("span",{className:"text-xs font-orbitron uppercase text-gray-400",children:["ACTIVITY [",s.activityRoll,"]:"]}),c.jsx("div",{className:"text-base text-text-primary break-words",children:s.activity})]}),c.jsxs("div",{children:[c.jsxs("span",{className:"text-xs font-orbitron uppercase text-gray-400",children:["OMEN [",s.omenRoll,"]:"]}),c.jsx("div",{className:"text-base text-text-primary break-words",children:s.omen})]}),c.jsxs("div",{children:[c.jsxs("span",{className:"text-xs font-orbitron uppercase text-gray-400",children:["SPECIFIC [",s.specificRoll,"]:"]}),c.jsx("div",{className:X("text-base font-bold break-words",f[n],g[n]),children:s.specific})]})]})}),s.role&&s.roleRoll&&c.jsx("div",{className:"space-y-2",children:c.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[c.jsxs("div",{children:[c.jsxs("span",{className:"text-xs font-orbitron uppercase text-gray-400",children:["ROLE [",s.roleRoll,"]:"]}),c.jsx("div",{className:X("text-base font-bold break-words",f[n]),children:s.role})]}),c.jsxs("div",{children:[c.jsxs("span",{className:"text-xs font-orbitron uppercase text-gray-400",children:["SPECIES [",s.speciesRoll,"]:"]}),c.jsx("div",{className:"text-base text-text-primary break-words",children:s.species})]}),c.jsxs("div",{children:[c.jsxs("span",{className:"text-xs font-orbitron uppercase text-gray-400",children:["MOTIVATION [",s.motivationRoll,"]:"]}),c.jsx("div",{className:"text-base text-text-primary break-words",children:s.motivation})]}),c.jsxs("div",{children:[c.jsxs("span",{className:"text-xs font-orbitron uppercase text-gray-400",children:["SECRET [",s.secretRoll,"]:"]}),c.jsx("div",{className:"text-base text-accent-yellow break-words",children:s.secret})]}),c.jsxs("div",{children:[c.jsxs("span",{className:"text-xs font-orbitron uppercase text-gray-400",children:["TRAIT [",s.traitRoll,"]:"]}),c.jsx("div",{className:"text-base text-text-primary break-words",children:s.trait})]}),c.jsxs("div",{children:[c.jsxs("span",{className:"text-xs font-orbitron uppercase text-gray-400",children:["DEMEANOR [",s.demeanorRoll,"]:"]}),c.jsx("div",{className:"text-base text-text-primary break-words",children:s.demeanor})]})]})}),s.terrain&&c.jsx("div",{className:"space-y-2",children:c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[c.jsxs("div",{children:[c.jsxs("span",{className:"text-xs font-orbitron uppercase text-gray-400",children:["TERRAIN",s.terrainRoll?` [${s.terrainRoll}]`:"",":"]}),c.jsx("div",{className:X("text-base break-words",f[n]),children:s.terrain})]}),c.jsxs("div",{children:[c.jsxs("span",{className:"text-xs font-orbitron uppercase text-gray-400",children:["WEATHER",s.weatherRoll?` [${s.weatherRoll}]`:"",":"]}),c.jsx("div",{className:"text-base text-text-primary break-words",children:s.weather})]}),c.jsxs("div",{children:[c.jsxs("span",{className:"text-xs font-orbitron uppercase text-gray-400",children:["COLOR",s.colorRoll?` [${s.colorRoll}]`:"",":"]}),c.jsx("div",{className:"text-base text-text-primary break-words",children:s.color})]}),c.jsxs("div",{children:[c.jsxs("span",{className:"text-xs font-orbitron uppercase text-gray-400",children:["POPULATION",s.populationRoll?` [${s.populationRoll}]`:"",":"]}),c.jsx("div",{className:"text-base text-text-primary break-words",children:s.population})]}),c.jsxs("div",{className:"sm:col-span-2",children:[c.jsxs("span",{className:"text-xs font-orbitron uppercase text-gray-400",children:["CONTROL",s.controlRoll?` [${s.controlRoll}]`:"",":"]}),c.jsx("div",{className:"text-base text-text-primary break-words",children:s.control})]}),s.name&&c.jsxs("div",{className:"sm:col-span-2",children:[c.jsxs("span",{className:"text-xs font-orbitron uppercase text-gray-400",children:["NAME",s.nameRoll?` [${s.nameRoll}]`:"",":"]}),c.jsx("div",{className:X("text-base sm:text-lg font-bold break-words",f[n],g[n]),children:s.name})]})]})}),s.appearance&&c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[c.jsxs("div",{children:[c.jsxs("span",{className:"text-xs font-orbitron uppercase text-gray-400",children:["APPEARANCE",s.appearanceRoll?` [${s.appearanceRoll}]`:"",":"]}),c.jsx("div",{className:X("text-base break-words",f[n]),children:s.appearance})]}),c.jsxs("div",{children:[c.jsxs("span",{className:"text-xs font-orbitron uppercase text-gray-400",children:["KNOWN FOR",s.knownForRoll?` [${s.knownForRoll}]`:"",":"]}),c.jsx("div",{className:"text-base text-text-primary break-words",children:s.knownFor})]}),c.jsxs("div",{children:[c.jsxs("span",{className:"text-xs font-orbitron uppercase text-gray-400",children:["STATE",s.currentStateRoll?` [${s.currentStateRoll}]`:"",":"]}),c.jsx("div",{className:"text-base text-text-primary break-words",children:s.currentState})]}),c.jsxs("div",{children:[c.jsxs("span",{className:"text-xs font-orbitron uppercase text-gray-400",children:["COMPLICATION",s.complicationRoll?` [${s.complicationRoll}]`:"",":"]}),c.jsx("div",{className:"text-base text-accent-red break-words",children:s.complication})]}),s.leader&&c.jsxs("div",{children:[c.jsxs("span",{className:"text-xs font-orbitron uppercase text-gray-400",children:["LEADER",s.leaderRoll?` [${s.leaderRoll}]`:"",":"]}),c.jsx("div",{className:"text-base text-text-primary break-words",children:s.leader})]}),s.landmark&&c.jsxs("div",{children:[c.jsxs("span",{className:"text-xs font-orbitron uppercase text-gray-400",children:["LANDMARK",s.landmarkRoll?` [${s.landmarkRoll}]`:"",":"]}),c.jsx("div",{className:"text-base text-text-primary break-words",children:s.landmark})]}),s.rumors&&c.jsxs("div",{children:[c.jsxs("span",{className:"text-xs font-orbitron uppercase text-gray-400",children:["RUMORS",s.rumorsRoll?` [${s.rumorsRoll}]`:"",":"]}),c.jsx("div",{className:"text-base text-accent-yellow break-words",children:s.rumors})]}),s.hookups&&c.jsxs("div",{children:[c.jsxs("span",{className:"text-xs font-orbitron uppercase text-gray-400",children:["NPC HOOK-UPS",s.hookupsRoll?` [${s.hookupsRoll}]`:"",":"]}),c.jsx("div",{className:"text-base text-accent-cyan break-words",children:s.hookups})]})]}),s.name&&c.jsxs("div",{className:"pt-2 border-t border-accent-cyan/30",children:[c.jsxs("span",{className:"text-xs font-orbitron uppercase text-gray-400",children:["NAME",s.nameRoll?` [${s.nameRoll}]`:"",":"]}),c.jsx("div",{className:X("text-base sm:text-lg font-bold break-words",f[n],g[n]),children:s.name})]})]}),s.villain&&!s.visage&&c.jsx("div",{className:"space-y-2",children:c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[c.jsxs("div",{className:"sm:col-span-2",children:[c.jsxs("span",{className:"text-xs font-orbitron uppercase text-gray-400",children:["VILLAIN",s.villainRoll?` [${s.villainRoll}]`:"",":"]}),c.jsx("div",{className:X("text-base sm:text-lg font-bold break-words",f[n],g[n]),children:s.villain})]}),c.jsxs("div",{children:[c.jsxs("span",{className:"text-xs font-orbitron uppercase text-gray-400",children:["GOAL",s.goalRoll?` [${s.goalRoll}]`:"",":"]}),c.jsx("div",{className:"text-base text-text-primary break-words",children:s.goal})]}),c.jsxs("div",{children:[c.jsxs("span",{className:"text-xs font-orbitron uppercase text-gray-400",children:["PLAN",s.planRoll?` [${s.planRoll}]`:"",":"]}),c.jsx("div",{className:"text-base text-text-primary break-words",children:s.plan})]}),c.jsxs("div",{className:"sm:col-span-2",children:[c.jsxs("span",{className:"text-xs font-orbitron uppercase text-gray-400",children:["MEANS",s.meansRoll?` [${s.meansRoll}]`:"",":"]}),c.jsx("div",{className:"text-base text-text-primary break-words",children:s.means})]})]})}),s.visage&&s.visageRoll&&c.jsx("div",{className:"space-y-2",children:c.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[s.name&&c.jsxs("div",{children:[c.jsxs("span",{className:"text-xs font-orbitron uppercase text-gray-400",children:["NAME [",s.nameRoll,"]:"]}),c.jsx("div",{className:X("text-base sm:text-lg font-bold break-words",f[n],g[n]),children:s.name})]}),c.jsxs("div",{children:[c.jsxs("span",{className:"text-xs font-orbitron uppercase text-gray-400",children:["VISAGE [",s.visageRoll,"]:"]}),c.jsx("div",{className:"text-base text-text-primary break-words",children:s.visage})]}),c.jsxs("div",{children:[c.jsxs("span",{className:"text-xs font-orbitron uppercase text-gray-400",children:["WEAPON [",s.weaponRoll,"]:"]}),c.jsx("div",{className:"text-base text-accent-red break-words",children:s.weapon})]}),c.jsxs("div",{children:[c.jsxs("span",{className:"text-xs font-orbitron uppercase text-gray-400",children:["BASE [",s.baseRoll,"]:"]}),c.jsx("div",{className:"text-base text-text-primary break-words",children:s.base})]})]})}),s.beast&&s.monstrosity&&s.weakSpot&&s.beastRoll&&c.jsxs("div",{className:"space-y-2",children:[s.name&&c.jsxs("div",{children:[c.jsx("span",{className:"text-xs font-orbitron uppercase text-gray-400",children:"MONSTER NAME:"}),c.jsx("div",{className:X("text-base sm:text-lg font-bold break-words",f[n],g[n]),children:s.name})]}),c.jsxs("div",{children:[c.jsxs("span",{className:"text-xs font-orbitron uppercase text-gray-400",children:["BEAST ADAPTATION [d6: ",s.beastRoll,"]:"]}),c.jsx("div",{className:"text-base text-text-primary break-words",children:s.beast})]}),c.jsxs("div",{children:[c.jsxs("span",{className:"text-xs font-orbitron uppercase text-gray-400",children:["MONSTROSITY [d6: ",s.monstrosityRoll,"]:"]}),c.jsx("div",{className:"text-base text-text-primary break-words",children:s.monstrosity})]}),c.jsxs("div",{children:[c.jsxs("span",{className:"text-xs font-orbitron uppercase text-gray-400",children:["WEAK SPOT [d6: ",s.weakSpotRoll,"]:"]}),c.jsx("div",{className:"text-base text-accent-yellow break-words",children:s.weakSpot})]})]}),s.titleType&&s.col1&&s.col2&&s.col3&&s.col4&&c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:[c.jsxs("div",{children:[c.jsxs("span",{className:"text-xs font-orbitron uppercase text-gray-400",children:["[",s.col1Roll,"]"]}),c.jsx("div",{className:X("text-base font-bold break-words",f[n]),children:s.col1})]}),c.jsxs("div",{children:[c.jsxs("span",{className:"text-xs font-orbitron uppercase text-gray-400",children:["[",s.col2Roll,"]"]}),c.jsx("div",{className:X("text-base font-bold break-words",f[n]),children:s.col2})]}),c.jsxs("div",{children:[c.jsxs("span",{className:"text-xs font-orbitron uppercase text-gray-400",children:["[",s.col3Roll,"]"]}),c.jsx("div",{className:X("text-base font-bold break-words",f[n]),children:s.col3})]}),c.jsxs("div",{children:[c.jsxs("span",{className:"text-xs font-orbitron uppercase text-gray-400",children:["[",s.col4Roll,"]"]}),c.jsx("div",{className:X("text-base font-bold break-words",f[n]),children:s.col4})]})]}),c.jsxs("div",{className:"pt-2 border-t border-accent-cyan/30",children:[c.jsx("span",{className:"text-xs font-orbitron uppercase text-gray-400",children:"FULL TITLE:"}),c.jsxs("div",{className:X("text-base sm:text-xl font-bold break-words",f[n],g[n]),children:[s.col1," ",s.col2," ",s.col3," ",s.col4]})]})]}),typeof s=="string"&&c.jsx("div",{className:X("text-base sm:text-lg terminal-text break-words",f[n]),children:s})]})})}function JS(s,n){if(typeof n=="string")return`${s}: ${n}`;if(typeof n!="object"||n===null)return`${s}: ${n}`;if(n.ship&&n.base){let l=`${s}: ${n.ship} | ${n.base}`;return n.obstacleTriggered&&n.obstacle&&(l+=` | ${n.obstacle}`),n.search&&(l+=` | ${n.search}`),l}if(n.species||n.role||n.demeanor){const l=[];return n.species&&l.push(n.species),n.role&&l.push(n.role),n.demeanor&&l.push(n.demeanor),`${s}: ${l.join(" - ")}`}if(n.type&&n.goods)return`${s}: ${n.type} ${n.goods} at ${n.spot||"location"} for ${n.reward||"reward"}`;if(n.name&&n.terrain)return`${s}: ${n.name} - ${n.terrain}, ${n.weather||""}`;if(n.name&&n.beast)return`${s}: ${n.name} - ${n.beast}`;if(n.result&&n.detail)return`${s}: ${n.result} - ${n.detail}`;if(n.result)return`${s}: ${n.result}`;const i=Object.keys(n).filter(l=>!l.includes("Roll")&&!l.includes("Triggered")&&typeof n[l]=="string");if(i.length>0){const l=i.map(d=>n[d]).filter(d=>d);return`${s}: ${l.join(" | ")}`}return`${s}: ${JSON.stringify(n)}`}function me({title:s,table:n,variant:i="cyan",diceType:l="d6",rollFunction:d=null,formatResult:h=null,setOracleResult:f=null}){const{addLog:y}=ht(),[g,p]=P.useState(null),v=()=>{let _;d?_=d():Array.isArray(n)?_=ma(n):_="Error: Invalid table";const x=h?h(_):_;p(x),f&&f(x);const w=JS(s,x);y(w,"oracle")};return c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm font-orbitron uppercase text-gray-300",children:s}),c.jsx("span",{className:"text-xs font-orbitron text-gray-500",children:l})]}),c.jsx(je,{onClick:v,variant:i==="cyan"?"ghost":i==="yellow"?"secondary":"danger",className:"w-full",children:"ROLL"}),g&&c.jsx(qn,{result:g,variant:i,className:"mt-3"})]})}function QS(){const{addLog:s}=ht(),[n,i]=P.useState(null),[l,d]=P.useState("detailed"),h=()=>{const p=NS();i(p),s(`Mission: ${p.type} ${p.goods} at ${p.spot} for ${p.reward}`,"mission")},f=()=>{const p=ES();i(p),s(`Quick Mission: ${p.action} ${p.target}`,"mission")},y=()=>{const p=kS();i(p),s(`Villain: ${p.villain} wants to ${p.goal} via ${p.plan} using ${p.means}`,"mission")},g=()=>{const p=ma(We.scenarios);i({result:p.title,detail:p.desc}),s(`Scenario: ${p.title}`,"mission")};return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-4 gap-1 sm:gap-2",children:[c.jsx("button",{onClick:()=>d("detailed"),className:`px-1 sm:px-2 py-1 text-[10px] sm:text-xs font-orbitron uppercase border-2 transition-colors leading-tight ${l==="detailed"?"bg-accent-cyan text-bg-primary border-accent-cyan":"bg-transparent text-accent-cyan border-accent-cyan hover:bg-accent-cyan hover:text-bg-primary"}`,children:"Detailed"}),c.jsx("button",{onClick:()=>d("quick"),className:`px-1 sm:px-2 py-1 text-[10px] sm:text-xs font-orbitron uppercase border-2 transition-colors leading-tight ${l==="quick"?"bg-accent-cyan text-bg-primary border-accent-cyan":"bg-transparent text-accent-cyan border-accent-cyan hover:bg-accent-cyan hover:text-bg-primary"}`,children:"Quick"}),c.jsx("button",{onClick:()=>d("villain"),className:`px-1 sm:px-2 py-1 text-[10px] sm:text-xs font-orbitron uppercase border-2 transition-colors leading-tight ${l==="villain"?"bg-accent-red text-bg-primary border-accent-red":"bg-transparent text-accent-red border-accent-red hover:bg-accent-red hover:text-bg-primary"}`,children:"Villain"}),c.jsx("button",{onClick:()=>d("scenario"),className:`px-1 sm:px-2 py-1 text-[10px] sm:text-xs font-orbitron uppercase border-2 transition-colors leading-tight ${l==="scenario"?"bg-accent-yellow text-bg-primary border-accent-yellow":"bg-transparent text-accent-yellow border-accent-yellow hover:bg-accent-yellow hover:text-bg-primary"}`,children:"Scenario"})]}),l==="detailed"&&c.jsx(je,{onClick:h,variant:"primary",className:"w-full",children:"Generate Detailed Mission"}),l==="quick"&&c.jsx(je,{onClick:f,variant:"primary",className:"w-full",children:"Generate Quick Mission"}),l==="villain"&&c.jsx(je,{onClick:y,variant:"danger",className:"w-full",children:"Generate Villain Plot"}),l==="scenario"&&c.jsx(je,{onClick:g,variant:"secondary",className:"w-full",children:"Generate Campaign Scenario"}),n&&c.jsx(qn,{result:n,variant:l==="villain"?"red":l==="scenario"?"yellow":"cyan"})]})}function XS(){const{addLog:s,gameState:n}=ht(),[i,l]=P.useState(null),d=()=>{const p=RS();l(p),s(`NPC: ${p.species} ${p.role} - ${p.demeanor}`,"mission")},h=()=>{const p=n.threatDie||1,v=DS(p);if(v.success){const _={theme:v.encounter.theme,actor:v.encounter.actor,themeRoll:v.encounter.themeRoll,actorRoll:v.encounter.actorRoll,checkRoll:v.checkRoll,total:v.total};l(_),s(`Travel Encounter Check [${v.checkRoll}] + [${p}] = ${v.total}   ${v.encounter.theme} - ${v.encounter.actor}`,"mission")}else{const _={result:"No Travel Encounter",detail:`Rolled [${v.checkRoll}] + [${p}] = ${v.total}, need 12+`,checkRoll:v.checkRoll,threatDie:p,total:v.total,success:!1};l(_),s(`Travel Encounter Check [${v.checkRoll}] + [${p}] = ${v.total}  No encounter`,"roll")}},f=()=>{const p=ma(dt.rebelContacts);l({result:"Rebel Contact",detail:p}),s(`Rebel Contact: ${p}`,"mission")},y=()=>{const p=ma(dt.weirdoAliens);l({result:"Weirdo Alien",detail:p}),s(`Weirdo Alien: ${p}`,"mission")},g=()=>{const p=ma(dt.reactions);l({result:"NPC Reaction",detail:p}),s(`Reaction: ${p}`,"roll")};return c.jsxs("div",{className:"space-y-4",children:[c.jsx(je,{onClick:d,variant:"primary",className:"w-full text-base py-3",children:"GENERATE FULL NPC"}),c.jsx("div",{className:"text-xs text-gray-400 text-center font-orbitron -mt-2",children:"Role  Species  Motivation  Secret  Trait  Demeanor"}),c.jsxs("div",{className:"pt-2 border-t border-accent-yellow/30",children:[c.jsx("div",{className:"text-xs text-gray-400 font-orbitron uppercase mb-2",children:"Quick Generators:"}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsx(je,{onClick:h,variant:"ghost",className:"text-xs py-2",children:"Travel Encounter"}),c.jsx(je,{onClick:g,variant:"ghost",className:"text-xs py-2",children:"Reaction"}),c.jsx(je,{onClick:f,variant:"secondary",className:"text-xs py-2",children:"Rebel Contact"}),c.jsx(je,{onClick:y,variant:"secondary",className:"text-xs py-2",children:"Weirdo Alien"})]})]}),i&&c.jsx(qn,{result:i,variant:"yellow"})]})}function ZS(){const{addLog:s}=ht(),[n,i]=P.useState(null),[l,d]=P.useState("planet"),h=()=>{const w=AS();i(w),s(`Planet: ${w.name} - ${w.terrain}, ${w.weather}`,"mission")},f=()=>{const w=CS();i(w),s(`Settlement: ${w.name} (Leader: ${w.leader}) - ${w.knownFor}`,"mission")},y=()=>{const w=OS();i({location:w.location,tone:w.tone,obstacle:w.obstacle,locationRoll:w.locationRoll,toneRoll:w.toneRoll,obstacleRoll:w.obstacleRoll}),s(`Scene: ${w.location} - ${w.tone} - ${w.obstacle}`,"mission")},g=()=>{const w=ma(ge.planetFeatures);i({result:"Planet Feature",detail:w}),s(`Planet Feature: ${w}`,"mission")},p=()=>{const w=ma(ge.backwaters);i({result:"Backwater Location",detail:w}),s(`Backwater: ${w}`,"mission")},v=()=>{const w=ma(ge.backalleys);i({result:"Back Alley Detail",detail:w}),s(`Back Alley: ${w}`,"mission")},_=()=>{const w=ma(ge.hiddenFeatures);i({result:"Hidden Feature",detail:w}),s(`Hidden Feature: ${w}`,"mission")},x=()=>{const w=ma(ge.locationDangers);i({result:"Location Danger",detail:w}),s(`Danger: ${w}`,"mission")};return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[c.jsx("button",{onClick:()=>d("planet"),className:`px-1 sm:px-2 py-1 text-[10px] sm:text-xs font-orbitron uppercase border-2 transition-colors leading-tight ${l==="planet"?"bg-accent-cyan text-bg-primary border-accent-cyan":"bg-transparent text-accent-cyan border-accent-cyan hover:bg-accent-cyan hover:text-bg-primary"}`,children:"Planet"}),c.jsx("button",{onClick:()=>d("settlement"),className:`px-1 sm:px-2 py-1 text-[10px] sm:text-xs font-orbitron uppercase border-2 transition-colors leading-tight ${l==="settlement"?"bg-accent-cyan text-bg-primary border-accent-cyan":"bg-transparent text-accent-cyan border-accent-cyan hover:bg-accent-cyan hover:text-bg-primary"}`,children:"Settlement"}),c.jsx("button",{onClick:()=>d("scene"),className:`px-1 sm:px-2 py-1 text-[10px] sm:text-xs font-orbitron uppercase border-2 transition-colors leading-tight ${l==="scene"?"bg-accent-cyan text-bg-primary border-accent-cyan":"bg-transparent text-accent-cyan border-accent-cyan hover:bg-accent-cyan hover:text-bg-primary"}`,children:"Scene"})]}),l==="planet"&&c.jsx(je,{onClick:h,variant:"primary",className:"w-full",children:"Generate Planet"}),l==="settlement"&&c.jsx(je,{onClick:f,variant:"primary",className:"w-full",children:"Generate Settlement"}),l==="scene"&&c.jsx(je,{onClick:y,variant:"primary",className:"w-full",children:"Generate Scene"}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsx(je,{onClick:g,variant:"ghost",className:"text-[10px] sm:text-xs py-2 px-2 leading-tight",children:"Planet Feature"}),c.jsx(je,{onClick:p,variant:"ghost",className:"text-[10px] sm:text-xs py-2 px-2 leading-tight",children:"Backwater"}),c.jsx(je,{onClick:v,variant:"ghost",className:"text-[10px] sm:text-xs py-2 px-2 leading-tight",children:"Back Alley"}),c.jsx(je,{onClick:_,variant:"secondary",className:"text-[10px] sm:text-xs py-2 px-2 leading-tight whitespace-nowrap overflow-hidden text-ellipsis",children:"Hidden Feature"}),c.jsx(je,{onClick:x,variant:"danger",className:"text-[10px] sm:text-xs py-2 px-2 col-span-2 leading-tight",children:"Location Danger"})]}),n&&c.jsx(qn,{result:n,variant:"cyan"})]})}function WS(){const{addLog:s}=ht(),[n,i]=P.useState(null),l=()=>{const d=MS();i(d),s(`Monster: ${d.name} - ${d.beast}`,"mission")};return c.jsxs("div",{className:"space-y-4",children:[c.jsx(je,{onClick:l,variant:"danger",className:"w-full",children:"GENERATE MONSTER"}),n&&c.jsx(qn,{result:n,variant:"red"})]})}function FS(){const{addLog:s}=ht(),[n,i]=P.useState(null),l=()=>{const d=BS();i(d),s(`Crime Lord: ${d.name}`,"mission")};return c.jsxs("div",{className:"space-y-4",children:[c.jsx(je,{onClick:l,variant:"danger",className:"w-full",children:"GENERATE CRIME LORD"}),n&&c.jsx(qn,{result:n,variant:"red"})]})}function e1(){const{addLog:s,gameState:n}=ht(),[i,l]=P.useState(null),[d,h]=P.useState(0),[f,y]=P.useState([]),[g,p]=P.useState(!1),v=()=>{const N=Y(20);let O,B,q;N<=10?(O="Small",B=Y(6)+2,q="d6+2"):N<=16?(O="Medium",B=Y(6)+5,q="d6+5"):(O="Large",B=Y(12)+5,q="d12+5");const H=B+1;l({size:O,sizeRoll:N,diceFormula:q,totalZones:H,baseZones:B}),h(1),y([]),p(!1),s(`Site generated: ${O} (${H} zones including Objective)`,"mission")},_=()=>{if(!i||g)return;const N=n.threatDie||1,O=xl(N),B={number:d,ship:O.ship,base:O.base,obstacleTriggered:O.obstacleTriggered,obstacle:O.obstacleTriggered?O.obstacle:null,threatRoll:O.threatRoll,threatTotal:O.threatTotal};y([...f,B]),d===i.totalZones?s(`OBJECTIVE ZONE reached! ${O.ship} / ${O.base}${O.obstacleTriggered?` - OBSTACLE: ${O.obstacle}`:""}`,"success"):s(`Zone ${d}: ${O.ship} / ${O.base}${O.obstacleTriggered?` - OBSTACLE: ${O.obstacle}`:""}`,"mission")},x=()=>{d<i.totalZones?h(d+1):(p(!0),s("Site exploration complete! Roll Escape Obstacle.","success"))},w=N=>{if(!i)return;const O=Y(N==="strong"?20:10),B=n.threatDie||1,q=xl(B);s(`Search (${N} hit) [${O}]: ${q.search}`,"roll")},A=()=>{const N=n.threatDie||1,O=xl(N);O.obstacleTriggered?s(`ESCAPE OBSTACLE: ${O.obstacle}`,"danger"):s("Escape: Clear path, no obstacles!","success")};return c.jsxs("div",{className:"space-y-4",children:[!i&&c.jsxs("div",{className:"text-center py-8 space-y-4",children:[c.jsx("div",{className:"text-accent-cyan/30 text-4xl mb-2",children:""}),c.jsx("p",{className:"text-gray-500 font-orbitron text-sm",children:"DANGEROUS LOCATION EXPLORER"}),c.jsx("p",{className:"text-gray-600 text-xs mb-4",children:"Procedurally explore ships, bases, and installations"}),c.jsxs(je,{onClick:v,variant:"primary",className:"flex items-center gap-2 mx-auto",children:[c.jsx(fg,{className:"w-4 h-4"}),"Generate Site"]})]}),i&&c.jsxs("div",{className:"border-3 border-accent-cyan bg-bg-secondary p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"font-orbitron font-bold text-accent-cyan text-lg",children:[i.size," Site"]}),c.jsxs("p",{className:"text-gray-400 text-xs",children:[i.totalZones," total zones (",i.diceFormula," + 1 Objective)"]})]}),c.jsx(je,{onClick:v,variant:"ghost",className:"text-xs",children:"New Site"})]}),c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(_p,{className:"w-4 h-4 text-accent-cyan"}),c.jsx("div",{className:"flex-1 flex gap-1",children:Array.from({length:i.totalZones}).map((N,O)=>{const B=O+1,q=f.some(le=>le.number===B),H=B===d,Q=B===i.totalZones;return c.jsx("div",{className:`flex-1 h-2 border transition-all ${q?"bg-accent-cyan border-accent-cyan":H?"bg-accent-yellow border-accent-yellow animate-pulse":"bg-transparent border-accent-cyan/30"} ${Q?"border-2":"border"}`},O)})}),c.jsxs("span",{className:"text-accent-cyan font-orbitron font-bold text-sm",children:[d,"/",i.totalZones]})]}),!g&&c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsxs(je,{onClick:_,variant:"primary",className:"flex items-center gap-2 justify-center text-sm",disabled:f.some(N=>N.number===d),children:[c.jsx(_p,{className:"w-4 h-4"}),"Explore Zone ",d]}),c.jsxs(je,{onClick:x,variant:"secondary",className:"flex items-center gap-2 justify-center text-sm",disabled:!f.some(N=>N.number===d),children:["Next Zone",c.jsx(Nw,{className:"w-4 h-4"})]})]}),g&&c.jsxs(je,{onClick:A,variant:"danger",className:"w-full flex items-center gap-2 justify-center",children:[c.jsx(Jr,{className:"w-4 h-4"}),"Roll Escape Obstacle"]})]}),i&&f.some(N=>N.number===d)&&c.jsxs("div",{className:"border-2 border-accent-cyan bg-bg-primary p-4",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(mS,{className:`w-5 h-5 ${d===i.totalZones?"text-accent-yellow":"text-accent-cyan"}`}),c.jsx("h4",{className:"font-orbitron font-bold text-accent-cyan",children:d===i.totalZones?"OBJECTIVE ZONE":`Zone ${d}`})]}),f.filter(N=>N.number===d).map((N,O)=>c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"Ship Feature:"}),c.jsx("p",{className:"text-text-primary font-orbitron",children:N.ship})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"Base Feature:"}),c.jsx("p",{className:"text-text-primary font-orbitron",children:N.base})]})]}),c.jsxs("div",{className:`border-2 p-2 ${N.obstacleTriggered?"border-accent-red bg-accent-red/10":"border-accent-cyan/30"}`,children:[c.jsx("div",{className:"flex items-center gap-2 mb-1",children:c.jsxs("span",{className:"text-xs text-gray-400",children:["Obstacle Check: [",N.threatRoll,"] + Threat = ",N.threatTotal]})}),N.obstacleTriggered?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Jr,{className:"w-4 h-4 text-accent-red"}),c.jsx("span",{className:"font-orbitron font-bold text-accent-red uppercase text-sm",children:N.obstacle})]}):c.jsx("p",{className:"text-gray-400 text-sm",children:"No obstacle (need 12+)"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-400 text-xs mb-2",children:"Search Zone:"}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsxs("button",{onClick:()=>w("strong"),className:"px-3 py-2 bg-transparent border-2 border-accent-cyan text-accent-cyan hover:bg-accent-cyan hover:text-bg-primary transition-all font-orbitron text-xs flex items-center gap-1 justify-center",children:[c.jsx(jp,{className:"w-3 h-3"}),"Strong Hit (d20)"]}),c.jsxs("button",{onClick:()=>w("weak"),className:"px-3 py-2 bg-transparent border-2 border-accent-yellow text-accent-yellow hover:bg-accent-yellow hover:text-bg-primary transition-all font-orbitron text-xs flex items-center gap-1 justify-center",children:[c.jsx(jp,{className:"w-3 h-3"}),"Weak Hit (d10)"]})]})]})]},O))]}),f.length>1&&c.jsxs("div",{className:"border-t-2 border-accent-cyan/30 pt-3",children:[c.jsx("h4",{className:"text-accent-cyan/70 font-orbitron text-xs uppercase mb-2",children:"Previous Zones:"}),c.jsx("div",{className:"space-y-1",children:f.filter(N=>N.number!==d).map(N=>c.jsxs("div",{className:"text-xs text-gray-500 font-orbitron",children:["Zone ",N.number,": ",N.ship," / ",N.base,N.obstacleTriggered&&c.jsxs("span",{className:"text-accent-red ml-2",children:["(",N.obstacle,")"]})]},N.number))})]})]})}function it({title:s,children:n,defaultOpen:i=!1}){const[l,d]=P.useState(i);return c.jsxs("div",{className:"border-3 border-accent-yellow mb-2",children:[c.jsxs("button",{onClick:()=>d(!l),className:"w-full px-4 py-3 flex items-center justify-between bg-transparent hover:bg-accent-yellow hover:text-bg-primary transition-all duration-200 font-orbitron font-bold uppercase text-sm active:scale-[0.99]",children:[c.jsx("span",{children:s}),c.jsx(Ow,{className:X("w-5 h-5 transition-all duration-300",l&&"transform rotate-180")})]}),l&&c.jsx("div",{className:"p-4 bg-bg-primary border-t-3 border-accent-yellow accordion-reveal overflow-hidden",children:n})]})}function t1(){const[s,n]=P.useState("core"),[i,l]=P.useState(null),{addLog:d}=ht(),h=()=>i?i.result==="Scene Shakeup"?"yellow":i.verb?"red":"cyan":"cyan",f=[{id:"core",label:"Core",color:"cyan"},{id:"missions",label:"Missions",color:"yellow"},{id:"world",label:"World",color:"cyan"},{id:"characters",label:"Characters",color:"yellow"},{id:"combat",label:"Combat",color:"red"},{id:"creation",label:"Creation",color:"cyan"}],y={cyan:{active:"bg-accent-cyan text-bg-primary border-accent-cyan",inactive:"bg-transparent text-accent-cyan border-accent-cyan hover:bg-accent-cyan hover:text-bg-primary"},yellow:{active:"bg-accent-yellow text-bg-primary border-accent-yellow",inactive:"bg-transparent text-accent-yellow border-accent-yellow hover:bg-accent-yellow hover:text-bg-primary"},red:{active:"bg-accent-red text-bg-primary border-accent-red",inactive:"bg-transparent text-accent-red border-accent-red hover:bg-accent-red hover:text-bg-primary"}};return c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"border-3 border-accent-cyan bg-bg-secondary p-3",children:c.jsx(IS,{setOracleResult:l})}),i&&c.jsx(qn,{result:i,variant:h()}),c.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-6 gap-1",children:f.map(g=>c.jsx("button",{onClick:()=>n(g.id),className:X("px-1 sm:px-2 py-2 border-2 transition-all font-orbitron font-bold uppercase text-[10px] sm:text-xs leading-tight",s===g.id?y[g.color].active:y[g.color].inactive),children:g.label},g.id))}),c.jsxs("div",{className:"border-3 border-accent-yellow bg-bg-secondary p-4 overflow-y-auto flex-1",children:[s==="core"&&c.jsx(a1,{}),s==="missions"&&c.jsx(n1,{}),s==="world"&&c.jsx(s1,{}),s==="characters"&&c.jsx(r1,{}),s==="combat"&&c.jsx(i1,{}),s==="creation"&&c.jsx(l1,{})]})]})}function Lr({morale:s,label:n,onCheck:i}){const[l,d]=P.useState(null),h=()=>{const f=i(s);d(f),setTimeout(()=>d(null),3e3)};return c.jsxs("button",{onClick:h,className:"w-full px-3 py-2 bg-transparent border-2 border-accent-red text-accent-red hover:bg-accent-red hover:text-bg-primary transition-all font-orbitron text-sm flex items-center justify-between",children:[c.jsx("span",{children:n}),l&&c.jsx("span",{className:l.success?"text-accent-yellow font-bold":"text-accent-cyan",children:l.success?l.result:"HOLDS"})]})}function a1(){return c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"text-accent-cyan font-orbitron text-lg font-bold uppercase mb-4",children:"Core Solo Play Oracles"}),c.jsx(it,{title:"Opening Scene (d20)",defaultOpen:!1,children:c.jsx(me,{title:"Opening Scene",table:Ze.openingScene,variant:"cyan",diceType:"d20"})}),c.jsx(it,{title:"Crit & Blunder (d4)",defaultOpen:!1,children:c.jsxs("div",{className:"space-y-4",children:[c.jsx(me,{title:"Critical Hit Effect",table:Ze.critBlunder.crit,variant:"cyan",diceType:"d4"}),c.jsx(me,{title:"Blunder Effect",table:Ze.critBlunder.blunder,variant:"red",diceType:"d4"})]})}),c.jsx(it,{title:"Broken (When HP Hits 0)",defaultOpen:!1,children:c.jsx(me,{title:"Roll D4 When Broken",table:hn.broken.map(s=>s.result),variant:"red",diceType:"d4"})}),c.jsx(it,{title:"Visual Oracle / Boost (d20)",defaultOpen:!1,children:c.jsx(me,{title:"Inspiration Prompt",table:_S.boost,variant:"yellow",diceType:"d20"})})]})}function n1(){const{addLog:s}=ht(),n=()=>{const l=zS(),d=`${l.col1} ${l.col2} ${l.col3} ${l.col4}`;return s(`Epic Title [${l.col1Roll}, ${l.col2Roll}, ${l.col3Roll}, ${l.col4Roll}]: ${d}`,"mission"),{result:"Campaign Title",titleType:"epic",...l}},i=()=>{const l=US(),d=`${l.col1} ${l.col2} ${l.col3} ${l.col4}`;return s(`Episode Title [${l.col1Roll}, ${l.col2Roll}, ${l.col3Roll}, ${l.col4Roll}]: ${d}`,"mission"),{result:"Episode Title",titleType:"episode",...l}};return c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"text-accent-yellow font-orbitron text-lg font-bold uppercase mb-4",children:"Mission & Plot Generators"}),c.jsx(it,{title:"Mission Generator",defaultOpen:!0,children:c.jsx(QS,{})}),c.jsx(it,{title:"Pre-Made Scenarios (d6)",defaultOpen:!1,children:c.jsx(me,{title:"Campaign Scenario",table:We.scenarios,variant:"yellow",diceType:"d6",formatResult:l=>({result:l.title,detail:l.desc})})}),c.jsx(it,{title:"Title Generators",defaultOpen:!1,children:c.jsxs("div",{className:"space-y-4",children:[c.jsx(me,{title:"Epic Campaign Title",table:[],variant:"yellow",diceType:"4d6",rollFunction:n}),c.jsx(me,{title:"Episode/Session Title",table:[],variant:"cyan",diceType:"4d6",rollFunction:i})]})})]})}function s1(){const{gameState:s}=ht();return c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"text-accent-cyan font-orbitron text-lg font-bold uppercase mb-4",children:"World Building & Locations"}),c.jsx(it,{title:"World Generator",defaultOpen:!0,children:c.jsx(ZS,{})}),c.jsx(it,{title:"Obstacles & Mishaps",defaultOpen:!1,children:c.jsxs("div",{className:"space-y-4",children:[c.jsx(me,{title:"Urgent Obstacle",table:ge.urgentObstacles,variant:"red",diceType:"d6"}),c.jsx(me,{title:"General Mishap",table:ge.generalMishaps,variant:"yellow",diceType:"d6",formatResult:n=>({roll:n.roll,result:n.title,detail:n.desc})}),c.jsx(me,{title:"Space Obstacle",table:ge.spaceObstacles,variant:"cyan",diceType:"d6"}),c.jsx(me,{title:"Hyperspace Mishap",table:ge.hyperspaceMishaps,variant:"red",diceType:"d6"})]})}),c.jsx(it,{title:"Site Explorer (Dangerous Locations)",defaultOpen:!1,children:c.jsx(e1,{})}),c.jsx(it,{title:"Dangerous Location Quick Roll",defaultOpen:!1,children:c.jsx(me,{title:"Ship/Base Location",table:[],variant:"cyan",diceType:"d20",rollFunction:()=>xl(s.threatDie||1)})})]})}function r1(){const{addLog:s}=ht();return c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"text-accent-yellow font-orbitron text-lg font-bold uppercase mb-4",children:"Characters & Names"}),c.jsx(it,{title:"NPC Generator",defaultOpen:!0,children:c.jsx(XS,{})}),c.jsx(it,{title:"Name Generators",defaultOpen:!1,children:c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsx(me,{title:"Baseline Name",table:gt.baselineFirst,variant:"yellow",diceType:"d10"}),c.jsx(me,{title:"Family Name",table:gt.familyNames,variant:"yellow",diceType:"d10"}),c.jsx(me,{title:"Bot Name",table:gt.botNames,variant:"cyan",diceType:"d10"}),c.jsx(me,{title:"Ship Name",table:gt.shipNames,variant:"cyan",diceType:"d10"}),c.jsx(me,{title:"Planet Name",table:gt.planetNames,variant:"cyan",diceType:"d20"}),c.jsx(me,{title:"Settlement Name",table:gt.settlementNames,variant:"cyan",diceType:"d10"}),c.jsx(me,{title:"Legionary Name",table:gt.legionaryNames,variant:"red",diceType:"d10"}),c.jsx(me,{title:"Bounty Hunter",table:gt.bountyHunterNames,variant:"red",diceType:"d8"}),c.jsx(me,{title:"Crime Lord",table:gt.crimeLordNames,variant:"red",diceType:"d10"}),c.jsx(me,{title:"Pirate Crew",table:gt.pirateCrewNames,variant:"red",diceType:"d10"})]})})]})}function i1(){const{addLog:s}=ht(),n=i=>{const l=Y(6),d=Y(6),h=l+d;if(h>i){const g=Y(6)<=4?"FLEES":"SURRENDERS";return s(`Morale Check [${l}, ${d}] = ${h} vs ${i}  FAIL! Enemy ${g}`,"danger"),{success:!0,total:h,result:g}}else return s(`Morale Check [${l}, ${d}] = ${h} vs ${i}  Holds firm`,"roll"),{success:!1,total:h}};return c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"text-accent-red font-orbitron text-lg font-bold uppercase mb-4",children:"Combat & Enemies"}),c.jsx(it,{title:"Morale Check (2D6)",defaultOpen:!1,children:c.jsxs("div",{className:"space-y-3",children:[c.jsx("p",{className:"text-gray-300 text-sm mb-3",children:"Roll when: Leader killed, Half group eliminated, or Single enemy at 1/3 HP"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Lr,{morale:6,label:"MRL 6 (Foot Soldiers)",onCheck:n}),c.jsx(Lr,{morale:7,label:"MRL 7 (Pirates, Minions)",onCheck:n}),c.jsx(Lr,{morale:8,label:"MRL 8 (Squad, Gangsters)",onCheck:n}),c.jsx(Lr,{morale:9,label:"MRL 9 (Officer, Beasts)",onCheck:n}),c.jsx(Lr,{morale:10,label:"MRL 10 (Elite, Leaders)",onCheck:n})]}),c.jsx("p",{className:"text-gray-400 text-xs mt-3",children:"Success (roll > MRL): Roll d6  1-4 Flees, 5-6 Surrenders"})]})}),c.jsx(it,{title:"Enemy Generators",defaultOpen:!0,children:c.jsxs("div",{className:"space-y-4",children:[c.jsx(WS,{}),c.jsx("div",{className:"border-t-2 border-accent-red/30"}),c.jsx(FS,{})]})}),c.jsx(it,{title:"Enemy Reference",defaultOpen:!1,children:c.jsxs("div",{className:"space-y-3",children:[c.jsx("div",{className:"text-sm font-orbitron text-accent-cyan uppercase mb-2",children:"Personnel"}),Ep.personnel.map((i,l)=>c.jsxs("div",{className:"border-2 border-accent-red p-2 bg-bg-primary",children:[c.jsx("div",{className:"text-accent-red font-orbitron font-bold",children:i.name}),c.jsxs("div",{className:"grid grid-cols-2 gap-1 text-xs text-gray-300 mt-1",children:[c.jsxs("div",{children:["HP: ",i.hp]}),c.jsxs("div",{children:["Morale: ",i.morale]}),c.jsxs("div",{children:["Armor: ",i.armor]}),c.jsxs("div",{children:["Weapon: ",i.weapon]}),c.jsx("div",{className:"col-span-2 text-gray-400",children:i.notes})]})]},l)),c.jsx("div",{className:"text-sm font-orbitron text-accent-cyan uppercase mt-4 mb-2",children:"Monsters"}),Ep.monsters.map((i,l)=>c.jsxs("div",{className:"border-2 border-accent-red p-2 bg-bg-primary",children:[c.jsx("div",{className:"text-accent-red font-orbitron font-bold",children:i.name}),c.jsxs("div",{className:"grid grid-cols-2 gap-1 text-xs text-gray-300 mt-1",children:[c.jsxs("div",{children:["HP: ",i.hp]}),c.jsxs("div",{children:["Morale: ",i.morale]}),c.jsxs("div",{children:["Armor: ",i.armor]}),c.jsxs("div",{children:["Weapon: ",i.weapon]}),c.jsx("div",{className:"col-span-2 text-gray-400",children:i.notes})]})]},l))]})}),c.jsx(it,{title:"Equipment & Loot",defaultOpen:!1,children:c.jsxs("div",{className:"space-y-4",children:[c.jsx(me,{title:"Melee Weapon",table:cu.meleeWeapons,variant:"cyan",diceType:"d10"}),c.jsx(me,{title:"Ranged Weapon",table:cu.rangedWeapons,variant:"cyan",diceType:"d6"}),c.jsx(me,{title:"General Gear",table:cu.gear,variant:"cyan",diceType:"d8"}),c.jsx(me,{title:"Space Junk",table:SS.spaceJunk,variant:"yellow",diceType:"d8"})]})})]})}function l1(){return c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"text-accent-cyan font-orbitron text-lg font-bold uppercase mb-4",children:"Character Creation"}),c.jsx(it,{title:"Starting Character",defaultOpen:!0,children:c.jsxs("div",{className:"space-y-4",children:[c.jsx(me,{title:"Galactic Species",table:hn.galacticSpecies,variant:"cyan",diceType:"d10"}),c.jsx(me,{title:"Rebel Motivation",table:hn.rebelMotivations,variant:"yellow",diceType:"d10"}),c.jsx(me,{title:"Nick (Special Item)",table:hn.nicks,variant:"yellow",diceType:"d6"}),c.jsx(me,{title:"Knack (Special Ability)",table:hn.knacks,variant:"cyan",diceType:"d6"})]})}),c.jsx(it,{title:"Starting Gear (Bobs)",defaultOpen:!1,children:c.jsxs("div",{className:"space-y-4",children:[c.jsx(me,{title:"Starting Weapon",table:hn.bobsWeapons,variant:"red",diceType:"d6"}),c.jsx(me,{title:"Starting Gear",table:hn.bobsGear,variant:"cyan",diceType:"d6"}),c.jsx(me,{title:"Starting Armor",table:hn.bobsArmor,variant:"yellow",diceType:"d6"})]})}),c.jsx(it,{title:"Class Tables",defaultOpen:!1,children:c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"text-sm font-orbitron text-accent-cyan uppercase",children:"Bot"}),c.jsx(me,{title:"Bot Function",table:dn.botFunctions,variant:"cyan",diceType:"d6"}),c.jsx(me,{title:"Bot Malfunction",table:dn.botMalfunctions,variant:"red",diceType:"d6"}),c.jsx(me,{title:"Bot Mod",table:dn.botMods,variant:"yellow",diceType:"d6"}),c.jsx("div",{className:"text-sm font-orbitron text-accent-cyan uppercase mt-4",children:"Bounty Hunter"}),c.jsx(me,{title:"Bounty Hunter Skill",table:dn.bountyHunterSkills,variant:"cyan",diceType:"d6"}),c.jsx(me,{title:"Soft Spot",table:dn.bountyHunterSoftSpots,variant:"yellow",diceType:"d6"}),c.jsx("div",{className:"text-sm font-orbitron text-accent-cyan uppercase mt-4",children:"Other Classes"}),c.jsx(me,{title:"Magi Art",table:dn.magiArts,variant:"cyan",diceType:"d4"}),c.jsx(me,{title:"Smuggler Trick",table:dn.smugglerTricks,variant:"cyan",diceType:"d6"}),c.jsx(me,{title:"Technician Scratch Build",table:dn.technicianScratchBuilds,variant:"yellow",diceType:"d6"})]})})]})}function o1(){return c.jsx(t1,{})}const c1={threatDie:{title:"Threat Die",description:"The Threat Die (TD) is used to ramp up the general sense of 'heat' or 'pressure' against your Rebel. Use a D6 (preferably of a different color from your other dice) to represent your TD. It starts at 1 and can increase to 6.",sections:[{heading:"Increase the Threat Die When...",type:"info",items:["A new threat presents itself or you begin a new Danger Clock.","Roll a Blunder.","Begin an Escape from a Dangerous Location."]},{heading:"Decrease the Threat Die When...",type:"success",items:["Complete a Mission Track or Resolve a Danger Clock.","Roll a Critical.","Your Rebel has a moment to catch their breath in a safe or hidden location."]},{heading:"When the Threat Die Reaches 6...",type:"danger",items:["Advance all Danger Clocks by one.","Or completely fill a single Danger Clock."],note:"This is a critical moment! The pressure has built to maximum. Choose one of the two options above, then reset the Threat Die as appropriate."}]},missionTracks:{title:"Mission Tracks",description:"Mission Tracks are a helpful way of keeping track of your Rebel's progress on their current missions. Some tracks will be long-term, some average length, and others very short. Each has a number of tracking boxes and a Difficulty Rating (DR).",sections:[{heading:"Setting Up a Mission",type:"info",items:["Decide on length/difficulty of the mission and draw the check boxes.","SHORT / EASY - four boxes - DR10","AVERAGE / NORMAL - six boxes - DR12","LONG / DIFFICULT - eight boxes - DR14","GALAXY SAVING - ten boxes - DR16"]},{heading:"Making Progress",type:"info",items:["Each time you make progress in the mission, check off one box.","It is up to you as the Player/GM to decide what constitutes progress.","If you've rolled a Strong Hit in a relevant Test, filling in two progress boxes would be appropriate."]},{heading:"Completing Missions",type:"success",content:"You may attempt to complete a mission at any point (even before the track is filled) by making a Progress Test: Roll D20 + Current Progress against the Mission's DR.",items:["SUCCESS - You've completed the mission.","FAIL - You're not done yet. Remove 1 progress and increase TD by 1."]},{heading:"Example Missions",type:"info",examples:[{type:"Long",description:"Revenge on the one who killed your family; re-stealing the ship you gambled away; corrupting a government official; building a hidden base."},{type:"Average",description:"Repairing a badly damaged bot; delivering contraband; building a Blazer Sword."},{type:"Short",description:"Dismantling a rival's ship; hacking into a console; navigating an asteroid field."}]}]},dangerClocks:{title:"Danger Clocks",description:"Danger Clocks function much like Mission Tracks, but operate for the wider world against your Rebel. When something in the world presents itself that directly opposes your Rebel's existence, start a Danger Clock for it. Clocks are broken into 4, 6, 8, or 10 segments.",sections:[{heading:"Advance the Danger Clock When...",type:"danger",items:["Fail a Test related to the Clock (even if you use a Destiny Point to reroll).","Roll a Scene Shakeup or new Event.","Enter a new scene with an unresolved Danger Clock."]},{heading:"Resolving a Danger Clock",type:"danger",content:"When a Clock is filled, the result happens. Reserve Danger Clocks for events that will present very challenging situations.",items:["When a Clock is filled, the consequence occurs immediately.","When a Mission is completed and danger is avoided, remove the Danger Clock, regardless of how far along it has progressed."]},{heading:"Example Danger Clocks",type:"info",examples:[{segments:4,description:"Legionary reinforcements are on the way"},{segments:6,description:"The reactor core is overheating"},{segments:8,description:"The ion storm rages around your ship"},{segments:10,description:"An Elite Bounty Hunter is hunting you down"}]}]}};function u1({isOpen:s,onClose:n,initialTab:i="threatDie"}){const l=[{id:"threatDie",label:"Threat Die",icon:""},{id:"missionTracks",label:"Mission Tracks",icon:""},{id:"dangerClocks",label:"Danger Clocks",icon:""}],[d,h]=P.useState(i);if(P.useEffect(()=>{if(!s)return;const p=v=>{v.key==="Escape"&&n()};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[s,n]),P.useEffect(()=>(s?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[s]),!s)return null;const f=c1[d],y=p=>{switch(p){case"danger":return c.jsx(Jr,{className:"w-5 h-5 text-accent-red"});case"success":return c.jsx(hg,{className:"w-5 h-5 text-accent-cyan"});default:return c.jsx(Qw,{className:"w-5 h-5 text-accent-yellow"})}},g=p=>{switch(p){case"danger":return"border-accent-red";case"success":return"border-accent-cyan";default:return"border-accent-yellow"}};return c.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-end",children:[c.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:n}),c.jsxs("div",{className:"relative w-full max-w-[420px] h-full bg-bg-primary border-l-3 border-accent-cyan flex flex-col slide-in-right shadow-2xl",children:[c.jsx("div",{className:"absolute inset-0 pointer-events-none scanlines opacity-30"}),c.jsxs("div",{className:"relative z-10 flex items-center justify-between px-6 py-4 border-b-3 border-accent-cyan bg-bg-secondary",children:[c.jsx("h2",{className:"font-orbitron font-bold text-xl text-accent-cyan uppercase",children:"Game Help"}),c.jsx("button",{onClick:n,className:"p-2 hover:bg-accent-cyan hover:text-bg-primary transition-all duration-200 border-2 border-accent-cyan","aria-label":"Close help",children:c.jsx(Ou,{className:"w-5 h-5"})})]}),c.jsx("div",{className:"relative z-10 flex border-b-3 border-accent-cyan bg-bg-secondary",children:l.map(p=>c.jsxs("button",{onClick:()=>h(p.id),className:`flex-1 px-3 py-3 font-orbitron text-xs uppercase transition-all duration-200 border-r-2 last:border-r-0 ${d===p.id?"bg-accent-cyan text-bg-primary font-bold":"bg-transparent text-text-primary hover:bg-accent-cyan/20 border-accent-cyan"}`,children:[c.jsx("span",{className:"block text-lg mb-1",children:p.icon}),c.jsx("span",{className:"block leading-tight",children:p.label})]},p.id))}),c.jsxs("div",{className:"relative z-10 flex-1 overflow-y-auto p-6 space-y-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-orbitron font-bold text-2xl text-accent-yellow mb-3",children:f.title}),c.jsx("p",{className:"text-text-primary leading-relaxed",children:f.description})]}),f.sections.map((p,v)=>c.jsxs("div",{className:`border-3 ${g(p.type)} p-4 space-y-3 bg-bg-secondary/50`,children:[c.jsxs("div",{className:"flex items-start gap-3",children:[y(p.type),c.jsx("h4",{className:"font-orbitron font-bold text-lg text-accent-cyan uppercase flex-1",children:p.heading})]}),p.content&&c.jsx("p",{className:"text-text-primary leading-relaxed pl-8",children:p.content}),p.items&&c.jsx("ul",{className:"space-y-2 pl-8",children:p.items.map((_,x)=>c.jsxs("li",{className:"text-text-primary leading-relaxed flex items-start gap-2",children:[c.jsx("span",{className:"text-accent-yellow mt-1",children:""}),c.jsx("span",{className:"flex-1",children:_})]},x))}),p.examples&&c.jsx("div",{className:"space-y-3 pl-8",children:p.examples.map((_,x)=>c.jsxs("div",{className:"text-text-primary",children:[_.type&&c.jsxs("span",{className:"font-orbitron font-bold text-accent-yellow",children:[_.type,":"," "]}),_.segments&&c.jsxs("span",{className:"font-orbitron font-bold text-accent-red",children:[_.segments," Segments:"," "]}),c.jsx("span",{className:"text-gray-300",children:_.description})]},x))}),p.note&&c.jsx("div",{className:"pl-8 pt-2 border-t-2 border-accent-yellow/30 mt-3",children:c.jsx("p",{className:"text-accent-yellow italic text-sm leading-relaxed",children:p.note})})]},v))]}),c.jsx("div",{className:"relative z-10 px-6 py-3 border-t-3 border-accent-cyan bg-bg-secondary text-center",children:c.jsxs("p",{className:"text-gray-500 text-xs font-orbitron uppercase",children:["Press ",c.jsx("span",{className:"text-accent-cyan",children:"ESC"})," to close"]})})]})]})}const Cp="star-dashborg-panel-order",d1=[{id:"threat-die",component:"ThreatDie",title:"Threat Die",variant:"red",column:"left"},{id:"mission-tracks",component:"MissionTrack",title:"Mission Tracks",variant:"cyan",column:"left"},{id:"danger-clocks",component:"DangerClock",title:"Danger Clocks",variant:"red",column:"left"},{id:"dice-roller",component:"DiceRoller",title:"Dice Roller",variant:"yellow",column:"center"},{id:"ship-log",component:"DiceLog",title:"Ship Log",variant:"cyan",column:"center"},{id:"oracle-compendium",component:"OraclePanel",title:"Oracle Compendium",variant:"yellow",column:"right"},{id:"session-journal",component:"SessionJournal",title:"Session Journal",variant:"cyan",column:"right"}];function h1({roomCode:s}){const[n,i]=P.useState(()=>{const J=localStorage.getItem(Cp);return J?JSON.parse(J):d1}),[l,d]=P.useState(null),[h,f]=P.useState(null),[y,g]=P.useState(null),[p,v]=P.useState(!1),[_,x]=P.useState("threatDie");P.useEffect(()=>{localStorage.setItem(Cp,JSON.stringify(n))},[n]),P.useEffect(()=>{const J=Re=>{(Re.key==="h"||Re.key==="H"||Re.key==="?")&&!["INPUT","TEXTAREA"].includes(document.activeElement.tagName)&&(Re.preventDefault(),v(!0))};return document.addEventListener("keydown",J),()=>document.removeEventListener("keydown",J)},[]);const w=(J,Re)=>{d(Re),J.dataTransfer.effectAllowed="move"},A=(J,Re)=>{J.preventDefault(),l!==Re&&f(Re)},N=(J,Re)=>{if(J.preventDefault(),l===Re){d(null),f(null),g(null);return}const Ke=n.findIndex(M=>M.id===l),Ce=n.findIndex(M=>M.id===Re),lt=n[Ce],Ie=[...n],[Le]=Ie.splice(Ke,1);Le.column=lt.column,Ie.splice(Ce,0,Le),i(Ie),d(null),f(null),g(null)},O=()=>{d(null),f(null),g(null)},B=(J,Re)=>{J.preventDefault(),g(Re)},q=(J,Re)=>{if(J.preventDefault(),!l){g(null);return}const Ke=n.findIndex(Ie=>Ie.id===l),Ce=[...n],[lt]=Ce.splice(Ke,1);lt.column=Re,Ce.push(lt),i(Ce),d(null),f(null),g(null)},H=J=>{x(J),v(!0)},Q=J=>{const Re={ThreatDie:c.jsx(wS,{}),MissionTrack:c.jsx(LS,{}),DangerClock:c.jsx($S,{}),DiceRoller:c.jsx(PS,{}),DiceLog:c.jsx(GS,{}),OraclePanel:c.jsx(o1,{}),SessionJournal:c.jsx(VS,{})},Ke=l===J.id,Ce=h===J.id;let lt,Ie;return J.component==="DiceLog"?lt="max-h-[450px]":J.component==="SessionJournal"?Ie="min-h-[350px]":J.component==="OraclePanel"&&(lt="max-h-[600px]"),c.jsxs("div",{className:"relative",children:[Ce&&c.jsx("div",{className:"absolute -top-3 left-0 right-0 h-1 bg-accent-cyan rounded-full shadow-lg shadow-accent-cyan/50 z-50 animate-pulse"}),c.jsx("div",{draggable:!0,onDragStart:Le=>w(Le,J.id),onDragOver:Le=>A(Le,J.id),onDrop:Le=>N(Le,J.id),onDragEnd:O,className:`cursor-move transition-all duration-200 mb-4 lg:mb-6 last:mb-0 ${Ke?"opacity-40 scale-95":""} ${Ce?"ring-2 ring-accent-cyan ring-offset-2 ring-offset-bg-primary":""}`,children:c.jsx(xS,{title:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Iw,{className:"w-4 h-4 opacity-50"}),c.jsx("span",{children:J.title})]}),variant:J.variant,maxHeightExpanded:lt,minHeightExpanded:Ie,onHelpClick:J.id==="threat-die"?()=>H("threatDie"):J.id==="mission-tracks"?()=>H("missionTracks"):J.id==="danger-clocks"?()=>H("dangerClocks"):void 0,children:Re[J.component]})})]},J.id)},le=n.filter(J=>J.column==="left"),se=n.filter(J=>J.column==="center"),te=n.filter(J=>J.column==="right"),Z=J=>{const Re=y===J&&l;return c.jsx("div",{onDragOver:Ke=>B(Ke,J),onDrop:Ke=>q(Ke,J),className:`hidden lg:block lg:min-h-[100px] flex-1 transition-all duration-200 border-2 border-dashed rounded ${Re?"border-accent-cyan bg-accent-cyan/10":"border-transparent"}`})};return c.jsxs("div",{className:"min-h-screen bg-bg-primary scanlines flex flex-col",children:[c.jsx(vS,{roomCode:s}),c.jsxs("div",{className:"flex-1 p-4 space-y-4 lg:space-y-0 lg:grid lg:grid-cols-12 lg:gap-6 overflow-hidden",children:[c.jsxs("div",{className:"space-y-4 lg:contents lg:block lg:col-span-3 lg:space-y-6 lg:flex lg:flex-col",children:[le.map(Q),Z("left")]}),c.jsxs("div",{className:"space-y-4 lg:contents lg:block lg:col-span-3 lg:space-y-6 lg:flex lg:flex-col",children:[se.map(Q),Z("center")]}),c.jsxs("div",{className:"space-y-4 lg:contents lg:block lg:col-span-6 lg:space-y-6 lg:flex lg:flex-col",children:[te.map(Q),Z("right")]})]}),c.jsx(u1,{isOpen:p,onClose:()=>v(!1),initialTab:_})]})}function f1(){const[s,n]=P.useState(null),[i,l]=P.useState(!0),[d,h]=P.useState(null);return P.useEffect(()=>{async function f(){try{let g=bw();if(g){const{data:p,error:v}=await $s.from("sessions").select("room_code").eq("room_code",g).single();if(v&&v.code==="PGRST116")await y(g);else if(v)throw v;n(g)}else g=ug(),await y(g),vw(g),n(g)}catch(g){console.error("Error initializing room:",g),h(g.message)}finally{l(!1)}}async function y(g){const{error:p}=await $s.from("sessions").insert({room_code:g,game_state:{threatDie:1,missions:[],dangerClocks:[],journal:"",log:[]}});if(p&&p.code!=="23505")throw p}f()},[]),i?c.jsx("div",{className:"min-h-screen bg-bg-primary flex items-center justify-center scanlines",children:c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx("div",{className:"text-accent-cyan text-3xl font-orbitron text-glow-cyan typewriter",children:"INITIALIZING SESSION"}),c.jsxs("div",{className:"flex justify-center gap-1",children:[c.jsx("span",{className:"w-2 h-2 bg-accent-cyan rounded-full animate-pulse",style:{animationDelay:"0ms"}}),c.jsx("span",{className:"w-2 h-2 bg-accent-cyan rounded-full animate-pulse",style:{animationDelay:"150ms"}}),c.jsx("span",{className:"w-2 h-2 bg-accent-cyan rounded-full animate-pulse",style:{animationDelay:"300ms"}})]}),c.jsxs("div",{className:"text-accent-yellow/50 text-sm font-mono mt-6",children:[">"," Establishing secure connection...",c.jsx("br",{}),">"," Loading rebel systems...",c.jsx("br",{}),">"," Syncing mission data..."]})]})}):d?c.jsx("div",{className:"min-h-screen bg-bg-primary flex items-center justify-center",children:c.jsxs("div",{className:"text-accent-red text-2xl font-orbitron text-glow-red",children:["ERROR: ",d]})}):c.jsx(kx,{roomCode:s,children:c.jsx(h1,{roomCode:s})})}Ib.createRoot(document.getElementById("root")).render(c.jsx(P.StrictMode,{children:c.jsx(f1,{})}));
